const P=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,It="8.54.0",F=globalThis;function sr(e,t,n){const r=F,s=r.__SENTRY__=r.__SENTRY__||{},o=s[It]=s[It]||{};return o[e]||(o[e]=t())}const Dt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ef="Sentry Logger ",es=["debug","info","warn","error","log","assert","trace"],ts={};function ft(e){if(!("console"in F))return e();const t=F.console,n={},r=Object.keys(ts);r.forEach(s=>{const o=ts[s];n[s]=t[s],t[s]=o});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function tf(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Dt?es.forEach(n=>{t[n]=(...r)=>{e&&ft(()=>{F.console[n](`${ef}[${n}]:`,...r)})}}):es.forEach(n=>{t[n]=()=>{}}),t}const y=sr("logger",tf),Zc=50,Ke="?",Qi=/\(error: (.*)\)/,ea=/captureMessage|captureException/;function Qc(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const o=[],i=n.split(`
`);for(let a=r;a<i.length;a++){const c=i[a];if(c.length>1024)continue;const u=Qi.test(c)?c.replace(Qi,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const l=d(u);if(l){o.push(l);break}}if(o.length>=Zc+s)break}}return rf(o.slice(s))}}function nf(e){return Array.isArray(e)?Qc(...e):e}function rf(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(br(t).function||"")&&t.pop(),t.reverse(),ea.test(br(t).function||"")&&(t.pop(),ea.test(br(t).function||"")&&t.pop()),t.slice(0,Zc).map(n=>({...n,filename:n.filename||br(t).filename,function:n.function||Ke}))}function br(e){return e[e.length-1]||{}}const js="<anonymous>";function st(e){try{return!e||typeof e!="function"?js:e.name||js}catch{return js}}function mo(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const Hr={},ta={};function Nt(e,t){Hr[e]=Hr[e]||[],Hr[e].push(t)}function Lt(e,t){if(!ta[e]){ta[e]=!0;try{t()}catch(n){Dt&&y.error(`Error while instrumenting ${e}`,n)}}}function Fe(e,t){const n=e&&Hr[e];if(n)for(const r of n)try{r(t)}catch(s){Dt&&y.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${st(r)}
Error:`,s)}}let qs=null;function eu(e){const t="error";Nt(t,e),Lt(t,sf)}function sf(){qs=F.onerror,F.onerror=function(e,t,n,r,s){return Fe("error",{column:r,error:s,line:n,msg:e,url:t}),qs?qs.apply(this,arguments):!1},F.onerror.__SENTRY_INSTRUMENTED__=!0}let Gs=null;function tu(e){const t="unhandledrejection";Nt(t,e),Lt(t,of)}function of(){Gs=F.onunhandledrejection,F.onunhandledrejection=function(e){return Fe("unhandledrejection",e),Gs?Gs.apply(this,arguments):!0},F.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function pt(){return ni(F),F}function ni(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||It,t[It]=t[It]||{}}const nu=Object.prototype.toString;function Tt(e){switch(nu.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return ot(e,Error)}}function Ln(e,t){return nu.call(e)===`[object ${t}]`}function ru(e){return Ln(e,"ErrorEvent")}function na(e){return Ln(e,"DOMError")}function af(e){return Ln(e,"DOMException")}function nt(e){return Ln(e,"String")}function ri(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function si(e){return e===null||ri(e)||typeof e!="object"&&typeof e!="function"}function Jt(e){return Ln(e,"Object")}function ws(e){return typeof Event<"u"&&ot(e,Event)}function cf(e){return typeof Element<"u"&&ot(e,Element)}function uf(e){return Ln(e,"RegExp")}function or(e){return!!(e&&e.then&&typeof e.then=="function")}function lf(e){return Jt(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function ot(e,t){try{return e instanceof t}catch{return!1}}function su(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}const Sn=F,df=80;function it(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let o=0,i=0;const a=" > ",c=a.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||df;for(;n&&o++<r&&(u=ff(n,d),!(u==="html"||o>1&&i+s.length*c+u.length>=l));)s.push(u),i+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function ff(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(Sn.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t&&t.length?t.filter(i=>n.getAttribute(i)).map(i=>[i,n.getAttribute(i)]):null;if(s&&s.length)s.forEach(i=>{r.push(`[${i[0]}="${i[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const i=n.className;if(i&&nt(i)){const a=i.split(/\s+/);for(const c of a)r.push(`.${c}`)}}const o=["aria-label","type","name","title","alt"];for(const i of o){const a=n.getAttribute(i);a&&r.push(`[${i}="${a}"]`)}return r.join("")}function oi(){try{return Sn.document.location.href}catch{return""}}function pf(e){return Sn.document&&Sn.document.querySelector?Sn.document.querySelector(e):null}function ou(e){if(!Sn.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function kt(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Ys(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let s=Math.max(t-60,0);s<5&&(s=0);let o=Math.min(s+140,r);return o>r-5&&(o=r),o===r&&(s=Math.max(o-140,0)),n=n.slice(s,o),s>0&&(n=`'{snip} ${n}`),o<r&&(n+=" {snip}"),n}function ns(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{su(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function hf(e,t,n=!1){return nt(e)?uf(t)?t.test(e):nt(t)?n?e===t:e.includes(t):!1:!1}function Ct(e,t=[],n=!1){return t.some(r=>hf(e,r,n))}function ke(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);typeof s=="function"&&iu(s,r);try{e[t]=s}catch{Dt&&y.log(`Failed to replace method "${t}" in object`,e)}}function Oe(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Dt&&y.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function iu(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Oe(e,"__sentry_original__",t)}catch{}}function ii(e){return e.__sentry_original__}function au(e){if(Tt(e))return{message:e.message,name:e.name,stack:e.stack,...sa(e)};if(ws(e)){const t={type:e.type,target:ra(e.target),currentTarget:ra(e.currentTarget),...sa(e)};return typeof CustomEvent<"u"&&ot(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function ra(e){try{return cf(e)?it(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function sa(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function mf(e,t=40){const n=Object.keys(au(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return kt(r,t);for(let s=n.length;s>0;s--){const o=n.slice(0,s).join(", ");if(!(o.length>t))return s===n.length?o:kt(o,t)}return""}function fe(e){return go(e,new Map)}function go(e,t){if(gf(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const s of Object.getOwnPropertyNames(e))typeof e[s]<"u"&&(r[s]=go(e[s],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(s=>{r.push(go(s,t))}),r}return e}function gf(e){if(!Jt(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const cu=1e3;function ir(){return Date.now()/cu}function _f(){const{performance:e}=F;if(!e||!e.now)return ir;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/cu}const ue=_f(),ve=(()=>{const{performance:e}=F;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=s<t,i=e.timing&&e.timing.navigationStart,c=typeof i=="number"?Math.abs(i+n-r):t,u=c<t;return o||u?s<=c?e.timeOrigin:i:r})();function Ce(){const e=F,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function uu(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function _t(e){const{message:t,event_id:n}=e;if(t)return t;const r=uu(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function _o(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],o=s[0]=s[0]||{};o.value||(o.value=t||""),o.type||(o.type="Error")}function Rt(e,t){const n=uu(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const o={...s&&s.data,...t.data};n.mechanism.data=o}}function yf(e,t,n=5){if(t.lineno===void 0)return;const r=e.length,s=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,s-n),s).map(i=>Ys(i,0));const o=Math.min(r-1,s);t.context_line=Ys(e[o],t.colno||0),t.post_context=e.slice(Math.min(s+1,r),s+1+n).map(i=>Ys(i,0))}function oa(e){if(Sf(e))return!0;try{Oe(e,"__sentry_captured__",!0)}catch{}return!1}function Sf(e){try{return e.__sentry_captured__}catch{}}var et;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(et||(et={}));function at(e){return new Pe(t=>{t(e)})}function rs(e){return new Pe((t,n)=>{n(e)})}class Pe{constructor(t){Pe.prototype.__init.call(this),Pe.prototype.__init2.call(this),Pe.prototype.__init3.call(this),Pe.prototype.__init4.call(this),this._state=et.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Pe((r,s)=>{this._handlers.push([!1,o=>{if(!t)r(o);else try{r(t(o))}catch(i){s(i)}},o=>{if(!n)s(o);else try{r(n(o))}catch(i){s(i)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Pe((n,r)=>{let s,o;return this.then(i=>{o=!1,s=i,t&&t()},i=>{o=!0,s=i,t&&t()}).then(()=>{if(o){r(s);return}n(s)})})}__init(){this._resolve=t=>{this._setResult(et.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(et.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===et.PENDING){if(or(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===et.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===et.RESOLVED&&n[1](this._value),this._state===et.REJECTED&&n[2](this._value),n[0]=!0)})}}}function bf(e){const t=ue(),n={sid:Ce(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>vf(n)};return e&&vn(n,e),n}function vn(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ue(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Ce()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Ef(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),vn(e,n)}function vf(e){return fe({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}function ct(){return Ce()}function Mt(){return Ce().substring(16)}function Is(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=Is(r[s],t[s],n-1));return r}const yo="_sentrySpan";function Zt(e,t){t?Oe(e,yo,t):delete e[yo]}function ss(e){return e[yo]}const wf=100;class ai{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:ct(),spanId:Mt()}}clone(){const t=new ai;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Zt(t,ss(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&vn(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,s]=n instanceof At?[n.getScopeData(),n.getRequestSession()]:Jt(n)?[t,t.requestSession]:[],{tags:o,extra:i,user:a,contexts:c,level:u,fingerprint:d=[],propagationContext:l}=r||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...i},this._contexts={...this._contexts,...c},a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),d.length&&(this._fingerprint=d),l&&(this._propagationContext=l),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Zt(this,void 0),this._attachments=[],this.setPropagationContext({traceId:ct()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:wf;if(r<=0)return this;const s={timestamp:ir(),...t};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:ss(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Is(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:Mt(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:Ce();if(!this._client)return y.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=r&&r.event_id?r.event_id:Ce();if(!this._client)return y.warn("No client configured on scope - will not capture message!"),s;const o=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:o,...r,event_id:s},this),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:Ce();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(y.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const At=ai;function If(){return sr("defaultCurrentScope",()=>new At)}function Tf(){return sr("defaultIsolationScope",()=>new At)}class kf{constructor(t,n){let r;t?r=t:r=new At;let s;n?s=n:s=new At,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return or(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function wn(){const e=pt(),t=ni(e);return t.stack=t.stack||new kf(If(),Tf())}function Cf(e){return wn().withScope(e)}function xf(e,t){const n=wn();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function ia(e){return wn().withScope(()=>e(wn().getIsolationScope()))}function Rf(){return{withIsolationScope:ia,withScope:Cf,withSetScope:xf,withSetIsolationScope:(e,t)=>ia(t),getCurrentScope:()=>wn().getScope(),getIsolationScope:()=>wn().getIsolationScope()}}function Pt(e){const t=ni(e);return t.acs?t.acs:Rf()}function B(){const e=pt();return Pt(e).getCurrentScope()}function ye(){const e=pt();return Pt(e).getIsolationScope()}function lu(){return sr("globalScope",()=>new At)}function Ge(...e){const t=pt(),n=Pt(t);if(e.length===2){const[r,s]=e;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(e[0])}function fI(...e){const t=pt(),n=Pt(t);if(e.length===2){const[r,s]=e;return r?n.withSetIsolationScope(r,s):n.withIsolationScope(s)}return n.withIsolationScope(e[0])}function x(){return B().getClient()}function Mf(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:s}=t;return fe({trace_id:n,span_id:r,parent_span_id:s})}const So="_sentryMetrics";function bo(e){const t=e[So];if(!t)return;const n={};for(const[,[r,s]]of t)(n[r]||(n[r]=[])).push(fe(s));return n}function Af(e,t,n,r,s,o,i){const c=e[So]||(e[So]=new Map),u=`${t}:${n}@${s}`,d=c.get(i);if(d){const[,l]=d;c.set(i,[u,{min:Math.min(l.min,r),max:Math.max(l.max,r),count:l.count+=1,sum:l.sum+=r,tags:l.tags}])}else c.set(i,[u,{min:r,max:r,count:1,sum:r,tags:o}])}const qe="sentry.source",du="sentry.sample_rate",Qt="sentry.op",Se="sentry.origin",Eo="sentry.idle_span_finish_reason",Ts="sentry.measurement_unit",ks="sentry.measurement_value",vo="sentry.custom_span_name",Of="sentry.profile_id",ci="sentry.exclusive_time",Df=0,fu=1,me=2;function Nf(e){if(e<400&&e>=100)return{code:fu};if(e>=400&&e<500)switch(e){case 401:return{code:me,message:"unauthenticated"};case 403:return{code:me,message:"permission_denied"};case 404:return{code:me,message:"not_found"};case 409:return{code:me,message:"already_exists"};case 413:return{code:me,message:"failed_precondition"};case 429:return{code:me,message:"resource_exhausted"};case 499:return{code:me,message:"cancelled"};default:return{code:me,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:me,message:"unimplemented"};case 503:return{code:me,message:"unavailable"};case 504:return{code:me,message:"deadline_exceeded"};default:return{code:me,message:"internal_error"}}return{code:me,message:"unknown_error"}}function pu(e,t){e.setAttribute("http.response.status_code",t);const n=Nf(t);n.message!=="unknown_error"&&e.setStatus(n)}const ui="sentry-",Lf=/^sentry-/,Pf=8192;function hu(e){const t=Ff(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,o])=>{if(s.match(Lf)){const i=s.slice(ui.length);r[i]=o}return r},{});if(Object.keys(n).length>0)return n}function mu(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${ui}${r}`]=s),n),{});return $f(t)}function Ff(e){if(!(!e||!nt(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=aa(n);return Object.entries(r).forEach(([s,o])=>{t[s]=o}),t},{}):aa(e)}function aa(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function $f(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const o=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,i=s===0?o:`${t},${o}`;return i.length>Pf?(Dt&&y.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):i},"")}const gu=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Hf(e){if(!e)return;const t=e.match(gu);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function _u(e,t){const n=Hf(e),r=hu(t);if(!n||!n.traceId)return{traceId:ct(),spanId:Mt()};const{traceId:s,parentSpanId:o,parentSampled:i}=n,a=Mt();return{traceId:s,parentSpanId:o,spanId:a,sampled:i,dsc:r||{}}}function yu(e=ct(),t=Mt(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}const Su=0,bu=1;let ca=!1;function Uf(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:o,status:i,origin:a}=W(e);return fe({parent_span_id:o,span_id:t,trace_id:n,data:r,op:s,status:i,origin:a})}function Bf(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),s=r?t:W(e).parent_span_id,o=r?Mt():t;return fe({parent_span_id:s,span_id:o,trace_id:n})}function Wf(e){const{traceId:t,spanId:n}=e.spanContext(),r=tn(e);return yu(t,n,r)}function Yt(e){return typeof e=="number"?ua(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?ua(e.getTime()):ue()}function ua(e){return e>9999999999?e/1e3:e}function W(e){if(jf(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(zf(e)){const{attributes:r,startTime:s,name:o,endTime:i,parentSpanId:a,status:c}=e;return fe({span_id:t,trace_id:n,data:r,description:o,parent_span_id:a,start_timestamp:Yt(s),timestamp:Yt(i)||void 0,status:Eu(c),op:r[Qt],origin:r[Se],_metrics_summary:bo(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function zf(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function jf(e){return typeof e.getSpanJSON=="function"}function tn(e){const{traceFlags:t}=e.spanContext();return t===bu}function Eu(e){if(!(!e||e.code===Df))return e.code===fu?"ok":e.message||"unknown_error"}const Vt="_sentryChildSpans",wo="_sentryRootSpan";function vu(e,t){const n=e[wo]||e;Oe(t,wo,n),e[Vt]?e[Vt].add(t):Oe(e,Vt,new Set([t]))}function qf(e,t){e[Vt]&&e[Vt].delete(t)}function Ur(e){const t=new Set;function n(r){if(!t.has(r)&&tn(r)){t.add(r);const s=r[Vt]?Array.from(r[Vt]):[];for(const o of s)n(o)}}return n(e),Array.from(t)}function ge(e){return e[wo]||e}function he(){const e=pt(),t=Pt(e);return t.getActiveSpan?t.getActiveSpan():ss(B())}function Gf(e,t,n,r,s,o){const i=he();i&&Af(i,e,t,n,r,s,o)}function wu(){ca||(ft(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),ca=!0)}function pI(e,t){e.updateName(t),e.setAttributes({[qe]:"custom",[vo]:t})}let la=!1;function Iu(){la||(la=!0,eu(Io),tu(Io))}function Io(){const e=he(),t=e&&ge(e);if(t){const n="internal_error";P&&y.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:me,message:n})}}Io.tag="sentry_tracingErrorCallback";const Tu="_sentryScope",ku="_sentryIsolationScope";function Yf(e,t,n){e&&(Oe(e,ku,n),Oe(e,Tu,t))}function da(e){return{scope:e[Tu],isolationScope:e[ku]}}function hI(){Iu()}function Ot(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=x(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}class Ft{constructor(t={}){this._traceId=t.traceId||ct(),this._spanId=t.spanId||Mt()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Su}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function li(e,t,n=()=>{}){let r;try{r=e()}catch(s){throw t(s),n(),s}return Vf(r,t,n)}function Vf(e,t,n){return or(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}const Cs="production",Cu="_frozenDsc";function fa(e,t){Oe(e,Cu,t)}function xu(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s=fe({environment:n.environment||Cs,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",s),s}function Ru(e,t){const n=t.getPropagationContext();return n.dsc||xu(n.traceId,e)}function $t(e){const t=x();if(!t)return{};const n=ge(e),r=n[Cu];if(r)return r;const s=n.spanContext().traceState,o=s&&s.get("sentry.dsc"),i=o&&hu(o);if(i)return i;const a=xu(e.spanContext().traceId,t),c=W(n),u=c.data||{},d=u[du];d!=null&&(a.sample_rate=`${d}`);const l=u[qe],f=c.description;return l!=="url"&&f&&(a.transaction=f),Ot()&&(a.sampled=String(tn(n))),t.emit("createDsc",a,n),a}function mI(e){const t=$t(e);return mu(t)}function Xf(e){if(!P)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=W(e),{spanId:s}=e.spanContext(),o=tn(e),i=ge(e),a=i===e,c=`[Tracing] Starting ${o?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${s}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:d,description:l}=W(i);u.push(`root ID: ${i.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}y.log(`${c}
  ${u.join(`
  `)}`)}function Kf(e){if(!P)return;const{description:t="< unknown name >",op:n="< unknown op >"}=W(e),{spanId:r}=e.spanContext(),o=ge(e)===e,i=`[Tracing] Finishing "${n}" ${o?"root ":""}span "${t}" with ID ${r}`;y.log(i)}function os(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){P&&y.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function Jf(e,t){if(!Ot(e))return[!1];const n=ye().getScopeData().sdkProcessingMetadata.normalizedRequest,r={...t,normalizedRequest:t.normalizedRequest||n};let s;typeof e.tracesSampler=="function"?s=e.tracesSampler(r):r.parentSampled!==void 0?s=r.parentSampled:typeof e.tracesSampleRate<"u"?s=e.tracesSampleRate:s=1;const o=os(s);return o===void 0?(P&&y.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):o?Math.random()<o?[!0,o]:(P&&y.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[!1,o]):(P&&y.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,o])}const Zf=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Qf(e){return e==="http"||e==="https"}function nn(e,t=!1){const{host:n,path:r,pass:s,port:o,projectId:i,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${o?`:${o}`:""}/${r&&`${r}/`}${i}`}function Mu(e){const t=Zf.exec(e);if(!t){ft(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,s="",o="",i="",a=""]=t.slice(1);let c="",u=a;const d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){const l=u.match(/^\d+/);l&&(u=l[0])}return Au({host:o,pass:s,path:c,projectId:u,port:i,protocol:n,publicKey:r})}function Au(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function ep(e){if(!Dt)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(i=>e[i]?!1:(y.error(`Invalid Sentry Dsn: ${i} missing`),!0))?!1:n.match(/^\d+$/)?Qf(r)?t&&isNaN(parseInt(t,10))?(y.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(y.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(y.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Ou(e){const t=typeof e=="string"?Mu(e):Au(e);if(!(!t||!ep(t)))return t}function tp(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(s){if(e)return t.has(s)?!0:(t.add(s),!1);for(let o=0;o<t.length;o++)if(t[o]===s)return!0;return t.push(s),!1}function r(s){if(e)t.delete(s);else for(let o=0;o<t.length;o++)if(t[o]===s){t.splice(o,1);break}}return[n,r]}function Le(e,t=100,n=1/0){try{return To("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Du(e,t=3,n=100*1024){const r=Le(e,t);return op(r)>n?Du(e,t-1,n):r}function To(e,t,n=1/0,r=1/0,s=tp()){const[o,i]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=np(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(o(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const p=u.toJSON();return To("",p,c-1,r,s)}catch{}const d=Array.isArray(t)?[]:{};let l=0;const f=au(t);for(const p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(l>=r){d[p]="[MaxProperties ~]";break}const h=f[p];d[p]=To(p,h,c-1,r,s),l++}return i(t),d}function np(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(su(t))return"[VueViewModel]";if(lf(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${st(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=rp(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function rp(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function sp(e){return~-encodeURI(e).split(/%..|./).length}function op(e){return sp(JSON.stringify(e))}function ht(e,t=[]){return[e,t]}function ip(e,t){const[n,r]=e;return[n,[...r,t]]}function en(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function pa(e,t){return en(e,(n,r)=>t.includes(r))}function is(e){return F.__SENTRY__&&F.__SENTRY__.encodePolyfill?F.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function ap(e){return F.__SENTRY__&&F.__SENTRY__.decodePolyfill?F.__SENTRY__.decodePolyfill(e):new TextDecoder().decode(e)}function as(e){const[t,n]=e;let r=JSON.stringify(t);function s(o){typeof r=="string"?r=typeof o=="string"?r+o:[is(r),o]:r.push(typeof o=="string"?is(o):o)}for(const o of n){const[i,a]=o;if(s(`
${JSON.stringify(i)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(Le(a))}s(c)}}return typeof r=="string"?r:cp(r)}function cp(e){const t=e.reduce((s,o)=>s+o.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function up(e){let t=typeof e=="string"?is(e):e;function n(i){const a=t.subarray(0,i);return t=t.subarray(i+1),a}function r(){let i=t.indexOf(10);return i<0&&(i=t.length),JSON.parse(ap(n(i)))}const s=r(),o=[];for(;t.length;){const i=r(),a=typeof i.length=="number"?i.length:void 0;o.push([i,a?n(a):r()])}return[s,o]}function lp(e){return[{type:"span"},e]}function dp(e){const t=typeof e.data=="string"?is(e.data):e.data;return[fe({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const fp={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function ha(e){return fp[e]}function di(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Nu(e,t,n,r){const s=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:nn(r)},...s&&{trace:fe({...s})}}}function pp(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function hp(e,t,n,r){const s=di(n),o={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:nn(t)}},i="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return ht(o,[i])}function mp(e,t,n,r){const s=di(n),o=e.type&&e.type!=="replay_event"?e.type:"event";pp(e,n&&n.sdk);const i=Nu(e,s,r,t);return delete e.sdkProcessingMetadata,ht(i,[[{type:o},e]])}function gp(e,t){function n(d){return!!d.trace_id&&!!d.public_key}const r=$t(e[0]),s=t&&t.getDsn(),o=t&&t.getOptions().tunnel,i={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!o&&s&&{dsn:nn(s)}},a=t&&t.getOptions().beforeSendSpan,c=a?d=>{const l=a(W(d));return l||wu(),l}:d=>W(d),u=[];for(const d of e){const l=c(d);l&&u.push(lp(l))}return ht(i,u)}function _p(e,t,n,r=he()){const s=r&&ge(r);s&&(P&&y.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),s.addEvent(e,{[ks]:t,[Ts]:n}))}function ma(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},s=r[Ts],o=r[ks];typeof s=="string"&&typeof o=="number"&&(t[n.name]={value:o,unit:s})}),t}const ga=1e3;class fi{constructor(t={}){this._traceId=t.traceId||ct(),this._spanId=t.spanId||Mt(),this._startTime=t.startTimestamp||ue(),this._attributes={},this.setAttributes({[Se]:"manual",[Qt]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?bu:Su}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Yt(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(qe,"custom"),this}end(t){this._endTime||(this._endTime=Yt(t),Kf(this),this._onSpanEnded())}getSpanJSON(){return fe({data:this._attributes,description:this._name,op:this._attributes[Qt],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Eu(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Se],_metrics_summary:bo(this),profile_id:this._attributes[Of],exclusive_time:this._attributes[ci],measurements:ma(this._events),is_segment:this._isStandaloneSpan&&ge(this)===this||void 0,segment_id:this._isStandaloneSpan?ge(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){P&&y.log("[Tracing] Adding an event to span:",t);const s=_a(n)?n:r||ue(),o=_a(n)?{}:n||{},i={name:t,time:Yt(s),attributes:o};return this._events.push(i),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=x();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===ge(this)))return;if(this._isStandaloneSpan){this._sampled?Sp(gp([this],t)):(P&&y.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(da(this).scope||B()).captureEvent(r)}_convertSpanToTransaction(){if(!ya(W(this)))return;this._name||(P&&y.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=da(this),s=(t||B()).getClient()||x();if(this._sampled!==!0){P&&y.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),s&&s.recordDroppedEvent("sample_rate","transaction");return}const i=Ur(this).filter(l=>l!==this&&!yp(l)).map(l=>W(l)).filter(ya),a=this._attributes[qe];delete this._attributes[vo],i.forEach(l=>{l.data&&delete l.data[vo]});const c={contexts:{trace:Uf(this)},spans:i.length>ga?i.sort((l,f)=>l.start_timestamp-f.start_timestamp).slice(0,ga):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,...fe({dynamicSamplingContext:$t(this)})},_metrics_summary:bo(this),...a&&{transaction_info:{source:a}}},u=ma(this._events);return u&&Object.keys(u).length&&(P&&y.log("[Measurements] Adding measurements to transaction event",JSON.stringify(u,void 0,2)),c.measurements=u),c}}function _a(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function ya(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function yp(e){return e instanceof fi&&e.isStandaloneSpan()}function Sp(e){const t=x();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}const pi="__SENTRY_SUPPRESS_TRACING__";function gI(e,t){const n=cr();if(n.startSpan)return n.startSpan(e,t);const r=mi(e),{forceTransaction:s,parentSpan:o}=e;return Ge(e.scope,()=>Lu(o)(()=>{const a=B(),c=gi(a),d=e.onlyIfParent&&!c?new Ft:hi({parentSpan:c,spanArguments:r,forceTransaction:s,scope:a});return Zt(a,d),li(()=>t(d),()=>{const{status:l}=W(d);d.isRecording()&&(!l||l==="ok")&&d.setStatus({code:me,message:"internal_error"})},()=>d.end())}))}function bp(e,t){const n=cr();if(n.startSpanManual)return n.startSpanManual(e,t);const r=mi(e),{forceTransaction:s,parentSpan:o}=e;return Ge(e.scope,()=>Lu(o)(()=>{const a=B(),c=gi(a),d=e.onlyIfParent&&!c?new Ft:hi({parentSpan:c,spanArguments:r,forceTransaction:s,scope:a});Zt(a,d);function l(){d.end()}return li(()=>t(d,l),()=>{const{status:f}=W(d);d.isRecording()&&(!f||f==="ok")&&d.setStatus({code:me,message:"internal_error"})})}))}function ar(e){const t=cr();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=mi(e),{forceTransaction:r,parentSpan:s}=e;return(e.scope?i=>Ge(e.scope,i):s!==void 0?i=>xs(s,i):i=>i())(()=>{const i=B(),a=gi(i);return e.onlyIfParent&&!a?new Ft:hi({parentSpan:a,spanArguments:n,forceTransaction:r,scope:i})})}const _I=(e,t)=>{const n=pt(),r=Pt(n);if(r.continueTrace)return r.continueTrace(e,t);const{sentryTrace:s,baggage:o}=e;return Ge(i=>{const a=_u(s,o);return i.setPropagationContext(a),t()})};function xs(e,t){const n=cr();return n.withActiveSpan?n.withActiveSpan(e,t):Ge(r=>(Zt(r,e||void 0),t(r)))}function yI(e){const t=cr();return t.suppressTracing?t.suppressTracing(e):Ge(n=>(n.setSDKProcessingMetadata({[pi]:!0}),e()))}function SI(e){return Ge(t=>(t.setPropagationContext({traceId:ct()}),P&&y.info(`Starting a new trace with id ${t.getPropagationContext().traceId}`),xs(null,e)))}function hi({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!Ot())return new Ft;const s=ye();let o;if(e&&!n)o=Ep(e,r,t),vu(e,o);else if(e){const i=$t(e),{traceId:a,spanId:c}=e.spanContext(),u=tn(e);o=Sa({traceId:a,parentSpanId:c,...t},r,u),fa(o,i)}else{const{traceId:i,dsc:a,parentSpanId:c,sampled:u}={...s.getPropagationContext(),...r.getPropagationContext()};o=Sa({traceId:i,parentSpanId:c,...t},r,u),a&&fa(o,a)}return Xf(o),Yf(o,r,s),o}function mi(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=Yt(e.startTime),delete r.startTime,r}return n}function cr(){const e=pt();return Pt(e)}function Sa(e,t,n){const r=x(),s=r&&r.getOptions()||{},{name:o="",attributes:i}=e,[a,c]=t.getScopeData().sdkProcessingMetadata[pi]?[!1]:Jf(s,{name:o,parentSampled:n,attributes:i,transactionContext:{name:o,parentSampled:n}}),u=new fi({...e,attributes:{[qe]:"custom",...e.attributes},sampled:a});return c!==void 0&&u.setAttribute(du,c),r&&r.emit("spanStart",u),u}function Ep(e,t,n){const{spanId:r,traceId:s}=e.spanContext(),o=t.getScopeData().sdkProcessingMetadata[pi]?!1:tn(e),i=o?new fi({...n,parentSpanId:r,traceId:s,sampled:o}):new Ft({traceId:s});vu(e,i);const a=x();return a&&(a.emit("spanStart",i),n.endTimestamp&&a.emit("spanEnd",i)),i}function gi(e){const t=ss(e);if(!t)return;const n=x();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?ge(t):t}function Lu(e){return e!==void 0?t=>xs(e,t):t=>t()}const Br={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},vp="heartbeatFailed",wp="idleTimeout",Ip="finalTimeout",Tp="externalFinish";function Pu(e,t={}){const n=new Map;let r=!1,s,o=Tp,i=!t.disableAutoFinish;const a=[],{idleTimeout:c=Br.idleTimeout,finalTimeout:u=Br.finalTimeout,childSpanTimeout:d=Br.childSpanTimeout,beforeSpanEnd:l}=t,f=x();if(!f||!Ot())return new Ft;const p=B(),h=he(),m=kp(e);m.end=new Proxy(m.end,{apply(w,v,C){l&&l(m);const[b,...g]=C,I=b||ue(),T=Yt(I),N=Ur(m).filter($=>$!==m);if(!N.length)return A(T),Reflect.apply(w,v,[T,...g]);const G=N.map($=>W($).timestamp).filter($=>!!$),z=G.length?Math.max(...G):void 0,R=W(m).start_timestamp,oe=Math.min(R?R+u/1e3:1/0,Math.max(R||-1/0,Math.min(T,z||1/0)));return A(oe),Reflect.apply(w,v,[oe,...g])}});function S(){s&&(clearTimeout(s),s=void 0)}function _(w){S(),s=setTimeout(()=>{!r&&n.size===0&&i&&(o=wp,m.end(w))},c)}function E(w){s=setTimeout(()=>{!r&&i&&(o=vp,m.end(w))},d)}function M(w){S(),n.set(w,!0);const v=ue();E(v+d/1e3)}function O(w){if(n.has(w)&&n.delete(w),n.size===0){const v=ue();_(v+c/1e3)}}function A(w){r=!0,n.clear(),a.forEach(T=>T()),Zt(p,h);const v=W(m),{start_timestamp:C}=v;if(!C)return;(v.data||{})[Eo]||m.setAttribute(Eo,o),y.log(`[Tracing] Idle span "${v.op}" finished`);const g=Ur(m).filter(T=>T!==m);let I=0;g.forEach(T=>{T.isRecording()&&(T.setStatus({code:me,message:"cancelled"}),T.end(w),P&&y.log("[Tracing] Cancelling span since span ended early",JSON.stringify(T,void 0,2)));const N=W(T),{timestamp:G=0,start_timestamp:z=0}=N,R=z<=w,oe=(u+c)/1e3,$=G-z<=oe;if(P){const Q=JSON.stringify(T,void 0,2);R?$||y.log("[Tracing] Discarding span since it finished after idle span final timeout",Q):y.log("[Tracing] Discarding span since it happened after idle span was finished",Q)}(!$||!R)&&(qf(m,T),I++)}),I>0&&m.setAttribute("sentry.idle_span_discarded_spans",I)}return a.push(f.on("spanStart",w=>{if(r||w===m||W(w).timestamp)return;Ur(m).includes(w)&&M(w.spanContext().spanId)})),a.push(f.on("spanEnd",w=>{r||O(w.spanContext().spanId)})),a.push(f.on("idleSpanEnableAutoFinish",w=>{w===m&&(i=!0,_(),n.size&&E())})),t.disableAutoFinish||_(),setTimeout(()=>{r||(m.setStatus({code:me,message:"deadline_exceeded"}),o=Ip,m.end())},u),m}function kp(e){const t=ar(e);return Zt(B(),t),P&&y.log("[Tracing] Started span is an idle span"),t}function ko(e,t,n,r=0){return new Pe((s,o)=>{const i=e[r];if(t===null||typeof i!="function")s(t);else{const a=i({...t},n);P&&i.id&&a===null&&y.log(`Event processor "${i.id}" dropped event`),or(a)?a.then(c=>ko(e,c,n,r+1).then(s)).then(null,o):ko(e,a,n,r+1).then(s).then(null,o)}})}let Er,ba,vr;function Fu(e){const t=F._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return vr&&n.length===ba||(ba=n.length,vr=n.reduce((r,s)=>{Er||(Er={});const o=Er[s];if(o)r[o[0]]=o[1];else{const i=e(s);for(let a=i.length-1;a>=0;a--){const c=i[a],u=c&&c.filename,d=t[s];if(u&&d){r[u]=d,Er[s]=[u,d];break}}}return r},{})),vr}function Cp(e,t){const n=Fu(e);if(!n)return[];const r=[];for(const s of t)s&&n[s]&&r.push({type:"sourcemap",code_file:s,debug_id:n[s]});return r}function xp(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:o}=t;Rp(e,t),r&&Op(e,r),Dp(e,n),Mp(e,s),Ap(e,o)}function Ea(e,t){const{extra:n,tags:r,user:s,contexts:o,level:i,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:l,propagationContext:f,transactionName:p,span:h}=t;wr(e,"extra",n),wr(e,"tags",r),wr(e,"user",s),wr(e,"contexts",o),e.sdkProcessingMetadata=Is(e.sdkProcessingMetadata,a,2),i&&(e.level=i),p&&(e.transactionName=p),h&&(e.span=h),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext={...e.propagationContext,...f}}function wr(e,t,n){e[t]=Is(e[t],n,1)}function Rp(e,t){const{extra:n,tags:r,user:s,contexts:o,level:i,transactionName:a}=t,c=fe(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});const u=fe(r);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const d=fe(s);d&&Object.keys(d).length&&(e.user={...d,...e.user});const l=fe(o);l&&Object.keys(l).length&&(e.contexts={...l,...e.contexts}),i&&(e.level=i),a&&e.type!=="transaction"&&(e.transaction=a)}function Mp(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function Ap(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function Op(e,t){e.contexts={trace:Bf(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:$t(t),...e.sdkProcessingMetadata};const n=ge(t),r=W(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function Dp(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function $u(e,t,n,r,s,o){const{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||Ce(),timestamp:t.timestamp||ir()},u=n.integrations||e.integrations.map(S=>S.name);Np(c,e),Fp(c,u),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&Lp(c,e.stackParser);const d=Hp(r,n.captureContext);n.mechanism&&Rt(c,n.mechanism);const l=s?s.getEventProcessors():[],f=lu().getScopeData();if(o){const S=o.getScopeData();Ea(f,S)}if(d){const S=d.getScopeData();Ea(f,S)}const p=[...n.attachments||[],...f.attachments];p.length&&(n.attachments=p),xp(c,f);const h=[...l,...f.eventProcessors];return ko(h,c,n).then(S=>(S&&Pp(S),typeof i=="number"&&i>0?$p(S,i,a):S))}function Np(e,t){const{environment:n,release:r,dist:s,maxValueLength:o=250}=t;e.environment=e.environment||n||Cs,!e.release&&r&&(e.release=r),!e.dist&&s&&(e.dist=s),e.message&&(e.message=kt(e.message,o));const i=e.exception&&e.exception.values&&e.exception.values[0];i&&i.value&&(i.value=kt(i.value,o));const a=e.request;a&&a.url&&(a.url=kt(a.url,o))}function Lp(e,t){const n=Fu(t);try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{n&&s.filename&&(s.debug_id=n[s.filename])})})}catch{}}function Pp(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{s.debug_id&&(s.abs_path?t[s.abs_path]=s.debug_id:s.filename&&(t[s.filename]=s.debug_id),delete s.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,s])=>{n.push({type:"sourcemap",code_file:r,debug_id:s})})}function Fp(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function $p(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(s=>({...s,...s.data&&{data:Le(s.data,t,n)}}))},...e.user&&{user:Le(e.user,t,n)},...e.contexts&&{contexts:Le(e.contexts,t,n)},...e.extra&&{extra:Le(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Le(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(s=>({...s,...s.data&&{data:Le(s.data,t,n)}}))),e.contexts&&e.contexts.flags&&r.contexts&&(r.contexts.flags=Le(e.contexts.flags,3,n)),r}function Hp(e,t){if(!t)return e;const n=e?e.clone():new At;return n.update(t),n}function Up(e){if(e)return Bp(e)?{captureContext:e}:zp(e)?{captureContext:e}:e}function Bp(e){return e instanceof At||typeof e=="function"}const Wp=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function zp(e){return Object.keys(e).some(t=>Wp.includes(t))}function _i(e,t){return B().captureException(e,Up(t))}function Co(e,t){const n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return B().captureMessage(e,n,r)}function ur(e,t){return B().captureEvent(e,t)}function Hu(e,t){ye().setContext(e,t)}function jp(e){ye().setExtras(e)}function qp(e,t){ye().setExtra(e,t)}function Gp(e){ye().setTags(e)}function Yp(e,t){ye().setTag(e,t)}function Vp(e){ye().setUser(e)}function Xp(){return ye().lastEventId()}async function bI(e){const t=x();return t?t.flush(e):(P&&y.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function EI(e){const t=x();return t?t.close(e):(P&&y.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function vI(){return!!x()}function Kp(){const e=x();return!!e&&e.getOptions().enabled!==!1&&!!e.getTransport()}function Jp(e){ye().addEventProcessor(e)}function xo(e){const t=x(),n=ye(),r=B(),{release:s,environment:o=Cs}=t&&t.getOptions()||{},{userAgent:i}=F.navigator||{},a=bf({release:s,environment:o,user:r.getUser()||n.getUser(),...i&&{userAgent:i},...e}),c=n.getSession();return c&&c.status==="ok"&&vn(c,{status:"exited"}),cs(),n.setSession(a),r.setSession(a),a}function cs(){const e=ye(),t=B(),n=t.getSession()||e.getSession();n&&Ef(n),Uu(),e.setSession(),t.setSession()}function Uu(){const e=ye(),t=B(),n=x(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function va(e=!1){if(e){cs();return}Uu()}const Zp="7";function Bu(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Qp(e){return`${Bu(e)}${e.projectId}/envelope/`}function eh(e,t){const n={sentry_version:Zp};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function Wu(e,t,n){return t||`${Qp(e)}?${eh(e,n)}`}function th(e,t){const n=Ou(e);if(!n)return"";const r=`${Bu(n)}embed/error-page/`;let s=`dsn=${nn(n)}`;for(const o in t)if(o!=="dsn"&&o!=="onClose")if(o==="user"){const i=t.user;if(!i)continue;i.name&&(s+=`&name=${encodeURIComponent(i.name)}`),i.email&&(s+=`&email=${encodeURIComponent(i.email)}`)}else s+=`&${encodeURIComponent(o)}=${encodeURIComponent(t[o])}`;return`${r}?${s}`}const wa=[];function nh(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function rh(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(i=>{i.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const i=n(t);r=Array.isArray(i)?i:[i]}else r=t;const s=nh(r),o=s.findIndex(i=>i.name==="Debug");if(o>-1){const[i]=s.splice(o,1);s.push(i)}return s}function sh(e,t){const n={};return t.forEach(r=>{r&&zu(e,r,n)}),n}function Ia(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function zu(e,t,n){if(n[t.name]){P&&y.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,wa.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),wa.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,o)=>r(s,o,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((o,i)=>r(o,i,e),{id:t.name});e.addEventProcessor(s)}P&&y.log(`Integration installed: ${t.name}`)}function Ta(e){const t=x();if(!t){P&&y.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function oh(e,t,n){const r=[{type:"client_report"},{timestamp:ir(),discarded_events:e}];return ht(t?{dsn:t}:{},[r])}class ze extends Error{constructor(t,n="warn"){super(t),this.message=t,this.logLevel=n}}const ka="Not capturing exception because it's already been captured.";class ih{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Ou(t.dsn):P&&y.warn("No DSN provided, client will not send events."),this._dsn){const s=Wu(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:s})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(s=>s in t&&t[s]==null);r&&ft(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const s=Ce();if(oa(t))return P&&y.log(ka),s;const o={event_id:s,...n};return this._process(this.eventFromException(t,o).then(i=>this._captureEvent(i,o,r))),o.event_id}captureMessage(t,n,r,s){const o={event_id:Ce(),...r},i=ri(t)?t:String(t),a=si(t)?this.eventFromMessage(i,n,o):this.eventFromException(t,o);return this._process(a.then(c=>this._captureEvent(c,o,s))),o.event_id}captureEvent(t,n,r){const s=Ce();if(n&&n.originalException&&oa(n.originalException))return P&&y.log(ka),s;const o={event_id:s,...n},a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,o,a||r)),o.event_id}captureSession(t){typeof t.release!="string"?P&&y.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),vn(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):at(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];zu(this,t,this._integrations),n||Ia(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=mp(t,this._dsn,this._options._metadata,this._options.tunnel);for(const o of n.attachments||[])r=ip(r,dp(o));const s=this.sendEnvelope(r);s&&s.then(o=>this.emit("afterSendEvent",t,o),null)}sendSession(t){const n=hp(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const s=typeof r=="number"?r:1,o=`${t}:${n}`;P&&y.log(`Recording outcome: "${o}"${s>1?` (${s} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+s}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(P&&y.error("Error while sending envelope:",n),n)):(P&&y.error("Transport disabled"),at({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=sh(this,t),Ia(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",s=!1;const o=n.exception&&n.exception.values;if(o){s=!0;for(const c of o){const u=c.mechanism;if(u&&u.handled===!1){r=!0;break}}}const i=t.status==="ok";(i&&t.errors===0||i&&r)&&(vn(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Pe(n=>{let r=0;const s=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),n(!0)):(r+=s,t&&r>=t&&(clearInterval(o),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=B(),s=ye()){const o=this.getOptions(),i=Object.keys(this._integrations);return!n.integrations&&i.length>0&&(n.integrations=i),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),$u(o,t,n,r,this,s).then(a=>{if(a===null)return a;a.contexts={trace:Mf(r),...a.contexts};const c=Ru(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(s=>s.event_id,s=>{P&&(s instanceof ze&&s.logLevel==="log"?y.log(s.message):y.warn(s))})}_processEvent(t,n,r){const s=this.getOptions(),{sampleRate:o}=s,i=qu(t),a=ju(t),c=t.type||"error",u=`before send for type \`${c}\``,d=typeof o>"u"?void 0:os(o);if(a&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),rs(new ze(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const l=c==="replay_event"?"replay":c,p=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,p).then(h=>{if(h===null)throw this.recordDroppedEvent("event_processor",l,t),new ze("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return h;const S=ch(this,s,h,n);return ah(S,u)}).then(h=>{if(h===null){if(this.recordDroppedEvent("before_send",l,t),i){const E=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",E)}throw new ze(`${u} returned \`null\`, will not send event.`,"log")}const m=r&&r.getSession();if(!i&&m&&this._updateSessionFromEvent(m,h),i){const _=h.sdkProcessingMetadata&&h.sdkProcessingMetadata.spanCountBeforeProcessing||0,E=h.spans?h.spans.length:0,M=_-E;M>0&&this.recordDroppedEvent("before_send","span",M)}const S=h.transaction_info;if(i&&S&&h.transaction!==t.transaction){const _="custom";h.transaction_info={...S,source:_}}return this.sendEvent(h,n),h}).then(null,h=>{throw h instanceof ze?h:(this.captureException(h,{data:{__sentry__:!0},originalException:h}),new ze(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${h}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,o]=n.split(":");return{reason:s,category:o,quantity:r}})}_flushOutcomes(){P&&y.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){P&&y.log("No outcomes to send");return}if(!this._dsn){P&&y.log("No dsn provided, will not send outcomes");return}P&&y.log("Sending outcomes:",t);const n=oh(t,this._options.tunnel&&nn(this._dsn));this.sendEnvelope(n)}}function ah(e,t){const n=`${t} must return \`null\` or a valid event.`;if(or(e))return e.then(r=>{if(!Jt(r)&&r!==null)throw new ze(n);return r},r=>{throw new ze(`${t} rejected with ${r}`)});if(!Jt(e)&&e!==null)throw new ze(n);return e}function ch(e,t,n,r){const{beforeSend:s,beforeSendTransaction:o,beforeSendSpan:i}=t;if(ju(n)&&s)return s(n,r);if(qu(n)){if(n.spans&&i){const a=[];for(const c of n.spans){const u=i(c);u?a.push(u):(wu(),e.recordDroppedEvent("before_send","span"))}n.spans=a}if(o){if(n.spans){const a=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:a}}return o(n,r)}}return n}function ju(e){return e.type===void 0}function qu(e){return e.type==="transaction"}function uh(e,t){t.debug===!0&&(P?y.enable():ft(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),B().update(t.initialScope);const r=new e(t);return lh(r),r.init(),r}function lh(e){B().setClient(e)}function dh(e){const t=[];function n(){return e===void 0||t.length<e}function r(i){return t.splice(t.indexOf(i),1)[0]||Promise.resolve(void 0)}function s(i){if(!n())return rs(new ze("Not adding Promise because buffer limit was reached."));const a=i();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function o(i){return new Pe((a,c)=>{let u=t.length;if(!u)return a(!0);const d=setTimeout(()=>{i&&i>0&&a(!1)},i);t.forEach(l=>{at(l).then(()=>{--u||(clearTimeout(d),a(!0))},c)})})}return{$:t,add:s,drain:o}}const fh=60*1e3;function Gu(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?fh:r-t}function ph(e,t){return e[t]||e.all||0}function Yu(e,t,n=Date.now()){return ph(e,t)>n}function Vu(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},o=n&&n["x-sentry-rate-limits"],i=n&&n["retry-after"];if(o)for(const a of o.trim().split(",")){const[c,u,,,d]=a.split(":",5),l=parseInt(c,10),f=(isNaN(l)?60:l)*1e3;if(!u)s.all=r+f;else for(const p of u.split(";"))p==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(s[p]=r+f):s[p]=r+f}else i?s.all=r+Gu(i,r):t===429&&(s.all=r+60*1e3);return s}const hh=64;function mh(e,t,n=dh(e.bufferSize||hh)){let r={};const s=i=>n.drain(i);function o(i){const a=[];if(en(i,(l,f)=>{const p=ha(f);if(Yu(r,p)){const h=Ca(l,f);e.recordDroppedEvent("ratelimit_backoff",p,h)}else a.push(l)}),a.length===0)return at({});const c=ht(i[0],a),u=l=>{en(c,(f,p)=>{const h=Ca(f,p);e.recordDroppedEvent(l,ha(p),h)})},d=()=>t({body:as(c)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&P&&y.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=Vu(r,l),l),l=>{throw u("network_error"),l});return n.add(d).then(l=>l,l=>{if(l instanceof ze)return P&&y.error("Skipped sending event because buffer is full."),u("queue_overflow"),at({});throw l})}return{send:o,flush:s}}function Ca(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}const Vs=100,Xs=5e3,gh=36e5;function _h(e){function t(...n){P&&y.info("[Offline]:",...n)}return n=>{const r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");const s=n.createStore(n);let o=Xs,i;function a(l,f,p){return pa(l,["client_report"])?!1:n.shouldStore?n.shouldStore(l,f,p):!0}function c(l){i&&clearTimeout(i),i=setTimeout(async()=>{i=void 0;const f=await s.shift();f&&(t("Attempting to send previously queued event"),f[0].sent_at=new Date().toISOString(),d(f,!0).catch(p=>{t("Failed to retry sending",p)}))},l),typeof i!="number"&&i.unref&&i.unref()}function u(){i||(c(o),o=Math.min(o*2,gh))}async function d(l,f=!1){if(!f&&pa(l,["replay_event","replay_recording"]))return await s.push(l),c(Vs),{};try{const p=await r.send(l);let h=Vs;if(p){if(p.headers&&p.headers["retry-after"])h=Gu(p.headers["retry-after"]);else if(p.headers&&p.headers["x-sentry-rate-limits"])h=6e4;else if((p.statusCode||0)>=400)return p}return c(h),o=Xs,p}catch(p){if(await a(l,p,o))return f?await s.unshift(l):await s.push(l),u(),t("Error sending. Event queued.",p),{};throw p}}return n.flushAtStartup&&u(),{send:d,flush:l=>(l===void 0&&(o=Xs,c(Vs)),r.flush(l))}}}function Xu(e,t){let n;return en(e,(r,s)=>(t.includes(s)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function yh(e,t){return n=>{const r=e(n);return{...r,send:async s=>{const o=Xu(s,["event","transaction","profile","replay_event"]);return o&&(o.release=t),r.send(s)}}}}function Sh(e,t){return ht(t?{...e[0],dsn:t}:e[0],e[1])}function wI(e,t){return n=>{const r=e(n),s=new Map;function o(c,u){const d=u?`${c}:${u}`:c;let l=s.get(d);if(!l){const f=Mu(c);if(!f)return;const p=Wu(f,n.tunnel);l=u?yh(e,u)({...n,url:p}):e({...n,url:p}),s.set(d,l)}return[c,l]}async function i(c){function u(p){const h=p&&p.length?p:["event"];return Xu(c,h)}const d=t({envelope:c,getEvent:u}).map(p=>typeof p=="string"?o(p,void 0):o(p.dsn,p.release)).filter(p=>!!p),l=d.length?d:[["",r]];return(await Promise.all(l.map(([p,h])=>h.send(Sh(c,p)))))[0]}async function a(c){const u=[...s.values(),r];return(await Promise.all(u.map(l=>l.flush(c)))).every(l=>l)}return{send:i,flush:a}}}function Ku(e,t){const n=t&&t.getDsn(),r=t&&t.getOptions().tunnel;return Eh(e,n)||bh(e,r)}function bh(e,t){return t?xa(e)===xa(t):!1}function Eh(e,t){return t?e.includes(t.host):!1}function xa(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function II(e,...t){const n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}function vh(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(o=>({name:`${r}:@sentry/${o}`,version:It})),version:It}),e._metadata=s}function Ju(e={}){const t=x();if(!Kp()||!t)return{};const n=pt(),r=Pt(n);if(r.getTraceData)return r.getTraceData(e);const s=B(),o=e.span||he(),i=o?Wf(o):wh(s),a=o?$t(o):Ru(t,s),c=mu(a);return gu.test(i)?{"sentry-trace":i,baggage:c}:(y.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function wh(e){const{traceId:t,sampled:n,spanId:r}=e.getPropagationContext();return yu(t,r,n)}const Ih=100;function ut(e,t){const n=x(),r=ye();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=Ih}=n.getOptions();if(o<=0)return;const a={timestamp:ir(),...e},c=s?ft(()=>s(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,o))}let Ra;const Th="FunctionToString",Ma=new WeakMap,kh=()=>({name:Th,setupOnce(){Ra=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=ii(this),n=Ma.has(x())&&t!==void 0?t:this;return Ra.apply(n,e)}}catch{}},setup(e){Ma.set(e,!0)}}),Ch=kh,xh=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],Rh="InboundFilters",Mh=(e={})=>({name:Rh,processEvent(t,n,r){const s=r.getOptions(),o=Oh(e,s);return Dh(t,o)?null:t}}),Ah=Mh;function Oh(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:xh],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function Dh(e,t){return t.ignoreInternal&&Hh(e)?(P&&y.warn(`Event dropped due to being internal Sentry Error.
Event: ${_t(e)}`),!0):Nh(e,t.ignoreErrors)?(P&&y.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${_t(e)}`),!0):Bh(e)?(P&&y.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${_t(e)}`),!0):Lh(e,t.ignoreTransactions)?(P&&y.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${_t(e)}`),!0):Ph(e,t.denyUrls)?(P&&y.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${_t(e)}.
Url: ${us(e)}`),!0):Fh(e,t.allowUrls)?!1:(P&&y.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${_t(e)}.
Url: ${us(e)}`),!0)}function Nh(e,t){return e.type||!t||!t.length?!1:$h(e).some(n=>Ct(n,t))}function Lh(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?Ct(n,t):!1}function Ph(e,t){if(!t||!t.length)return!1;const n=us(e);return n?Ct(n,t):!1}function Fh(e,t){if(!t||!t.length)return!0;const n=us(e);return n?Ct(n,t):!0}function $h(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function Hh(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function Uh(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function us(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?Uh(t):null}catch{return P&&y.error(`Cannot extract url for event ${_t(e)}`),null}}function Bh(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}function Wh(e,t,n=250,r,s,o,i){if(!o.exception||!o.exception.values||!i||!ot(i.originalException,Error))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;a&&(o.exception.values=zh(Ro(e,t,s,i.originalException,r,o.exception.values,a,0),n))}function Ro(e,t,n,r,s,o,i,a){if(o.length>=n+1)return o;let c=[...o];if(ot(r[s],Error)){Aa(i,a);const u=e(t,r[s]),d=c.length;Oa(u,s,d,a),c=Ro(e,t,n,r[s],s,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(ot(u,Error)){Aa(i,a);const l=e(t,u),f=c.length;Oa(l,`errors[${d}]`,f,a),c=Ro(e,t,n,u,s,[l,...c],l,f)}}),c}function Aa(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Oa(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function zh(e,t){return e.map(n=>(n.value&&(n.value=kt(n.value,t)),n))}const Zu=new Map,Da=new Set;function jh(e){if(F._sentryModuleMetadata)for(const t of Object.keys(F._sentryModuleMetadata)){const n=F._sentryModuleMetadata[t];if(Da.has(t))continue;Da.add(t);const r=e(t);for(const s of r.reverse())if(s.filename){Zu.set(s.filename,n);break}}}function qh(e,t){return jh(e),Zu.get(t)}function Qu(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(const r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;const s=qh(e,r.filename);s&&(r.module_metadata=s)}})}catch{}}function el(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}const TI=()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",t=>{en(t,(n,r)=>{if(r==="event"){const s=Array.isArray(n)?n[1]:void 0;s&&(el(s),n[1]=s)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;const n=e.getOptions().stackParser;Qu(n,t)})}});function Xt(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Gh(e){return e.split(/[?#]/,1)[0]}function tl(e){const t="console";Nt(t,e),Lt(t,Yh)}function Yh(){"console"in F&&es.forEach(function(e){e in F.console&&ke(F.console,e,function(t){return ts[e]=t,function(...n){Fe("console",{args:n,level:e});const s=ts[e];s&&s.apply(F.console,n)}})})}function yi(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const Vh="CaptureConsole",Xh=(e={})=>{const t=e.levels||es,n=!!e.handled;return{name:Vh,setup(r){"console"in F&&tl(({args:s,level:o})=>{x()!==r||!t.includes(o)||Kh(s,o,n)})}}},kI=Xh;function Kh(e,t,n){const r={level:yi(t),extra:{arguments:e}};Ge(s=>{if(s.addEventProcessor(a=>(a.logger="console",Rt(a,{handled:n,type:"console"}),a)),t==="assert"){if(!e[0]){const a=`Assertion failed: ${ns(e.slice(1)," ")||"console.assert"}`;s.setExtra("arguments",e.slice(1)),Co(a,r)}return}const o=e.find(a=>a instanceof Error);if(o){_i(o,r);return}const i=ns(e," ");Co(i,r)})}const Jh="Debug",Zh=(e={})=>{const t={debugger:!1,stringify:!1,...e};return{name:Jh,setup(n){n.on("beforeSendEvent",(r,s)=>{if(t.debugger)debugger;ft(()=>{t.stringify?(console.log(JSON.stringify(r,null,2)),s&&Object.keys(s).length&&console.log(JSON.stringify(s,null,2))):(console.log(r),s&&Object.keys(s).length&&console.log(s))})})}}},CI=Zh,Qh="Dedupe",em=()=>{let e;return{name:Qh,processEvent(t){if(t.type)return t;try{if(nm(t,e))return P&&y.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},tm=em;function nm(e,t){return t?!!(rm(e,t)||sm(e,t)):!1}function rm(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!rl(e,t)||!nl(e,t))}function sm(e,t){const n=Na(t),r=Na(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!rl(e,t)||!nl(e,t))}function nl(e,t){let n=mo(e),r=mo(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const o=r[s],i=n[s];if(o.filename!==i.filename||o.lineno!==i.lineno||o.colno!==i.colno||o.function!==i.function)return!1}return!0}function rl(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Na(e){return e.exception&&e.exception.values&&e.exception.values[0]}const om="ExtraErrorData",im=(e={})=>{const{depth:t=3,captureErrorCause:n=!0}=e;return{name:om,processEvent(r,s,o){const{maxValueLength:i=250}=o.getOptions();return am(r,s,t,n,i)}}},xI=im;function am(e,t={},n,r,s){if(!t.originalException||!Tt(t.originalException))return e;const o=t.originalException.name||t.originalException.constructor.name,i=cm(t.originalException,r,s);if(i){const a={...e.contexts},c=Le(i,n);return Jt(c)&&(Oe(c,"__sentry_skip_normalization__",!0),a[o]=c),{...e,contexts:a}}return e}function cm(e,t,n){try{const r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],s={};for(const o of Object.keys(e)){if(r.indexOf(o)!==-1)continue;const i=e[o];s[o]=Tt(i)||typeof i=="string"?kt(`${i}`,n):i}if(t&&e.cause!==void 0&&(s.cause=Tt(e.cause)?e.cause.toString():e.cause),typeof e.toJSON=="function"){const o=e.toJSON();for(const i of Object.keys(o)){const a=o[i];s[i]=Tt(a)?a.toString():a}}return s}catch(r){P&&y.error("Unable to extract extra data from the Error object:",r)}return null}function um(e,t){let n=0;for(let r=e.length-1;r>=0;r--){const s=e[r];s==="."?e.splice(r,1):s===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}const lm=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function dm(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=lm.exec(t);return n?n.slice(1):[]}function La(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const s=r>=0?e[r]:"/";s&&(t=`${s}/${t}`,n=s.charAt(0)==="/")}return t=um(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function Pa(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function fm(e,t){e=La(e).slice(1),t=La(t).slice(1);const n=Pa(e.split("/")),r=Pa(t.split("/")),s=Math.min(n.length,r.length);let o=s;for(let a=0;a<s;a++)if(n[a]!==r[a]){o=a;break}let i=[];for(let a=o;a<n.length;a++)i.push("..");return i=i.concat(r.slice(o)),i.join("/")}function pm(e,t){return dm(e)[2]||""}const hm="RewriteFrames",RI=(e={})=>{const t=e.root,n=e.prefix||"app:///",r="window"in F&&F.window!==void 0,s=e.iteratee||mm({isBrowser:r,root:t,prefix:n});function o(a){try{return{...a,exception:{...a.exception,values:a.exception.values.map(c=>({...c,...c.stacktrace&&{stacktrace:i(c.stacktrace)}}))}}}catch{return a}}function i(a){return{...a,frames:a&&a.frames&&a.frames.map(c=>s(c))}}return{name:hm,processEvent(a){let c=a;return a.exception&&Array.isArray(a.exception.values)&&(c=o(c)),c}}};function mm({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;const s=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),o=/^\//.test(r.filename);if(e){if(t){const i=r.filename;i.indexOf(t)===0&&(r.filename=i.replace(t,n))}}else if(s||o){const i=s?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,a=t?fm(t,i):pm(i);r.filename=`${n}${a}`}return r}}const gm="SessionTiming",_m=()=>{const e=ue()*1e3;return{name:gm,processEvent(t){const n=ue()*1e3;return{...t,extra:{...t.extra,"session:start":e,"session:duration":n-e,"session:end":n}}}}},MI=_m,ym=10,Sm="ZodErrors";function bm(e){return Tt(e)&&e.name==="ZodError"&&Array.isArray(e.issues)}function Em(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function vm(e){return e.map(t=>typeof t=="number"?"<array>":t).join(".")}function wm(e){const t=new Set;for(const r of e.issues){const s=vm(r.path);s.length>0&&t.add(s)}const n=Array.from(t);if(n.length===0){let r="variable";if(e.issues.length>0){const s=e.issues[0];s!==void 0&&"expected"in s&&typeof s.expected=="string"&&(r=s.expected)}return`Failed to validate ${r}`}return`Failed to validate keys: ${kt(n.join(", "),100)}`}function Im(e,t=!1,n,r){if(!n.exception||!n.exception.values||!r||!r.originalException||!bm(r.originalException)||r.originalException.issues.length===0)return n;try{const o=(t?r.originalException.issues:r.originalException.issues.slice(0,e)).map(Em);return t&&(Array.isArray(r.attachments)||(r.attachments=[]),r.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:o})})),{...n,exception:{...n.exception,values:[{...n.exception.values[0],value:wm(r.originalException)},...n.exception.values.slice(1)]},extra:{...n.extra,"zoderror.issues":o.slice(0,e)}}}catch(s){return{...n,extra:{...n.extra,"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:s instanceof Error?`${s.name}: ${s.message}
${s.stack}`:"unknown"}}}}}const Tm=(e={})=>{const t=typeof e.limit>"u"?ym:e.limit;return{name:Sm,processEvent(n,r){return Im(t,e.saveZodIssuesAsAttachment,n,r)}}},AI=Tm,OI=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{en(n,(r,s)=>{if(s==="event"){const o=Array.isArray(r)?r[1]:void 0;o&&(el(o),r[1]=o)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;const r=t.getOptions().stackParser;Qu(r,n)})},processEvent(t){const n=km(t);if(n){const r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](o=>!o.some(i=>e.filterKeys.includes(i)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}}return t}});function km(e){const t=mo(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(Fa)).map(r=>r.slice(Fa.length)):[])}const Fa="_sentryBundlerPluginAppKey:",sl="c",ol="g",Si="s",il="d",Cm=5e3;function al(e,t){const n=sr("globalMetricsAggregators",()=>new WeakMap),r=n.get(e);if(r)return r;const s=new t(e);return e.on("flush",()=>s.flush()),e.on("close",()=>s.close()),n.set(e,s),s}function Rs(e,t,n,r,s={}){const o=s.client||x();if(!o)return;const i=he(),a=i?ge(i):void 0,c=a&&W(a).description,{unit:u,tags:d,timestamp:l}=s,{release:f,environment:p}=o.getOptions(),h={};f&&(h.release=f),p&&(h.environment=p),c&&(h.transaction=c),P&&y.log(`Adding value of ${r} to ${t} metric ${n}`),al(o,e).add(t,n,r,u,{...h,...d},l)}function xm(e,t,n=1,r){Rs(e,sl,t,bi(n),r)}function Mo(e,t,n,r){Rs(e,il,t,bi(n),r)}function Rm(e,t,n,r="second",s){if(typeof n=="function"){const o=ue();return bp({op:"metrics.timing",name:t,startTime:o,onlyIfParent:!0},i=>li(()=>n(),()=>{},()=>{const a=ue(),c=a-o;Mo(e,t,c,{...s,unit:"second"}),i.end(a)}))}Mo(e,t,n,{...s,unit:r})}function Mm(e,t,n,r){Rs(e,Si,t,n,r)}function Am(e,t,n,r){Rs(e,ol,t,bi(n),r)}const lr={increment:xm,distribution:Mo,set:Mm,gauge:Am,timing:Rm,getMetricsAggregatorForClient:al};function bi(e){return typeof e=="string"?parseInt(e):e}function Om(e,t,n,r){const s=Object.entries(fe(r)).sort((o,i)=>o[0].localeCompare(i[0]));return`${e}${t}${n}${s}`}function Dm(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t>>>0}function Nm(e){let t="";for(const n of e){const r=Object.entries(n.tags),s=r.length>0?`|#${r.map(([o,i])=>`${o}:${i}`).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${s}|T${n.timestamp}
`}return t}function Lm(e){return e.replace(/[^\w]+/gi,"_")}function Pm(e){return e.replace(/[^\w\-.]+/gi,"_")}function Fm(e){return e.replace(/[^\w\-./]+/gi,"")}const $m=[[`
`,"\\n"],["\r","\\r"],["	","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function Hm(e){for(const[t,n]of $m)if(e===t)return n;return e}function Um(e){return[...e].reduce((t,n)=>t+Hm(n),"")}function Bm(e){const t={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=Fm(n);t[r]=Um(String(e[n]))}return t}function Wm(e,t){y.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const n=e.getDsn(),r=e.getSdkMetadata(),s=e.getOptions().tunnel,o=zm(t,n,r,s);e.sendEnvelope(o)}function zm(e,t,n,r){const s={sent_at:new Date().toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(s.dsn=nn(t));const o=jm(e);return ht(s,[o])}function jm(e){const t=Nm(e);return[{type:"statsd",length:t.length},t]}class qm{constructor(t){this._value=t}get weight(){return 1}add(t){this._value+=t}toString(){return`${this._value}`}}class Gm{constructor(t){this._last=t,this._min=t,this._max=t,this._sum=t,this._count=1}get weight(){return 5}add(t){this._last=t,t<this._min&&(this._min=t),t>this._max&&(this._max=t),this._sum+=t,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}}class Ym{constructor(t){this._value=[t]}get weight(){return this._value.length}add(t){this._value.push(t)}toString(){return this._value.join(":")}}class Vm{constructor(t){this.first=t,this._value=new Set([t])}get weight(){return this._value.size}add(t){this._value.add(t)}toString(){return Array.from(this._value).map(t=>typeof t=="string"?Dm(t):t).join(":")}}const Xm={[sl]:qm,[ol]:Gm,[il]:Ym,[Si]:Vm};class dr{constructor(t){this._client=t,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),Cm)}add(t,n,r,s="none",o={},i=ue()){const a=Math.floor(i),c=Pm(n),u=Bm(o),d=Lm(s),l=Om(t,c,d,u);let f=this._buckets.get(l);const p=f&&t===Si?f.metric.weight:0;f?(f.metric.add(r),f.timestamp<a&&(f.timestamp=a)):(f={metric:new Xm[t](r),timestamp:a,metricType:t,name:c,unit:d,tags:u},this._buckets.set(l,f));const h=typeof r=="string"?f.metric.weight-p:r;Gf(t,c,h,d,o,l)}flush(){if(this._buckets.size===0)return;const t=Array.from(this._buckets.values());Wm(this._client,t),this._buckets.clear()}close(){clearInterval(this._interval),this.flush()}}function Km(e,t,n,r,s="auto.http.browser"){if(!e.fetchData)return;const o=Ot()&&t(e.fetchData.url);if(e.endTimestamp&&o){const f=e.fetchData.__span;if(!f)return;const p=r[f];p&&(Qm(p,e),delete r[f]);return}const{method:i,url:a}=e.fetchData,c=Zm(a),u=c?Xt(c).host:void 0,d=!!he(),l=o&&d?ar({name:`${i} ${a}`,attributes:{url:a,type:"fetch","http.method":i,"http.url":c,"server.address":u,[Se]:s,[Qt]:"http.client"}}):new Ft;if(e.fetchData.__span=l.spanContext().spanId,r[l.spanContext().spanId]=l,n(e.fetchData.url)){const f=e.args[0],p=e.args[1]||{},h=Jm(f,p,Ot()&&d?l:void 0);h&&(e.args[1]=p,p.headers=h)}return l}function Jm(e,t,n){const r=Ju({span:n}),s=r["sentry-trace"],o=r.baggage;if(!s)return;const i=t.headers||(eg(e)?e.headers:void 0);if(i)if(tg(i)){const a=new Headers(i);if(a.set("sentry-trace",s),o){const c=a.get("baggage");if(c){const u=Ir(c);a.set("baggage",u?`${u},${o}`:o)}else a.set("baggage",o)}return a}else if(Array.isArray(i)){const a=[...i.filter(c=>!(Array.isArray(c)&&c[0]==="sentry-trace")).map(c=>{if(Array.isArray(c)&&c[0]==="baggage"&&typeof c[1]=="string"){const[u,d,...l]=c;return[u,Ir(d),...l]}else return c}),["sentry-trace",s]];return o&&a.push(["baggage",o]),a}else{const a="baggage"in i?i.baggage:void 0;let c=[];return Array.isArray(a)?c=a.map(u=>typeof u=="string"?Ir(u):u).filter(u=>u===""):a&&c.push(Ir(a)),o&&c.push(o),{...i,"sentry-trace":s,baggage:c.length>0?c.join(","):void 0}}else return{...r}}function Zm(e){try{return new URL(e).href}catch{return}}function Qm(e,t){if(t.response){pu(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:me,message:"internal_error"});e.end()}function Ir(e){return e.split(",").filter(t=>!t.split("=")[0].startsWith(ui)).join(",")}function eg(e){return typeof Request<"u"&&ot(e,Request)}function tg(e){return typeof Headers<"u"&&ot(e,Headers)}function ng(e,t={},n=B()){const{message:r,name:s,email:o,url:i,source:a,associatedEventId:c,tags:u}=e,d={contexts:{feedback:fe({contact_email:o,name:s,message:r,url:i,source:a,associated_event_id:c})},type:"feedback",level:"info",tags:u},l=n&&n.getClient()||x();return l&&l.emit("beforeSendFeedback",d,t),n.captureEvent(d,t)}function rg(){return{bindClient(e){B().setClient(e)},withScope:Ge,getClient:()=>x(),getScope:B,getIsolationScope:ye,captureException:(e,t)=>B().captureException(e,t),captureMessage:(e,t,n)=>B().captureMessage(e,t,n),captureEvent:ur,addBreadcrumb:ut,setUser:Vp,setTags:Gp,setTag:Yp,setExtra:qp,setExtras:jp,setContext:Hu,getIntegration(e){const t=x();return t&&t.getIntegrationByName(e.id)||null},startSession:xo,endSession:cs,captureSession(e){if(e)return cs();sg()}}}const DI=rg;function sg(){const e=B(),t=x(),n=e.getSession();t&&n&&t.captureSession(n)}function cl(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const ls=F;function ul(){if(!("fetch"in ls))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Ao(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function ll(){if(typeof EdgeRuntime=="string")return!0;if(!ul())return!1;if(Ao(ls.fetch))return!0;let e=!1;const t=ls.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Ao(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Dt&&y.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function og(){return"ReportingObserver"in ls}function Ei(e,t){const n="fetch";Nt(n,e),Lt(n,()=>dl(void 0,t))}function ig(e){const t="fetch-body-resolved";Nt(t,e),Lt(t,()=>dl(cg))}function dl(e,t=!1){t&&!ll()||ke(F,"fetch",function(n){return function(...r){const s=new Error,{method:o,url:i}=ug(r),a={args:r,fetchData:{method:o,url:i},startTimestamp:ue()*1e3,virtualError:s};return e||Fe("fetch",{...a}),n.apply(F,r).then(async c=>(e?e(c):Fe("fetch",{...a,endTimestamp:ue()*1e3,response:c}),c),c=>{throw Fe("fetch",{...a,endTimestamp:ue()*1e3,error:c}),Tt(c)&&c.stack===void 0&&(c.stack=s.stack,Oe(c,"framesToPop",1)),c})}})}async function ag(e,t){if(e&&e.body){const n=e.body,r=n.getReader(),s=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let o=!0;for(;o;){let i;try{i=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(i),a&&(t(),o=!1)}catch{o=!1}finally{clearTimeout(i)}}clearTimeout(s),r.releaseLock(),n.cancel().then(null,()=>{})}}function cg(e){let t;try{t=e.clone()}catch{return}ag(t,()=>{Fe("fetch-body-resolved",{endTimestamp:ue()*1e3,response:e})})}function Oo(e,t){return!!e&&typeof e=="object"&&!!e[t]}function $a(e){return typeof e=="string"?e:e?Oo(e,"url")?e.url:e.toString?e.toString():"":""}function ug(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:$a(n),method:Oo(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:$a(t),method:Oo(t,"method")?String(t.method).toUpperCase():"GET"}}function lg(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function dg(){return"npm"}function fg(){return!lg()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Do(){return typeof window<"u"&&(!fg()||pg())}function pg(){const e=F.process;return!!e&&e.type==="renderer"}const Tr=F;function hg(){const e=Tr.chrome,t=e&&e.app&&e.app.runtime,n="history"in Tr&&!!Tr.history.pushState&&!!Tr.history.replaceState;return!t&&n}function mg(e,t){return e??t()}function Kt(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}const k=F;let No=0;function fl(){return No>0}function gg(){No++,setTimeout(()=>{No--})}function In(e,t={}){function n(s){return typeof s=="function"}if(!n(e))return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(ii(e))return e}catch{return e}const r=function(...s){try{const o=s.map(i=>In(i,t));return e.apply(this,o)}catch(o){throw gg(),Ge(i=>{i.addEventProcessor(a=>(t.mechanism&&(_o(a,void 0),Rt(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),_i(o)}),o}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}iu(r,e),Oe(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const Y=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function vi(e,t){const n=wi(e,t),r={type:Eg(t),value:vg(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function _g(e,t,n,r){const s=x(),o=s&&s.getOptions().normalizeDepth,i=Cg(t),a={__serialized__:Du(t,o)};if(i)return{exception:{values:[vi(e,i)]},extra:a};const c={exception:{values:[{type:ws(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Tg(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=wi(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function Ks(e,t){return{exception:{values:[vi(e,t)]}}}function wi(e,t){const n=t.stacktrace||t.stack||"",r=Sg(t),s=bg(t);try{return e(n,r,s)}catch{}return[]}const yg=/Minified React error #\d+;/i;function Sg(e){return e&&yg.test(e.message)?1:0}function bg(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function pl(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function Eg(e){const t=e&&e.name;return!t&&pl(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function vg(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:pl(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function wg(e,t,n,r){const s=n&&n.syntheticException||void 0,o=Ii(e,t,s,r);return Rt(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),at(o)}function Ig(e,t,n="info",r,s){const o=r&&r.syntheticException||void 0,i=Lo(e,t,o,s);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),at(i)}function Ii(e,t,n,r,s){let o;if(ru(t)&&t.error)return Ks(e,t.error);if(na(t)||af(t)){const i=t;if("stack"in t)o=Ks(e,t);else{const a=i.name||(na(i)?"DOMError":"DOMException"),c=i.message?`${a}: ${i.message}`:a;o=Lo(e,c,n,r),_o(o,c)}return"code"in i&&(o.tags={...o.tags,"DOMException.code":`${i.code}`}),o}return Tt(t)?Ks(e,t):Jt(t)||ws(t)?(o=_g(e,t,n,s),Rt(o,{synthetic:!0}),o):(o=Lo(e,t,n,r),_o(o,`${t}`),Rt(o,{synthetic:!0}),o)}function Lo(e,t,n,r){const s={};if(r&&n){const o=wi(e,n);o.length&&(s.exception={values:[{value:t,stacktrace:{frames:o}}]}),Rt(s,{synthetic:!0})}if(ri(t)){const{__sentry_template_string__:o,__sentry_template_values__:i}=t;return s.logentry={message:o,params:i},s}return s.message=t,s}function Tg(e,{isUnhandledRejection:t}){const n=mf(e),r=t?"promise rejection":"exception";return ru(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:ws(e)?`Event \`${kg(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function kg(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function Cg(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function xg(e,{metadata:t,tunnel:n,dsn:r}){const s={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:nn(r)}},o=Rg(e);return ht(s,[o])}function Rg(e){return[{type:"user_report"},e]}class Mg extends ih{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=k.SENTRY_SDK_SOURCE||dg();vh(n,"browser",["browser"],r),super(n),n.sendClientReports&&k.document&&k.document.addEventListener("visibilitychange",()=>{k.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return wg(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return Ig(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){Y&&y.warn("SDK not enabled, will not capture user feedback.");return}const n=xg(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const Ti=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ag=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Pn=(e,t,n,r)=>{let s,o;return i=>{t.value>=0&&(i||r)&&(o=t.value-(s||0),(o||s===void 0)&&(s=t.value,t.delta=o,t.rating=Ag(t.value,n),e(t)))}},D=F,Og=()=>`v4-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,fr=(e=!0)=>{const t=D.performance&&D.performance.getEntriesByType&&D.performance.getEntriesByType("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},pr=()=>{const e=fr();return e&&e.activationStart||0},Fn=(e,t)=>{const n=fr();let r="navigate";return n&&(D.document&&D.document.prerendering||pr()>0?r="prerender":D.document&&D.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:Og(),navigationType:r}},rn=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{Promise.resolve().then(()=>{t(s.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},$n=e=>{const t=n=>{(n.type==="pagehide"||D.document&&D.document.visibilityState==="hidden")&&e(n)};D.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},Ms=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let qn=-1;const Dg=()=>D.document.visibilityState==="hidden"&&!D.document.prerendering?0:1/0,ds=e=>{D.document.visibilityState==="hidden"&&qn>-1&&(qn=e.type==="visibilitychange"?e.timeStamp:0,Lg())},Ng=()=>{addEventListener("visibilitychange",ds,!0),addEventListener("prerenderingchange",ds,!0)},Lg=()=>{removeEventListener("visibilitychange",ds,!0),removeEventListener("prerenderingchange",ds,!0)},As=()=>(D.document&&qn<0&&(qn=Dg(),Ng()),{get firstHiddenTime(){return qn}}),hr=e=>{D.document&&D.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},Pg=[1800,3e3],Fg=(e,t={})=>{hr(()=>{const n=As(),r=Fn("FCP");let s;const i=rn("paint",a=>{a.forEach(c=>{c.name==="first-contentful-paint"&&(i.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-pr(),0),r.entries.push(c),s(!0)))})});i&&(s=Pn(e,r,Pg,t.reportAllChanges))})},$g=[.1,.25],Hg=(e,t={})=>{Fg(Ms(()=>{const n=Fn("CLS",0);let r,s=0,o=[];const i=c=>{c.forEach(u=>{if(!u.hadRecentInput){const d=o[0],l=o[o.length-1];s&&d&&l&&u.startTime-l.startTime<1e3&&u.startTime-d.startTime<5e3?(s+=u.value,o.push(u)):(s=u.value,o=[u])}}),s>n.value&&(n.value=s,n.entries=o,r())},a=rn("layout-shift",i);a&&(r=Pn(e,n,$g,t.reportAllChanges),$n(()=>{i(a.takeRecords()),r(!0)}),setTimeout(r,0))}))},Ug=[100,300],Bg=(e,t={})=>{hr(()=>{const n=As(),r=Fn("FID");let s;const o=c=>{c.startTime<n.firstHiddenTime&&(r.value=c.processingStart-c.startTime,r.entries.push(c),s(!0))},i=c=>{c.forEach(o)},a=rn("first-input",i);s=Pn(e,r,Ug,t.reportAllChanges),a&&$n(Ms(()=>{i(a.takeRecords()),a.disconnect()}))})};let hl=0,Js=1/0,kr=0;const Wg=e=>{e.forEach(t=>{t.interactionId&&(Js=Math.min(Js,t.interactionId),kr=Math.max(kr,t.interactionId),hl=kr?(kr-Js)/7+1:0)})};let Po;const zg=()=>Po?hl:performance.interactionCount||0,jg=()=>{"interactionCount"in performance||Po||(Po=rn("event",Wg,{type:"event",buffered:!0,durationThreshold:0}))},tt=[],Zs=new Map,qg=40;let Gg=0;const Yg=()=>zg()-Gg,Vg=()=>{const e=Math.min(tt.length-1,Math.floor(Yg()/50));return tt[e]},Qs=10,Xg=[],Kg=e=>{if(Xg.forEach(r=>r(e)),!(e.interactionId||e.entryType==="first-input"))return;const t=tt[tt.length-1],n=Zs.get(e.interactionId);if(n||tt.length<Qs||t&&e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===(n.entries[0]&&n.entries[0].startTime)&&n.entries.push(e);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};Zs.set(r.id,r),tt.push(r)}tt.sort((r,s)=>s.latency-r.latency),tt.length>Qs&&tt.splice(Qs).forEach(r=>Zs.delete(r.id))}},ml=e=>{const t=D.requestIdleCallback||D.setTimeout;let n=-1;return e=Ms(e),D.document&&D.document.visibilityState==="hidden"?e():(n=t(e),$n(e)),n},Jg=[200,500],Zg=(e,t={})=>{"PerformanceEventTiming"in D&&"interactionId"in PerformanceEventTiming.prototype&&hr(()=>{jg();const n=Fn("INP");let r;const s=i=>{ml(()=>{i.forEach(Kg);const a=Vg();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())})},o=rn("event",s,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:qg});r=Pn(e,n,Jg,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),$n(()=>{s(o.takeRecords()),r(!0)}))})},Qg=[2500,4e3],Ha={},e_=(e,t={})=>{hr(()=>{const n=As(),r=Fn("LCP");let s;const o=a=>{t.reportAllChanges||(a=a.slice(-1)),a.forEach(c=>{c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-pr(),0),r.entries=[c],s())})},i=rn("largest-contentful-paint",o);if(i){s=Pn(e,r,Qg,t.reportAllChanges);const a=Ms(()=>{Ha[r.id]||(o(i.takeRecords()),i.disconnect(),Ha[r.id]=!0,s(!0))});["keydown","click"].forEach(c=>{D.document&&addEventListener(c,()=>ml(a),{once:!0,capture:!0})}),$n(a)}})},t_=[800,1800],Fo=e=>{D.document&&D.document.prerendering?hr(()=>Fo(e)):D.document&&D.document.readyState!=="complete"?addEventListener("load",()=>Fo(e),!0):setTimeout(e,0)},n_=(e,t={})=>{const n=Fn("TTFB"),r=Pn(e,n,t_,t.reportAllChanges);Fo(()=>{const s=fr();s&&(n.value=Math.max(s.responseStart-pr(),0),n.entries=[s],r(!0))})},Gn={},fs={};let gl,_l,yl,Sl,bl;function ki(e,t=!1){return mr("cls",e,s_,gl,t)}function El(e,t=!1){return mr("lcp",e,i_,yl,t)}function vl(e){return mr("fid",e,o_,_l)}function r_(e){return mr("ttfb",e,a_,Sl)}function wl(e){return mr("inp",e,c_,bl)}function Tn(e,t){return Il(e,t),fs[e]||(u_(e),fs[e]=!0),Tl(e,t)}function Hn(e,t){const n=Gn[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(s){Ti&&y.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${st(r)}
Error:`,s)}}function s_(){return Hg(e=>{Hn("cls",{metric:e}),gl=e},{reportAllChanges:!0})}function o_(){return Bg(e=>{Hn("fid",{metric:e}),_l=e})}function i_(){return e_(e=>{Hn("lcp",{metric:e}),yl=e},{reportAllChanges:!0})}function a_(){return n_(e=>{Hn("ttfb",{metric:e}),Sl=e})}function c_(){return Zg(e=>{Hn("inp",{metric:e}),bl=e})}function mr(e,t,n,r,s=!1){Il(e,t);let o;return fs[e]||(o=n(),fs[e]=!0),r&&t({metric:r}),Tl(e,t,s?o:void 0)}function u_(e){const t={};e==="event"&&(t.durationThreshold=0),rn(e,n=>{Hn(e,{entries:n})},t)}function Il(e,t){Gn[e]=Gn[e]||[],Gn[e].push(t)}function Tl(e,t,n){return()=>{n&&n();const r=Gn[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function l_(e){return"duration"in e}function eo(e){return typeof e=="number"&&isFinite(e)}function lt(e,t,n,{...r}){const s=W(e).start_timestamp;return s&&s>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),xs(e,()=>{const o=ar({startTime:t,...r});return o&&o.end(n),o})}function kl(e){const t=x();if(!t)return;const{name:n,transaction:r,attributes:s,startTime:o}=e,{release:i,environment:a}=t.getOptions(),c=t.getIntegrationByName("Replay"),u=c&&c.getReplayId(),d=B(),l=d.getUser(),f=l!==void 0?l.email||l.id||l.ip_address:void 0;let p;try{p=d.getScopeData().contexts.profile.profile_id}catch{}const h={release:i,environment:a,user:f||void 0,profile_id:p||void 0,replay_id:u||void 0,transaction:r,"user_agent.original":D.navigator&&D.navigator.userAgent,...s};return ar({name:n,attributes:h,startTime:o,experimental:{standalone:!0}})}function Ci(){return D&&D.addEventListener&&D.performance}function pe(e){return e/1e3}function Cl(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function d_(){let e=0,t,n;if(!p_())return;let r=!1;function s(){r||(r=!0,n&&f_(e,t,n),o())}const o=ki(({metric:i})=>{const a=i.entries[i.entries.length-1];a&&(e=i.value,t=a)},!0);$n(()=>{s()}),setTimeout(()=>{const i=x();if(!i)return;const a=i.on("startNavigationSpan",()=>{s(),a&&a()}),c=he(),u=c&&ge(c),d=u&&W(u);d&&d.op==="pageload"&&(n=u.spanContext().spanId)},0)}function f_(e,t,n){Ti&&y.log(`Sending CLS span (${e})`);const r=pe((ve||0)+(t&&t.startTime||0)),s=B().getScopeData().transactionName,o=t?it(t.sources[0]&&t.sources[0].node):"Layout shift",i=fe({[Se]:"auto.http.browser.cls",[Qt]:"ui.webvital.cls",[ci]:t&&t.duration||0,"sentry.pageload.span_id":n}),a=kl({name:o,transaction:s,attributes:i,startTime:r});a&&(a.addEvent("cls",{[Ts]:"",[ks]:e}),a.end(r))}function p_(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}const h_=2147483647;let Ua=0,Ee={},Re,Yn;function m_({recordClsStandaloneSpans:e}){const t=Ci();if(t&&ve){t.mark&&D.performance.mark("sentry-tracing-init");const n=E_(),r=b_(),s=v_(),o=e?d_():S_();return()=>{n(),r(),s(),o&&o()}}return()=>{}}function g_(){Tn("longtask",({entries:e})=>{const t=he();if(!t)return;const{op:n,start_timestamp:r}=W(t);for(const s of e){const o=pe(ve+s.startTime),i=pe(s.duration);n==="navigation"&&r&&o<r||lt(t,o,o+i,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Se]:"auto.ui.browser.metrics"}})}})}function __(){new PerformanceObserver(t=>{const n=he();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const s=pe(ve+r.startTime),{start_timestamp:o,op:i}=W(n);if(i==="navigation"&&o&&s<o)continue;const a=pe(r.duration),c={[Se]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:d,invokerType:l,sourceURL:f,sourceFunctionName:p,sourceCharPosition:h}=u;c["browser.script.invoker"]=d,c["browser.script.invoker_type"]=l,f&&(c["code.filepath"]=f),p&&(c["code.function"]=p),h!==-1&&(c["browser.script.source_char_position"]=h),lt(n,s,s+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function y_(){Tn("event",({entries:e})=>{const t=he();if(t){for(const n of e)if(n.name==="click"){const r=pe(ve+n.startTime),s=pe(n.duration),o={name:it(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[Se]:"auto.ui.browser.metrics"}},i=ou(n.target);i&&(o.attributes["ui.component_name"]=i),lt(t,r,r+s,o)}}})}function S_(){return ki(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Ee.cls={value:e.value,unit:""},Yn=t)},!0)}function b_(){return El(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Ee.lcp={value:e.value,unit:"millisecond"},Re=t)},!0)}function E_(){return vl(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=pe(ve),r=pe(t.startTime);Ee.fid={value:e.value,unit:"millisecond"},Ee["mark.fid"]={value:n+r,unit:"second"}})}function v_(){return r_(({metric:e})=>{e.entries[e.entries.length-1]&&(Ee.ttfb={value:e.value,unit:"millisecond"})})}function w_(e,t){const n=Ci();if(!n||!n.getEntries||!ve)return;const r=pe(ve),s=n.getEntries(),{op:o,start_timestamp:i}=W(e);if(s.slice(Ua).forEach(a=>{const c=pe(a.startTime),u=pe(Math.max(0,a.duration));if(!(o==="navigation"&&i&&r+c<i))switch(a.entryType){case"navigation":{T_(e,a,r);break}case"mark":case"paint":case"measure":{I_(e,a,c,u,r);const d=As(),l=a.startTime<d.firstHiddenTime;a.name==="first-paint"&&l&&(Ee.fp={value:a.startTime,unit:"millisecond"}),a.name==="first-contentful-paint"&&l&&(Ee.fcp={value:a.startTime,unit:"millisecond"});break}case"resource":{x_(e,a,a.name,c,u,r);break}}}),Ua=Math.max(s.length-1,0),R_(e),o==="pageload"){A_(Ee);const a=Ee["mark.fid"];a&&Ee.fid&&(lt(e,a.value,a.value+pe(Ee.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Se]:"auto.ui.browser.metrics"}}),delete Ee["mark.fid"]),(!("fcp"in Ee)||!t.recordClsOnPageloadSpan)&&delete Ee.cls,Object.entries(Ee).forEach(([c,u])=>{_p(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",r),e.setAttribute("performance.activationStart",pr()),M_(e)}Re=void 0,Yn=void 0,Ee={}}function I_(e,t,n,r,s){const o=fr(!1),i=pe(o?o.requestStart:0),a=s+Math.max(n,i),c=s+n,u=c+r,d={[Se]:"auto.resource.browser.metrics"};return a!==c&&(d["sentry.browser.measure_happened_before_request"]=!0,d["sentry.browser.measure_start_time"]=a),lt(e,a,u,{name:t.name,op:t.entryType,attributes:d}),a}function T_(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Cr(e,t,r,n)}),Cr(e,t,"secureConnection",n,"TLS/SSL"),Cr(e,t,"fetch",n,"cache"),Cr(e,t,"domainLookup",n,"DNS"),C_(e,t,n)}function Cr(e,t,n,r,s=n){const o=k_(n),i=t[o],a=t[`${n}Start`];!a||!i||lt(e,r+pe(a),r+pe(i),{op:`browser.${s}`,name:t.name,attributes:{[Se]:"auto.ui.browser.metrics"}})}function k_(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function C_(e,t,n){const r=n+pe(t.requestStart),s=n+pe(t.responseEnd),o=n+pe(t.responseStart);t.responseEnd&&(lt(e,r,s,{op:"browser.request",name:t.name,attributes:{[Se]:"auto.ui.browser.metrics"}}),lt(e,o,s,{op:"browser.response",name:t.name,attributes:{[Se]:"auto.ui.browser.metrics"}}))}function x_(e,t,n,r,s,o){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const i=Xt(n),a={[Se]:"auto.resource.browser.metrics"};to(a,t,"transferSize","http.response_transfer_size"),to(a,t,"encodedBodySize","http.response_content_length"),to(a,t,"decodedBodySize","http.decoded_response_content_length");const c=t.deliveryType;c!=null&&(a["http.response_delivery_type"]=c);const u=t.renderBlockingStatus;u&&(a["resource.render_blocking_status"]=u),i.protocol&&(a["url.scheme"]=i.protocol.split(":").pop()),i.host&&(a["server.address"]=i.host),a["url.same_origin"]=n.includes(D.location.origin);const{name:d,version:l}=Cl(t.nextHopProtocol);a["network.protocol.name"]=d,a["network.protocol.version"]=l;const f=o+r,p=f+s;lt(e,f,p,{name:n.replace(D.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:a})}function R_(e){const t=D.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),eo(n.rtt)&&(Ee["connection.rtt"]={value:n.rtt,unit:"millisecond"})),eo(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),eo(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function M_(e){Re&&(Re.element&&e.setAttribute("lcp.element",it(Re.element)),Re.id&&e.setAttribute("lcp.id",Re.id),Re.url&&e.setAttribute("lcp.url",Re.url.trim().slice(0,200)),Re.loadTime!=null&&e.setAttribute("lcp.loadTime",Re.loadTime),Re.renderTime!=null&&e.setAttribute("lcp.renderTime",Re.renderTime),e.setAttribute("lcp.size",Re.size)),Yn&&Yn.sources&&Yn.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,it(t.node)))}function to(e,t,n,r){const s=t[n];s!=null&&s<h_&&(e[r]=s)}function A_(e){const t=fr(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const O_=1e3;let Ba,$o,Ho;function xl(e){const t="dom";Nt(t,e),Lt(t,D_)}function D_(){if(!D.document)return;const e=Fe.bind(null,"dom"),t=Wa(e,!0);D.document.addEventListener("click",t,!1),D.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const s=D[n],o=s&&s.prototype;!o||!o.hasOwnProperty||!o.hasOwnProperty("addEventListener")||(ke(o,"addEventListener",function(i){return function(a,c,u){if(a==="click"||a=="keypress")try{const d=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},l=d[a]=d[a]||{refCount:0};if(!l.handler){const f=Wa(e);l.handler=f,i.call(this,a,f,u)}l.refCount++}catch{}return i.call(this,a,c,u)}}),ke(o,"removeEventListener",function(i){return function(a,c,u){if(a==="click"||a=="keypress")try{const d=this.__sentry_instrumentation_handlers__||{},l=d[a];l&&(l.refCount--,l.refCount<=0&&(i.call(this,a,l.handler,u),l.handler=void 0,delete d[a]),Object.keys(d).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,a,c,u)}}))})}function N_(e){if(e.type!==$o)return!1;try{if(!e.target||e.target._sentryId!==Ho)return!1}catch{}return!0}function L_(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function Wa(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=P_(n);if(L_(n.type,r))return;Oe(n,"_sentryCaptured",!0),r&&!r._sentryId&&Oe(r,"_sentryId",Ce());const s=n.type==="keypress"?"input":n.type;N_(n)||(e({event:n,name:s,global:t}),$o=n.type,Ho=r?r._sentryId:void 0),clearTimeout(Ba),Ba=D.setTimeout(()=>{Ho=void 0,$o=void 0},O_)}}function P_(e){try{return e.target}catch{return null}}let xr;function Os(e){const t="history";Nt(t,e),Lt(t,F_)}function F_(){if(!hg())return;const e=D.onpopstate;D.onpopstate=function(...n){const r=D.location.href,s=xr;if(xr=r,Fe("history",{from:s,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const o=xr,i=String(s);xr=i,Fe("history",{from:o,to:i})}return n.apply(this,r)}}ke(D.history,"pushState",t),ke(D.history,"replaceState",t)}const Wr={};function xi(e){const t=Wr[e];if(t)return t;let n=D[e];if(Ao(n))return Wr[e]=n.bind(D);const r=D.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(n=o[e]),r.head.removeChild(s)}catch(s){Ti&&y.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,s)}return n&&(Wr[e]=n.bind(D))}function za(e){Wr[e]=void 0}function kn(...e){return xi("setTimeout")(...e)}const vt="__sentry_xhr_v3__";function Ri(e){const t="xhr";Nt(t,e),Lt(t,$_)}function $_(){if(!D.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,o=ue()*1e3,i=nt(r[0])?r[0].toUpperCase():void 0,a=H_(r[1]);if(!i||!a)return t.apply(n,r);n[vt]={method:i,url:a,request_headers:{}},i==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[vt];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const d={endTimestamp:ue()*1e3,startTimestamp:o,xhr:n,virtualError:s};Fe("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,l){return c(),u.apply(d,l)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,l){const[f,p]=l,h=d[vt];return h&&nt(f)&&nt(p)&&(h.request_headers[f.toLowerCase()]=p),u.apply(d,l)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[vt];if(!s)return t.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const o={startTimestamp:ue()*1e3,xhr:n};return Fe("xhr",o),t.apply(n,r)}})}function H_(e){if(nt(e))return e;try{return e.toString()}catch{}}const no=[],zr=new Map;function U_(){if(Ci()&&ve){const t=B_();return()=>{t()}}return()=>{}}const ja={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function B_(){return wl(({metric:e})=>{if(e.value==null)return;const t=e.entries.find(h=>h.duration===e.value&&ja[h.name]);if(!t)return;const{interactionId:n}=t,r=ja[t.name],s=pe(ve+t.startTime),o=pe(e.value),i=he(),a=i?ge(i):void 0,u=(n!=null?zr.get(n):void 0)||a,d=u?W(u).description:B().getScopeData().transactionName,l=it(t.target),f=fe({[Se]:"auto.http.browser.inp",[Qt]:`ui.interaction.${r}`,[ci]:t.duration}),p=kl({name:l,transaction:d,attributes:f,startTime:s});p&&(p.addEvent("inp",{[Ts]:"millisecond",[ks]:e.value}),p.end(s+o))})}function W_(e){const t=({entries:n})=>{const r=he(),s=r&&ge(r);n.forEach(o=>{if(!l_(o)||!s)return;const i=o.interactionId;if(i!=null&&!zr.has(i)){if(no.length>10){const a=no.shift();zr.delete(a)}no.push(i),zr.set(i,s)}})};Tn("event",t),Tn("first-input",t)}function Rl(e,t=xi("fetch")){let n=0,r=0;function s(o){const i=o.body.length;n+=i,r++;const a={body:o.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return za("fetch"),rs("No fetch implementation available");try{return t(e.url,a).then(c=>(n-=i,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return za("fetch"),n-=i,r--,rs(c)}}return mh(e,s)}const z_=10,j_=20,q_=30,G_=40,Y_=50;function Cn(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?Ke:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const V_=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,X_=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,K_=/\((\S*)(?::(\d+))(?::(\d+))\)/,J_=e=>{const t=V_.exec(e);if(t){const[,r,s,o]=t;return Cn(r,Ke,+s,+o)}const n=X_.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const i=K_.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}const[s,o]=Ml(n[1]||Ke,n[2]);return Cn(o,s,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},Z_=[q_,J_],Q_=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ey=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,ty=e=>{const t=Q_.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const o=ey.exec(t[3]);o&&(t[1]=t[1]||"eval",t[3]=o[1],t[4]=o[2],t[5]="")}let r=t[3],s=t[1]||Ke;return[s,r]=Ml(s,r),Cn(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},ny=[Y_,ty],ry=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,sy=e=>{const t=ry.exec(e);return t?Cn(t[2],t[1]||Ke,+t[3],t[4]?+t[4]:void 0):void 0},NI=[G_,sy],oy=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,iy=e=>{const t=oy.exec(e);return t?Cn(t[2],t[3]||Ke,+t[1]):void 0},LI=[z_,iy],ay=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,cy=e=>{const t=ay.exec(e);return t?Cn(t[5],t[3]||t[4]||Ke,+t[1],+t[2]):void 0},PI=[j_,cy],uy=[Z_,ny],ly=Qc(...uy),Ml=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Ke,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Rr=1024,dy="Breadcrumbs",fy=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:dy,setup(n){t.console&&tl(gy(n)),t.dom&&xl(my(n,t.dom)),t.xhr&&Ri(_y(n)),t.fetch&&Ei(yy(n)),t.history&&Os(Sy(n)),t.sentry&&n.on("beforeSendEvent",hy(n))}}},py=fy;function hy(e){return function(n){x()===e&&ut({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:_t(n)},{event:n})}}function my(e,t){return function(r){if(x()!==e)return;let s,o,i=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Rr&&(Y&&y.warn(`\`dom.maxStringLength\` cannot exceed ${Rr}, but a value of ${a} was configured. Sentry will use ${Rr} instead.`),a=Rr),typeof i=="string"&&(i=[i]);try{const u=r.event,d=by(u)?u.target:u;s=it(d,{keyAttrs:i,maxStringLength:a}),o=ou(d)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${r.name}`,message:s};o&&(c.data={"ui.component_name":o}),ut(c,{event:r.event,name:r.name,global:r.global})}}function gy(e){return function(n){if(x()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:yi(n.level),message:ns(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${ns(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;ut(r,{input:n.args,level:n.level})}}function _y(e){return function(n){if(x()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,o=n.xhr[vt];if(!r||!s||!o)return;const{method:i,url:a,status_code:c,body:u}=o,d={method:i,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s},f=cl(c);ut({category:"xhr",data:d,type:"http",level:f},l)}}function yy(e){return function(n){if(x()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const o=n.fetchData,i={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s};ut({category:"fetch",data:o,level:"error",type:"http"},i)}else{const o=n.response,i={...n.fetchData,status_code:o&&o.status},a={input:n.args,response:o,startTimestamp:r,endTimestamp:s},c=cl(i.status_code);ut({category:"fetch",data:i,type:"http",level:c},a)}}}function Sy(e){return function(n){if(x()!==e)return;let r=n.from,s=n.to;const o=Xt(k.location.href);let i=r?Xt(r):void 0;const a=Xt(s);(!i||!i.path)&&(i=o),o.protocol===a.protocol&&o.host===a.host&&(s=a.relative),o.protocol===i.protocol&&o.host===i.host&&(r=i.relative),ut({category:"navigation",data:{from:r,to:s}})}}function by(e){return!!e&&!!e.target}const Ey=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],vy="BrowserApiErrors",wy=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:vy,setupOnce(){t.setTimeout&&ke(k,"setTimeout",qa),t.setInterval&&ke(k,"setInterval",qa),t.requestAnimationFrame&&ke(k,"requestAnimationFrame",Ty),t.XMLHttpRequest&&"XMLHttpRequest"in k&&ke(XMLHttpRequest.prototype,"send",ky);const n=t.eventTarget;n&&(Array.isArray(n)?n:Ey).forEach(Cy)}}},Iy=wy;function qa(e){return function(...t){const n=t[0];return t[0]=In(n,{mechanism:{data:{function:st(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Ty(e){return function(t){return e.apply(this,[In(t,{mechanism:{data:{function:"requestAnimationFrame",handler:st(e)},handled:!1,type:"instrument"}})])}}function ky(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&ke(n,s,function(o){const i={mechanism:{data:{function:s,handler:st(o)},handled:!1,type:"instrument"}},a=ii(o);return a&&(i.mechanism.data.handler=st(a)),In(o,i)})}),e.apply(this,t)}}function Cy(e){const n=k[e],r=n&&n.prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(ke(r,"addEventListener",function(s){return function(o,i,a){try{xy(i)&&(i.handleEvent=In(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:st(i),target:e},handled:!1,type:"instrument"}}))}catch{}return s.apply(this,[o,In(i,{mechanism:{data:{function:"addEventListener",handler:st(i),target:e},handled:!1,type:"instrument"}}),a])}}),ke(r,"removeEventListener",function(s){return function(o,i,a){try{const c=i.__sentry_wrapped__;c&&s.call(this,o,c,a)}catch{}return s.call(this,o,i,a)}}))}function xy(e){return typeof e.handleEvent=="function"}const Ry=()=>({name:"BrowserSession",setupOnce(){if(typeof k.document>"u"){Y&&y.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}xo({ignoreDuration:!0}),va(),Os(({from:e,to:t})=>{e!==void 0&&e!==t&&(xo({ignoreDuration:!0}),va())})}}),My="GlobalHandlers",Ay=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:My,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(Dy(n),Ga("onerror")),t.onunhandledrejection&&(Ny(n),Ga("onunhandledrejection"))}}},Oy=Ay;function Dy(e){eu(t=>{const{stackParser:n,attachStacktrace:r}=Al();if(x()!==e||fl())return;const{msg:s,url:o,line:i,column:a,error:c}=t,u=Fy(Ii(n,c||s,void 0,r,!1),o,i,a);u.level="error",ur(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function Ny(e){tu(t=>{const{stackParser:n,attachStacktrace:r}=Al();if(x()!==e||fl())return;const s=Ly(t),o=si(s)?Py(s):Ii(n,s,void 0,r,!0);o.level="error",ur(o,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function Ly(e){if(si(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function Py(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function Fy(e,t,n,r){const s=e.exception=e.exception||{},o=s.values=s.values||[],i=o[0]=o[0]||{},a=i.stacktrace=i.stacktrace||{},c=a.frames=a.frames||[],u=r,d=n,l=nt(t)&&t.length>0?t:oi();return c.length===0&&c.push({colno:u,filename:l,function:Ke,in_app:!0,lineno:d}),e}function Ga(e){Y&&y.log(`Global Handler attached: ${e}`)}function Al(){const e=x();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const $y=()=>({name:"HttpContext",preprocessEvent(e){if(!k.navigator&&!k.location&&!k.document)return;const t=e.request&&e.request.url||k.location&&k.location.href,{referrer:n}=k.document||{},{userAgent:r}=k.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...e.request,...t&&{url:t},headers:s};e.request=o}}),Hy="cause",Uy=5,By="LinkedErrors",Wy=(e={})=>{const t=e.limit||Uy,n=e.key||Hy;return{name:By,preprocessEvent(r,s,o){const i=o.getOptions();Wh(vi,i.stackParser,i.maxValueLength,n,t,r,s)}}},zy=Wy;function jy(e){const t=[Ah(),Ch(),Iy(),py(),Oy(),zy(),tm(),$y()];return e.autoSessionTracking!==!1&&t.push(Ry()),t}function qy(e={}){const t={defaultIntegrations:jy(e),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:k.SENTRY_RELEASE&&k.SENTRY_RELEASE.id?k.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,{...t,...e}}function Gy(){const e=typeof k.window<"u"&&k;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,s=k.location&&k.location.href||"",o=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],i=!!r&&k===k.top&&o.some(c=>s.startsWith(`${c}//`)),a=typeof e.nw<"u";return!!r&&!i&&!a}function FI(e={}){const t=qy(e);if(!t.skipBrowserExtensionCheck&&Gy()){ft(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}Y&&(ul()||y.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:nf(t.stackParser||ly),integrations:rh(t),transport:t.transport||Rl};return uh(Mg,n)}function $I(e={}){if(!k.document){Y&&y.error("Global document not defined in showReportDialog call");return}const t=B(),n=t.getClient(),r=n&&n.getDsn();if(!r){Y&&y.error("DSN not configured for showReportDialog call");return}if(t&&(e.user={...t.getUser(),...e.user}),!e.eventId){const a=Xp();a&&(e.eventId=a)}const s=k.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=th(r,e),e.onLoad&&(s.onload=e.onLoad);const{onClose:o}=e;if(o){const a=c=>{if(c.data==="__sentry_reportdialog_closed__")try{o()}finally{k.removeEventListener("message",a)}};k.addEventListener("message",a)}const i=k.document.head||k.document.body;i?i.appendChild(s):Y&&y.error("Not injecting report dialog. No injection point found in HTML")}function HI(){}function UI(e){e()}function BI(e){const t=x();t&&t.captureUserFeedback(e)}const Yy={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",debugIntegration:"debug",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",sessionTimingIntegration:"sessiontiming",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata"},Ya=k;async function Vy(e,t){const n=Yy[e],r=Ya.Sentry=Ya.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);const s=r[e];if(typeof s=="function"&&!("_isShim"in s))return s;const o=Xy(n),i=k.document.createElement("script");i.src=o,i.crossOrigin="anonymous",i.referrerPolicy="origin",t&&i.setAttribute("nonce",t);const a=new Promise((l,f)=>{i.addEventListener("load",()=>l()),i.addEventListener("error",f)}),c=k.document.currentScript,u=k.document.body||k.document.head||c&&c.parentElement;if(u)u.appendChild(i);else throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);try{await a}catch{throw new Error(`Error when loading integration: ${e}`)}const d=r[e];if(typeof d!="function")throw new Error(`Could not load integration: ${e}`);return d}function Xy(e){const t=x(),n=t&&t.getOptions(),r=n&&n.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${It}/${e}.min.js`,r).toString()}const Ky=F,Jy="ReportingObserver",Va=new WeakMap,Zy=(e={})=>{const t=e.types||["crash","deprecation","intervention"];function n(r){if(Va.has(x()))for(const s of r)Ge(o=>{o.setExtra("url",s.url);const i=`ReportingObserver [${s.type}]`;let a="No details available";if(s.body){const c={};for(const u in s.body)c[u]=s.body[u];if(o.setExtra("body",c),s.type==="crash"){const u=s.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=s.body.message||a}Co(`${i}: ${a}`)})}return{name:Jy,setupOnce(){if(!og())return;new Ky.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){Va.set(r,!0)}}},WI=Zy,Qy="HttpClient",eS=(e={})=>{const t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:Qy,setup(n){cS(n,t),uS(n,t)}}},zI=eS;function tS(e,t,n,r,s){if(Dl(e,n.status,n.url)){const o=lS(t,r);let i,a,c,u;Ll()&&([i,c]=Xa("Cookie",o),[a,u]=Xa("Set-Cookie",n));const d=Nl({url:o.url,method:o.method,status:n.status,requestHeaders:i,responseHeaders:a,requestCookies:c,responseCookies:u,error:s});ur(d)}}function Xa(e,t){const n=sS(t.headers);let r;try{const s=n[e]||n[e.toLowerCase()]||void 0;s&&(r=Ol(s))}catch{}return[n,r]}function nS(e,t,n,r,s){if(Dl(e,t.status,t.responseURL)){let o,i,a;if(Ll()){try{const u=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;u&&(i=Ol(u))}catch{}try{a=oS(t)}catch{}o=r}const c=Nl({url:t.responseURL,method:n,status:t.status,requestHeaders:o,responseHeaders:a,responseCookies:i,error:s});ur(c)}}function rS(e){if(e){const t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function Ol(e){return e.split("; ").reduce((t,n)=>{const[r,s]=n.split("=");return r&&s&&(t[r]=s),t},{})}function sS(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function oS(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,o]=r.split(": ");return s&&o&&(n[s]=o),n},{}):{}}function iS(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function aS(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function cS(e,t){ll()&&Ei(n=>{if(x()!==e)return;const{response:r,args:s,error:o,virtualError:i}=n,[a,c]=s;r&&tS(t,a,r,c,o||i)},!1)}function uS(e,t){"XMLHttpRequest"in F&&Ri(n=>{if(x()!==e)return;const{error:r,virtualError:s}=n,o=n.xhr,i=o[vt];if(!i)return;const{method:a,request_headers:c}=i;try{nS(t,o,a,c,r||s)}catch(u){Y&&y.warn("Error while extracting response event form XHR response",u)}})}function Dl(e,t,n){return aS(e.failedRequestStatusCodes,t)&&iS(e.failedRequestTargets,n)&&!Ku(n,x())}function Nl(e){const t=x(),n=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,r=n&&t?t.getOptions().stackParser(n,0,1):void 0,s=`HTTP Client Error with status code: ${e.status}`,o={message:s,exception:{values:[{type:"Error",value:s,stacktrace:r?{frames:r}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:rS(e.responseHeaders)}}};return Rt(o,{type:"http.client",handled:!1}),o}function lS(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function Ll(){const e=x();return e?!!e.getOptions().sendDefaultPii:!1}const ro=F,dS=7,fS="ContextLines",pS=(e={})=>{const t=e.frameContextLines!=null?e.frameContextLines:dS;return{name:fS,processEvent(n){return hS(n,t)}}},jI=pS;function hS(e,t){const n=ro.document,r=ro.location&&Gh(ro.location.href);if(!n||!r)return e;const s=e.exception&&e.exception.values;if(!s||!s.length)return e;const o=n.documentElement.innerHTML;if(!o)return e;const i=["<!DOCTYPE html>","<html>",...o.split(`
`),"</html>"];return s.forEach(a=>{const c=a.stacktrace;c&&c.frames&&(c.frames=c.frames.map(u=>mS(u,i,r,t)))}),e}function mS(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||yf(t,e,r),e}const se=F,Mi="sentryReplaySession",gS="replay_event",Ai="Unable to send Replay",_S=3e5,yS=9e5,SS=5e3,bS=5500,ES=6e4,vS=5e3,wS=3,Ka=15e4,Mr=5e3,IS=3e3,TS=300,Oi=2e7,kS=4999,CS=15e3,Ja=36e5;function Uo(e,t){return e??t()}function Jn(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}var _e;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(_e||(_e={}));function xS(e){return e.nodeType===e.ELEMENT_NODE}function Vn(e){const t=Jn([e,"optionalAccess",n=>n.host]);return Jn([t,"optionalAccess",n=>n.shadowRoot])===e}function Xn(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function RS(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function MS(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function ps(e){try{const t=e.rules||e.cssRules;return t?RS(Array.from(t,Pl).join("")):null}catch{return null}}function AS(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,s=r[n],o=r.getPropertyPriority(s);t+=`${s}:${r.getPropertyValue(s)}${o?" !important":""};`}return`${e.selectorText} { ${t} }`}function Pl(e){let t;if(DS(e))try{t=ps(e.styleSheet)||MS(e)}catch{}else if(NS(e)){let n=e.cssText;const r=e.selectorText.includes(":"),s=typeof e.style.all=="string"&&e.style.all;if(s&&(n=AS(e)),r&&(n=OS(n)),r||s)return n}return t||e.cssText}function OS(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function DS(e){return"styleSheet"in e}function NS(e){return"selectorText"in e}class Fl{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;const n=Jn([this,"access",r=>r.getMeta,"call",r=>r(t),"optionalAccess",r=>r.id]);return Uo(n,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function LS(){return new Fl}function Ds({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Zn({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function xn(e){return e.toLowerCase()}function Bo(e){return e.toUpperCase()}const Za="__rrweb_original__";function PS(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){const o=t.getImageData,i=Za in o?o[Za]:o;if(new Uint32Array(i.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(c=>c!==0))return!1}return!0}function Di(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?xn(t):null}function hs(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function $l(e,t){let n;try{n=new URL(e,Uo(t,()=>window.location.href))}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,s=n.pathname.match(r);return Uo(Jn([s,"optionalAccess",o=>o[1]]),()=>null)}const Qa={};function Hl(e){const t=Qa[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return Qa[e]=r.bind(window)}function Wo(...e){return Hl("setTimeout")(...e)}function Ul(...e){return Hl("clearTimeout")(...e)}function Bl(e){try{return e.contentDocument}catch{}}let FS=1;const $S=new RegExp("[^a-z0-9-_:]"),Qn=-2;function Ni(){return FS++}function HS(e){if(e instanceof HTMLFormElement)return"form";const t=xn(e.tagName);return $S.test(t)?"div":t}function US(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let ln,ec;const BS=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,WS=/^(?:[a-z+]+:)?\/\//i,zS=/^www\..*/i,jS=/^(data:)([^,]*),(.*)/i;function ms(e,t){return(e||"").replace(BS,(n,r,s,o,i,a)=>{const c=s||i||a,u=r||o||"";if(!c)return n;if(WS.test(c)||zS.test(c))return`url(${u}${c}${u})`;if(jS.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${US(t)+c}${u})`;const d=t.split("/"),l=c.split("/");d.pop();for(const f of l)f!=="."&&(f===".."?d.pop():d.push(f));return`url(${u}${d.join("/")}${u})`})}const qS=/^[^ \t\n\r\u000c]+/,GS=/^[, \t\n\r\u000c]+/;function YS(e,t){if(t.trim()==="")return t;let n=0;function r(o){let i;const a=o.exec(t.substring(n));return a?(i=a[0],n+=i.length,i):""}const s=[];for(;r(GS),!(n>=t.length);){let o=r(qS);if(o.slice(-1)===",")o=hn(e,o.substring(0,o.length-1)),s.push(o);else{let i="";o=hn(e,o);let a=!1;for(;;){const c=t.charAt(n);if(c===""){s.push((o+i).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,s.push((o+i).trim());break}else c==="("&&(a=!0);i+=c,n+=1}}}return s.join(", ")}const tc=new WeakMap;function hn(e,t){return!t||t.trim()===""?t:Ns(e,t)}function VS(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Ns(e,t){let n=tc.get(e);if(n||(n=e.createElement("a"),tc.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function Wl(e,t,n,r,s,o){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?hn(e,r):n==="srcset"?YS(e,r):n==="style"?ms(r,Ns(e)):t==="object"&&n==="data"?hn(e,r):typeof o=="function"?o(n,r,s):r)}function zl(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function XS(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const o=e.classList[s];if(t.test(o))return!0}if(n)return e.matches(n)}catch{}return!1}function KS(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function qt(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:qt(e.parentNode,t,n,r+1)}function mn(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(KS(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Rn(e,t,n,r,s,o){try{const i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(i===null)return!1;if(i.tagName==="INPUT"){const u=i.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(o){if(c=qt(i,mn(r,s)),c<0)return!0;a=qt(i,mn(t,n),c>=0?c:1/0)}else{if(a=qt(i,mn(t,n)),a<0)return!1;c=qt(i,mn(r,s),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!o}catch{}return!!o}function JS(e,t,n){const r=e.contentWindow;if(!r)return;let s=!1,o;try{o=r.document.readyState}catch{return}if(o!=="complete"){const a=Wo(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{Ul(a),s=!0,t()});return}const i="about:blank";if(r.location.href!==i||e.src===i||e.src==="")return Wo(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function ZS(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;const o=Wo(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{Ul(o),r=!0,t()})}function QS(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:h={},maskTextFn:m,maskInputFn:S,dataURLOptions:_={},inlineImages:E,recordCanvas:M,keepIframeSrcFn:O,newlyAddedElement:A=!1}=t,w=eb(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:_e.Document,childNodes:[],compatMode:e.compatMode}:{type:_e.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:_e.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:w};case e.ELEMENT_NODE:return nb(e,{doc:n,blockClass:s,blockSelector:o,unblockSelector:i,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:h,maskInputFn:S,dataURLOptions:_,inlineImages:E,recordCanvas:M,keepIframeSrcFn:O,newlyAddedElement:A,rootId:w,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f});case e.TEXT_NODE:return tb(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,maskTextFn:m,maskInputOptions:h,maskInputFn:S,rootId:w});case e.CDATA_SECTION_NODE:return{type:_e.CDATA,textContent:"",rootId:w};case e.COMMENT_NODE:return{type:_e.Comment,textContent:e.textContent||"",rootId:w};default:return!1}}function eb(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function tb(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:o,unmaskTextSelector:i,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:d}=t,l=e.parentNode&&e.parentNode.tagName;let f=e.textContent;const p=l==="STYLE"?!0:void 0,h=l==="SCRIPT"?!0:void 0,m=l==="TEXTAREA"?!0:void 0;if(p&&f){try{e.nextSibling||e.previousSibling||Jn([e,"access",_=>_.parentNode,"access",_=>_.sheet,"optionalAccess",_=>_.cssRules])&&(f=ps(e.parentNode.sheet))}catch(_){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${_}`,e)}f=ms(f,Ns(t.doc))}h&&(f="SCRIPT_PLACEHOLDER");const S=Rn(e,r,o,s,i,n);if(!p&&!h&&!m&&f&&S&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),m&&f&&(c.textarea||S)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),l==="OPTION"&&f){const _=Ds({type:null,tagName:l,maskInputOptions:c});f=Zn({isMasked:Rn(e,r,o,s,i,_),element:e,value:f,maskInputFn:u})}return{type:_e.Text,textContent:f||"",isStyle:p,rootId:d}}function nb(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:o,inlineStylesheet:i,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:h=!1,rootId:m,maskAllText:S,maskTextClass:_,unmaskTextClass:E,maskTextSelector:M,unmaskTextSelector:O}=t,A=XS(e,r,s,o),w=HS(e);let v={};const C=e.attributes.length;for(let g=0;g<C;g++){const I=e.attributes[g];I.name&&!zl(w,I.name,I.value)&&(v[I.name]=Wl(n,w,xn(I.name),I.value,e,c))}if(w==="link"&&i){const g=Array.from(n.styleSheets).find(T=>T.href===e.href);let I=null;g&&(I=ps(g)),I&&(v.rel=null,v.href=null,v.crossorigin=null,v._cssText=ms(I,g.href))}if(w==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const g=ps(e.sheet);g&&(v._cssText=ms(g,Ns(n)))}if(w==="input"||w==="textarea"||w==="select"||w==="option"){const g=e,I=Di(g),T=hs(g,Bo(w),I),N=g.checked;if(I!=="submit"&&I!=="button"&&T){const G=Rn(g,_,M,E,O,Ds({type:I,tagName:Bo(w),maskInputOptions:a}));v.value=Zn({isMasked:G,element:g,value:T,maskInputFn:u})}N&&(v.checked=N)}if(w==="option"&&(e.selected&&!a.select?v.selected=!0:delete v.selected),w==="canvas"&&f){if(e.__context==="2d")PS(e)||(v.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){const g=e.toDataURL(d.type,d.quality),I=n.createElement("canvas");I.width=e.width,I.height=e.height;const T=I.toDataURL(d.type,d.quality);g!==T&&(v.rr_dataURL=g)}}if(w==="img"&&l){ln||(ln=n.createElement("canvas"),ec=ln.getContext("2d"));const g=e,I=g.currentSrc||g.getAttribute("src")||"<unknown-src>",T=g.crossOrigin,N=()=>{g.removeEventListener("load",N);try{ln.width=g.naturalWidth,ln.height=g.naturalHeight,ec.drawImage(g,0,0),v.rr_dataURL=ln.toDataURL(d.type,d.quality)}catch(G){if(g.crossOrigin!=="anonymous"){g.crossOrigin="anonymous",g.complete&&g.naturalWidth!==0?N():g.addEventListener("load",N);return}else console.warn(`Cannot inline img src=${I}! Error: ${G}`)}g.crossOrigin==="anonymous"&&(T?v.crossOrigin=T:g.removeAttribute("crossorigin"))};g.complete&&g.naturalWidth!==0?N():g.addEventListener("load",N)}if((w==="audio"||w==="video")&&(v.rr_mediaState=e.paused?"paused":"played",v.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(v.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(v.rr_scrollTop=e.scrollTop)),A){const{width:g,height:I}=e.getBoundingClientRect();v={class:v.class,rr_width:`${g}px`,rr_height:`${I}px`}}w==="iframe"&&!p(v.src)&&(!A&&!Bl(e)&&(v.rr_src=v.src),delete v.src);let b;try{customElements.get(w)&&(b=!0)}catch{}return{type:_e.Element,tagName:w,attributes:v,childNodes:[],isSVG:VS(e)||void 0,needBlock:A,rootId:m,isCustom:b}}function re(e){return e==null?"":e.toLowerCase()}function rb(e,t){if(t.comment&&e.type===_e.Comment)return!0;if(e.type===_e.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&$l(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(re(e.attributes.name).match(/^msapplication-tile(image|color)$/)||re(e.attributes.name)==="application-name"||re(e.attributes.rel)==="icon"||re(e.attributes.rel)==="apple-touch-icon"||re(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&re(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(re(e.attributes.property).match(/^(og|twitter|fb):/)||re(e.attributes.name).match(/^(og|twitter):/)||re(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(re(e.attributes.name)==="robots"||re(e.attributes.name)==="googlebot"||re(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(re(e.attributes.name)==="author"||re(e.attributes.name)==="generator"||re(e.attributes.name)==="framework"||re(e.attributes.name)==="publisher"||re(e.attributes.name)==="progid"||re(e.attributes.property).match(/^article:/)||re(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(re(e.attributes.name)==="google-site-verification"||re(e.attributes.name)==="yandex-verification"||re(e.attributes.name)==="csrf-token"||re(e.attributes.name)==="p:domain_verify"||re(e.attributes.name)==="verify-v1"||re(e.attributes.name)==="verification"||re(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function gn(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:h={},maskAttributeFn:m,maskTextFn:S,maskInputFn:_,slimDOMOptions:E,dataURLOptions:M={},inlineImages:O=!1,recordCanvas:A=!1,onSerialize:w,onIframeLoad:v,iframeLoadTimeout:C=5e3,onStylesheetLoad:b,stylesheetLoadTimeout:g=5e3,keepIframeSrcFn:I=()=>!1,newlyAddedElement:T=!1}=t;let{preserveWhiteSpace:N=!0}=t;const G=QS(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:S,maskInputFn:_,dataURLOptions:M,inlineImages:O,recordCanvas:A,keepIframeSrcFn:I,newlyAddedElement:T});if(!G)return console.warn(e,"not serialized"),null;let z;r.hasNode(e)?z=r.getId(e):rb(G,E)||!N&&G.type===_e.Text&&!G.isStyle&&!G.textContent.replace(/^\s+|\s+$/gm,"").length?z=Qn:z=Ni();const R=Object.assign(G,{id:z});if(r.add(e,R),z===Qn)return null;w&&w(e);let oe=!f;if(R.type===_e.Element){oe=oe&&!R.needBlock,delete R.needBlock;const $=e.shadowRoot;$&&Xn($)&&(R.isShadowHost=!0)}if((R.type===_e.Document||R.type===_e.Element)&&oe){E.headWhitespace&&R.type===_e.Element&&R.tagName==="head"&&(N=!1);const $={doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:S,maskInputFn:_,slimDOMOptions:E,dataURLOptions:M,inlineImages:O,recordCanvas:A,preserveWhiteSpace:N,onSerialize:w,onIframeLoad:v,iframeLoadTimeout:C,onStylesheetLoad:b,stylesheetLoadTimeout:g,keepIframeSrcFn:I};for(const Q of Array.from(e.childNodes)){const we=gn(Q,$);we&&R.childNodes.push(we)}if(xS(e)&&e.shadowRoot)for(const Q of Array.from(e.shadowRoot.childNodes)){const we=gn(Q,$);we&&(Xn(e.shadowRoot)&&(we.isShadow=!0),R.childNodes.push(we))}}return e.parentNode&&Vn(e.parentNode)&&Xn(e.parentNode)&&(R.isShadow=!0),R.type===_e.Element&&R.tagName==="iframe"&&JS(e,()=>{const $=Bl(e);if($&&v){const Q=gn($,{doc:$,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:S,maskInputFn:_,slimDOMOptions:E,dataURLOptions:M,inlineImages:O,recordCanvas:A,preserveWhiteSpace:N,onSerialize:w,onIframeLoad:v,iframeLoadTimeout:C,onStylesheetLoad:b,stylesheetLoadTimeout:g,keepIframeSrcFn:I});Q&&v(e,Q)}},C),R.type===_e.Element&&R.tagName==="link"&&typeof R.attributes.rel=="string"&&(R.attributes.rel==="stylesheet"||R.attributes.rel==="preload"&&typeof R.attributes.href=="string"&&$l(R.attributes.href)==="css")&&ZS(e,()=>{if(b){const $=gn(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:S,maskInputFn:_,slimDOMOptions:E,dataURLOptions:M,inlineImages:O,recordCanvas:A,preserveWhiteSpace:N,onSerialize:w,onIframeLoad:v,iframeLoadTimeout:C,onStylesheetLoad:b,stylesheetLoadTimeout:g,keepIframeSrcFn:I});$&&b(e,$)}},g),R}function sb(e,t){const{mirror:n=new Fl,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:o=null,maskAllText:i=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:h=!1,maskAttributeFn:m,maskTextFn:S,maskInputFn:_,slimDOM:E=!1,dataURLOptions:M,preserveWhiteSpace:O,onSerialize:A,onIframeLoad:w,iframeLoadTimeout:v,onStylesheetLoad:C,stylesheetLoadTimeout:b,keepIframeSrcFn:g=()=>!1}=t||{};return gn(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,maskAllText:i,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:m,maskTextFn:S,maskInputFn:_,slimDOMOptions:E===!0||E==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:E==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:E===!1?{}:E,dataURLOptions:M,inlineImages:f,recordCanvas:p,preserveWhiteSpace:O,onSerialize:A,onIframeLoad:w,iframeLoadTimeout:v,onStylesheetLoad:C,stylesheetLoadTimeout:b,keepIframeSrcFn:g,newlyAddedElement:!1})}function yt(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}function Te(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const fn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let nc={map:{},getId(){return console.error(fn),-1},getNode(){return console.error(fn),null},removeNodeFromMap(){console.error(fn)},has(){return console.error(fn),!1},reset(){console.error(fn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(nc=new Proxy(nc,{get(e,t,n){return t==="map"&&console.error(fn),Reflect.get(e,t,n)}}));function er(e,t,n={}){let r=null,s=0;return function(...o){const i=Date.now();!s&&n.leading===!1&&(s=i);const a=t-(i-s),c=this;a<=0||a>t?(r&&(db(r),r=null),s=i,e.apply(c,o)):!r&&n.trailing!==!1&&(r=Ls(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(c,o)},a))}}function jl(e,t,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(i){Ls(()=>{n.set.call(this,i)},0),o&&o.set&&o.set.call(this,i)}}),()=>jl(e,t,o||{},!0)}function Li(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}let gs=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(gs=()=>new Date().getTime());function ql(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:yt([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||yt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||yt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:yt([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||yt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||yt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function Gl(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Yl(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Vl(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function Me(e,t,n,r,s){if(!e)return!1;const o=Vl(e);if(!o)return!1;const i=mn(t,n);if(!s){const u=r&&o.matches(r);return i(o)&&!u}const a=qt(o,i);let c=-1;return a<0?!1:(r&&(c=qt(o,mn(null,r))),a>-1&&c<0?!0:a<c)}function ob(e,t){return t.getId(e)!==-1}function so(e,t){return t.getId(e)===Qn}function Xl(e,t){if(Vn(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Xl(e.parentNode,t):!0:!0}function zo(e){return!!e.changedTouches}function ib(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Kl(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Jl(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function jo(e){return!!yt([e,"optionalAccess",t=>t.shadowRoot])}class ab{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return mg(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Zl(e){let t=null;return yt([e,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function cb(e){let t=e,n;for(;n=Zl(t);)t=n;return t}function ub(e){const t=e.ownerDocument;if(!t)return!1;const n=cb(e);return t.contains(n)}function Ql(e){const t=e.ownerDocument;return t?t.contains(e)||ub(e):!1}const rc={};function Pi(e){const t=rc[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return rc[e]=r.bind(window)}function lb(...e){return Pi("requestAnimationFrame")(...e)}function Ls(...e){return Pi("setTimeout")(...e)}function db(...e){return Pi("clearTimeout")(...e)}var j=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(j||{}),U=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(U||{}),Ie=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Ie||{}),Ze=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Ze||{}),sc;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(sc||(sc={}));var oc;(function(e){e[e.PLACEHOLDER=0]="PLACEHOLDER",e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",e[e.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",e[e.ENTITY_NODE=6]="ENTITY_NODE",e[e.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE",e[e.DOCUMENT_NODE=9]="DOCUMENT_NODE",e[e.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",e[e.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE"})(oc||(oc={}));function Fi(e){try{return e.contentDocument}catch{}}function fb(e){try{return e.contentWindow}catch{}}function pb(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}function ic(e){return"__ln"in e}class hb{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=pb([n,"optionalAccess",s=>s.next])||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&ic(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&ic(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const ac=(e,t)=>`${e}@${t}`;class mb{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new hb,s=c=>{let u=c,d=Qn;for(;d===Qn;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},o=c=>{if(!c.parentNode||!Ql(c))return;const u=Vn(c.parentNode)?this.mirror.getId(Zl(c)):this.mirror.getId(c.parentNode),d=s(c);if(u===-1||d===-1)return r.addNode(c);const l=gn(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{Kl(f,this.mirror)&&!Me(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(f),Jl(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),jo(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{Me(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(f,p),f.contentWindow&&this.canvasManager.addWindow(f.contentWindow),this.shadowDomManager.observeAttachShadow(f))},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)}});l&&(t.push({parentId:u,nextId:d,node:l}),n.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)cc(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||o(c);for(const c of this.addedSet)!uc(this.droppedSet,c)&&!cc(this.removes,c,this.mirror)||uc(this.movedSet,c)?o(c):this.droppedSet.add(c);let i=null;for(;r.length;){let c=null;if(i){const u=this.mirror.getId(i.value.parentNode),d=s(i.value);u!==-1&&d!==-1&&(c=i)}if(!c){let u=r.tail;for(;u;){const d=u;if(u=u.previous,d){const l=this.mirror.getId(d.value.parentNode);if(s(d.value)===-1)continue;if(l!==-1){c=d;break}else{const p=d.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const h=p.parentNode.host;if(this.mirror.getId(h)!==-1){c=d;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}i=c.previous,r.removeNode(c.value),o(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const d=JSON.stringify(c.styleDiff),l=JSON.stringify(c._unchangedStyles);d.length<u.style.length&&(d+l).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!so(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!Me(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Rn(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Vl(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,s=t.target.getAttribute(r);if(r==="value"){const i=Di(n),a=n.tagName;s=hs(n,a,i);const c=Ds({maskInputOptions:this.maskInputOptions,tagName:a,type:i}),u=Rn(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);s=Zn({isMasked:u,element:n,value:s,maskInputFn:this.maskInputFn})}if(Me(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let o=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!Fi(n))r="rr_src";else return;if(o||(o={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(t.target,o)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!zl(n.tagName,r)&&(o.attributes[r]=Wl(this.doc,xn(n.tagName),xn(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const i=this.unattachedDoc.createElement("span");t.oldValue&&i.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==i.style.getPropertyValue(a)||u!==i.style.getPropertyPriority(a)?u===""?o.styleDiff[a]=c:o.styleDiff[a]=[c,u]:o._unchangedStyles[a]=[c,u]}for(const a of Array.from(i.style))n.style.getPropertyValue(a)===""&&(o.styleDiff[a]=!1)}break}case"childList":{if(Me(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=Vn(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Me(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||so(n,this.mirror)||!ob(n,this.mirror)||(this.addedSet.has(n)?(qo(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||Xl(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[ac(r,s)]?qo(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:Vn(t.target)&&Xn(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(so(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[ac(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Me(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),jo(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function qo(e,t){e.delete(t),t.childNodes.forEach(n=>qo(e,n))}function cc(e,t,n){return e.length===0?!1:gb(e,t,n)}function gb(e,t,n){let r=t.parentNode;for(;r;){const s=n.getId(r);if(e.some(o=>o.id===s))return!0;r=r.parentNode}return!1}function uc(e,t){return e.size===0?!1:ed(e,t)}function ed(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:ed(e,n):!1}let Kn;function _b(e){Kn=e}function yb(){Kn=void 0}const X=e=>Kn?(...n)=>{try{return e(...n)}catch(r){if(Kn&&Kn(r)===!0)return()=>{};throw r}}:e;function je(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}const _n=[];function gr(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function td(e,t){const n=new mb;_n.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=je([window,"optionalAccess",i=>i.Zone,"optionalAccess",i=>i.__symbol__,"optionalCall",i=>i("MutationObserver")]);s&&window[s]&&(r=window[s]);const o=new r(X(i=>{e.onMutation&&e.onMutation(i)===!1||n.processMutations.bind(n)(i)}));return o.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function Sb({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,o=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let i=[],a;const c=er(X(l=>{const f=Date.now()-a;e(i.map(p=>(p.timeOffset-=f,p)),l),i=[],a=null}),o),u=X(er(X(l=>{const f=gr(l),{clientX:p,clientY:h}=zo(l)?l.changedTouches[0]:l;a||(a=gs()),i.push({x:p,y:h,id:r.getId(f),timeOffset:gs()-a}),c(typeof DragEvent<"u"&&l instanceof DragEvent?U.Drag:l instanceof MouseEvent?U.MouseMove:U.TouchMove)}),s,{trailing:!1})),d=[Te("mousemove",u,n),Te("touchmove",u,n),Te("drag",u,n)];return X(()=>{d.forEach(l=>l())})}function bb({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){if(i.mouseInteraction===!1)return()=>{};const a=i.mouseInteraction===!0||i.mouseInteraction===void 0?{}:i.mouseInteraction,c=[];let u=null;const d=l=>f=>{const p=gr(f);if(Me(p,r,s,o,!0))return;let h=null,m=l;if("pointerType"in f){switch(f.pointerType){case"mouse":h=Ze.Mouse;break;case"touch":h=Ze.Touch;break;case"pen":h=Ze.Pen;break}h===Ze.Touch?Ie[l]===Ie.MouseDown?m="TouchStart":Ie[l]===Ie.MouseUp&&(m="TouchEnd"):Ze.Pen}else zo(f)&&(h=Ze.Touch);h!==null?(u=h,(m.startsWith("Touch")&&h===Ze.Touch||m.startsWith("Mouse")&&h===Ze.Mouse)&&(h=null)):Ie[l]===Ie.Click&&(h=u,u=null);const S=zo(f)?f.changedTouches[0]:f;if(!S)return;const _=n.getId(p),{clientX:E,clientY:M}=S;X(e)({type:Ie[m],id:_,x:E,y:M,...h!==null&&{pointerType:h}})};return Object.keys(Ie).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&a[l]!==!1).forEach(l=>{let f=xn(l);const p=d(l);if(window.PointerEvent)switch(Ie[l]){case Ie.MouseDown:case Ie.MouseUp:f=f.replace("mouse","pointer");break;case Ie.TouchStart:case Ie.TouchEnd:return}c.push(Te(f,p,t))}),X(()=>{c.forEach(l=>l())})}function nd({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){const a=X(er(X(c=>{const u=gr(c);if(!u||Me(u,r,s,o,!0))return;const d=n.getId(u);if(u===t&&t.defaultView){const l=ql(t.defaultView);e({id:d,x:l.left,y:l.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),i.scroll||100));return Te("scroll",a,t)}function Eb({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const s=X(er(X(()=>{const o=Gl(),i=Yl();(n!==o||r!==i)&&(e({width:Number(i),height:Number(o)}),n=o,r=i)}),200));return Te("resize",s,t)}const vb=["INPUT","TEXTAREA","SELECT"],lc=new WeakMap;function wb({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,ignoreClass:i,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:f,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:m}){function S(v){let C=gr(v);const b=v.isTrusted,g=C&&Bo(C.tagName);if(g==="OPTION"&&(C=C.parentElement),!C||!g||vb.indexOf(g)<0||Me(C,r,s,o,!0))return;const I=C;if(I.classList.contains(i)||a&&I.matches(a))return;const T=Di(C);let N=hs(I,g,T),G=!1;const z=Ds({maskInputOptions:c,tagName:g,type:T}),R=Rn(C,f,h,p,m,z);(T==="radio"||T==="checkbox")&&(G=C.checked),N=Zn({isMasked:R,element:C,value:N,maskInputFn:u}),_(C,l?{text:N,isChecked:G,userTriggered:b}:{text:N,isChecked:G});const oe=C.name;T==="radio"&&oe&&G&&t.querySelectorAll(`input[type="radio"][name="${oe}"]`).forEach($=>{if($!==C){const Q=Zn({isMasked:R,element:$,value:hs($,g,T),maskInputFn:u});_($,l?{text:Q,isChecked:!G,userTriggered:!1}:{text:Q,isChecked:!G})}})}function _(v,C){const b=lc.get(v);if(!b||b.text!==C.text||b.isChecked!==C.isChecked){lc.set(v,C);const g=n.getId(v);X(e)({...C,id:g})}}const M=(d.input==="last"?["change"]:["input","change"]).map(v=>Te(v,X(S),t)),O=t.defaultView;if(!O)return()=>{M.forEach(v=>v())};const A=O.Object.getOwnPropertyDescriptor(O.HTMLInputElement.prototype,"value"),w=[[O.HTMLInputElement.prototype,"value"],[O.HTMLInputElement.prototype,"checked"],[O.HTMLSelectElement.prototype,"value"],[O.HTMLTextAreaElement.prototype,"value"],[O.HTMLSelectElement.prototype,"selectedIndex"],[O.HTMLOptionElement.prototype,"selected"]];return A&&A.set&&M.push(...w.map(v=>jl(v[0],v[1],{set(){X(S)({target:this,isTrusted:!1})}},!1,O))),X(()=>{M.forEach(v=>v())})}function _s(e){const t=[];function n(r,s){if(Ar("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Ar("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Ar("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Ar("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const i=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(i)}else if(r.parentStyleSheet){const i=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(i)}return s}return n(e,t)}function St(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function Ib({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:X((d,l,f)=>{const[p,h]=f,{id:m,styleId:S}=St(l,t,n.styleMirror);return(m&&m!==-1||S&&S!==-1)&&e({id:m,styleId:S,adds:[{rule:p,index:h}]}),d.apply(l,f)})});const o=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:X((d,l,f)=>{const[p]=f,{id:h,styleId:m}=St(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,removes:[{index:p}]}),d.apply(l,f)})});let i;r.CSSStyleSheet.prototype.replace&&(i=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:X((d,l,f)=>{const[p]=f,{id:h,styleId:m}=St(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,replace:p}),d.apply(l,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:X((d,l,f)=>{const[p]=f,{id:h,styleId:m}=St(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,replaceSync:p}),d.apply(l,f)})}));const c={};Or("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Or("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Or("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Or("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:X((f,p,h)=>{const[m,S]=h,{id:_,styleId:E}=St(p.parentStyleSheet,t,n.styleMirror);return(_&&_!==-1||E&&E!==-1)&&e({id:_,styleId:E,adds:[{rule:m,index:[..._s(p),S||0]}]}),f.apply(p,h)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:X((f,p,h)=>{const[m]=h,{id:S,styleId:_}=St(p.parentStyleSheet,t,n.styleMirror);return(S&&S!==-1||_&&_!==-1)&&e({id:S,styleId:_,removes:[{index:[..._s(p),m]}]}),f.apply(p,h)})})}),X(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=o,i&&(r.CSSStyleSheet.prototype.replace=i),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function rd({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const s=n.nodeName==="#document"?je([n,"access",i=>i.defaultView,"optionalAccess",i=>i.Document]):je([n,"access",i=>i.ownerDocument,"optionalAccess",i=>i.defaultView,"optionalAccess",i=>i.ShadowRoot]),o=je([s,"optionalAccess",i=>i.prototype])?Object.getOwnPropertyDescriptor(je([s,"optionalAccess",i=>i.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!o?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){return je([o,"access",i=>i.get,"optionalAccess",i=>i.call,"call",i=>i(this)])},set(i){const a=je([o,"access",c=>c.set,"optionalAccess",c=>c.call,"call",c=>c(this,i)]);if(r!==null&&r!==-1)try{t.adoptStyleSheets(i,r)}catch{}return a}}),X(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})}))}function Tb({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const o=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:X((a,c,u)=>{const[d,l,f]=u;if(n.has(d))return o.apply(c,[d,l,f]);const{id:p,styleId:h}=St(je([c,"access",m=>m.parentRule,"optionalAccess",m=>m.parentStyleSheet]),t,r.styleMirror);return(p&&p!==-1||h&&h!==-1)&&e({id:p,styleId:h,set:{property:d,value:l,priority:f},index:_s(c.parentRule)}),a.apply(c,u)})});const i=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(i,{apply:X((a,c,u)=>{const[d]=u;if(n.has(d))return i.apply(c,[d]);const{id:l,styleId:f}=St(je([c,"access",p=>p.parentRule,"optionalAccess",p=>p.parentStyleSheet]),t,r.styleMirror);return(l&&l!==-1||f&&f!==-1)&&e({id:l,styleId:f,remove:{property:d},index:_s(c.parentRule)}),a.apply(c,u)})}),X(()=>{s.CSSStyleDeclaration.prototype.setProperty=o,s.CSSStyleDeclaration.prototype.removeProperty=i})}function kb({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:o,doc:i}){const a=X(u=>er(X(d=>{const l=gr(d);if(!l||Me(l,t,n,r,!0))return;const{currentTime:f,volume:p,muted:h,playbackRate:m}=l;e({type:u,id:s.getId(l),currentTime:f,volume:p,muted:h,playbackRate:m})}),o.media||500)),c=[Te("play",a(0),i),Te("pause",a(1),i),Te("seeked",a(2),i),Te("volumechange",a(3),i),Te("ratechange",a(4),i)];return X(()=>{c.forEach(u=>u())})}function Cb({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,o=n.FontFace;n.FontFace=function(c,u,d){const l=new o(c,u,d);return s.set(l,{family:c,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};const i=Li(t.fonts,"add",function(a){return function(c){return Ls(X(()=>{const u=s.get(c);u&&(e(u),s.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=o}),r.push(i),X(()=>{r.forEach(a=>a())})}function xb(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,selectionCb:i}=e;let a=!0;const c=X(()=>{const u=t.getSelection();if(!u||a&&je([u,"optionalAccess",f=>f.isCollapsed]))return;a=u.isCollapsed||!1;const d=[],l=u.rangeCount||0;for(let f=0;f<l;f++){const p=u.getRangeAt(f),{startContainer:h,startOffset:m,endContainer:S,endOffset:_}=p;Me(h,r,s,o,!0)||Me(S,r,s,o,!0)||d.push({start:n.getId(h),startOffset:m,end:n.getId(S),endOffset:_})}i({ranges:d})});return c(),Te("selectionchange",c)}function Rb({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:Li(n.customElements,"define",function(s){return function(o,i,a){try{t({define:{name:o}})}catch{}return s.apply(this,[o,i,a])}})}function Mb(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=td(e,e.doc));const s=Sb(e),o=bb(e),i=nd(e),a=Eb(e,{win:n}),c=wb(e),u=kb(e);let d=()=>{},l=()=>{},f=()=>{},p=()=>{};e.recordDOM&&(d=Ib(e,{win:n}),l=rd(e,e.doc),f=Tb(e,{win:n}),e.collectFonts&&(p=Cb(e)));const h=xb(e),m=Rb(e),S=[];for(const _ of e.plugins)S.push(_.observer(_.callback,n,_.options));return X(()=>{_n.forEach(_=>_.reset()),je([r,"optionalAccess",_=>_.disconnect,"call",_=>_()]),s(),o(),i(),a(),c(),u(),d(),l(),f(),p(),h(),m(),S.forEach(_=>_())})}function Ar(e){return typeof window[e]<"u"}function Or(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Go{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const o=r||this.getIdToRemoteIdMap(t),i=s||this.getRemoteIdToIdMap(t);let a=o.get(n);return a||(a=this.generateIdFn(),o.set(n,a),i.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(o=>this.getId(t,o,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const o=s.get(n);return o||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}function dc(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}class Ab{constructor(){this.crossOriginIframeMirror=new Go(Ni),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class Ob{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Go(Ni),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Go(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),dc([this,"access",s=>s.loadListener,"optionalCall",s=>s(t)]);const r=Fi(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const o=this.transformCrossOriginEvent(s,n.data.event);o&&this.wrappedEmit(o,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case j.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:j.IncrementalSnapshot,data:{source:U.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case j.Meta:case j.Load:case j.DomContentLoaded:return!1;case j.Plugin:return n;case j.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case j.IncrementalSnapshot:switch(n.data.source){case U.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);const s=this.crossOriginIframeRootIdMap.get(t);s&&this.patchRootIdOnNode(r.node,s)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case U.Drag:case U.TouchMove:case U.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case U.ViewportResize:return!1;case U.MediaInteraction:case U.MouseInteraction:case U.Scroll:case U.CanvasMutation:case U.Input:return this.replaceIds(n.data,t,["id"]),n;case U.StyleSheetRule:case U.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case U.Font:return n;case U.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case U.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),dc([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(s=>{this.replaceStyleIds(s,t,["styleId"])})]),n}}return!1}replace(t,n,r,s){for(const o of s)!Array.isArray(n[o])&&typeof n[o]!="number"||(Array.isArray(n[o])?n[o]=t.getIds(r,n[o]):n[o]=t.getId(r,n[o]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==_e.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class Db{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class Nb{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!Xn(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=td({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(nd({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),Ls(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(rd({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=Fi(t),r=fb(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(Li(t.prototype,"attachShadow",function(s){return function(o){const i=s.call(this,o);return this.shadowRoot&&Ql(this)&&r.addShadowRoot(this.shadowRoot,n),i}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}class fc{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class Lb{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new ab,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},s=[];for(const o of t){let i;this.styleMirror.has(o)?i=this.styleMirror.getId(o):(i=this.styleMirror.add(o),s.push({styleId:i,rules:Array.from(o.rules||CSSRule,(a,c)=>({rule:Pl(a),index:c}))})),r.styleIds.push(i)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class Pb{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.active||(this.active=!0,lb(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let le,ys;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=Kt([e,"access",t=>t.contentWindow,"optionalAccess",t=>t.Array,"access",t=>t.from])||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const We=LS();function rt(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:o=null,unblockSelector:i=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:h=!0,maskAllInputs:m,maskInputOptions:S,slimDOMOptions:_,maskAttributeFn:E,maskInputFn:M,maskTextFn:O,maxCanvasSize:A=null,packFn:w,sampling:v={},dataURLOptions:C={},mousemoveWait:b,recordDOM:g=!0,recordCanvas:I=!1,recordCrossOriginIframes:T=!1,recordAfter:N=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:G=!1,collectFonts:z=!1,inlineImages:R=!1,plugins:oe,keepIframeSrcFn:$=()=>!1,ignoreCSSAttributes:Q=new Set([]),errorHandler:we,onMutation:$e,getCanvasManager:Ht}=e;_b(we);const on=T?window.parent===window:!0;let He=!1;if(!on)try{window.parent.document&&(He=!1)}catch{He=!0}if(on&&!t)throw new Error("emit function is required");if(!on&&!He)return()=>{};b!==void 0&&v.mousemove===void 0&&(v.mousemove=b),We.reset();const De=m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:S!==void 0?S:{},Je=_===!0||_==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:_==="all",headMetaDescKeywords:_==="all"}:_||{};ib();let an,cn=0;const Un=K=>{for(const Be of oe||[])Be.eventProcessor&&(K=Be.eventProcessor(K));return w&&!He&&(K=w(K)),K};le=(K,Be)=>{const V=K;if(V.timestamp=gs(),Kt([_n,"access",ae=>ae[0],"optionalAccess",ae=>ae.isFrozen,"call",ae=>ae()])&&V.type!==j.FullSnapshot&&!(V.type===j.IncrementalSnapshot&&V.data.source===U.Mutation)&&_n.forEach(ae=>ae.unfreeze()),on)Kt([t,"optionalCall",ae=>ae(Un(V),Be)]);else if(He){const ae={type:"rrweb",event:Un(V),origin:window.location.origin,isCheckout:Be};window.parent.postMessage(ae,"*")}if(V.type===j.FullSnapshot)an=V,cn=0;else if(V.type===j.IncrementalSnapshot){if(V.data.source===U.Mutation&&V.data.isAttachIframe)return;cn++;const ae=r&&cn>=r,J=n&&an&&V.timestamp-an.timestamp>n;(ae||J)&&zs(!0)}};const mt=K=>{le({type:j.IncrementalSnapshot,data:{source:U.Mutation,...K}})},ne=K=>le({type:j.IncrementalSnapshot,data:{source:U.Scroll,...K}}),be=K=>le({type:j.IncrementalSnapshot,data:{source:U.CanvasMutation,...K}}),Ue=K=>le({type:j.IncrementalSnapshot,data:{source:U.AdoptedStyleSheet,...K}}),de=new Lb({mutationCb:mt,adoptedStyleSheetCb:Ue}),ie=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Ab:new Ob({mirror:We,mutationCb:mt,stylesheetManager:de,recordCrossOriginIframes:T,wrappedEmit:le});for(const K of oe||[])K.getMirror&&K.getMirror({nodeMirror:We,crossOriginIframeMirror:ie.crossOriginIframeMirror,crossOriginIframeStyleMirror:ie.crossOriginIframeStyleMirror});const Ne=new Pb,Ut=$b(Ht,{mirror:We,win:window,mutationCb:K=>le({type:j.IncrementalSnapshot,data:{source:U.CanvasMutation,...K}}),recordCanvas:I,blockClass:s,blockSelector:o,unblockSelector:i,maxCanvasSize:A,sampling:v.canvas,dataURLOptions:C,errorHandler:we}),un=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Db:new Nb({mutationCb:mt,scrollCb:ne,bypassOptions:{onMutation:$e,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:De,dataURLOptions:C,maskAttributeFn:E,maskTextFn:O,maskInputFn:M,recordCanvas:I,inlineImages:R,sampling:v,slimDOMOptions:Je,iframeManager:ie,stylesheetManager:de,canvasManager:Ut,keepIframeSrcFn:$,processedNodeManager:Ne},mirror:We}),zs=(K=!1)=>{if(!g)return;le({type:j.Meta,data:{href:window.location.href,width:Yl(),height:Gl()}},K),de.reset(),un.init(),_n.forEach(V=>V.lock());const Be=sb(document,{mirror:We,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskAllInputs:De,maskAttributeFn:E,maskInputFn:M,maskTextFn:O,slimDOM:Je,dataURLOptions:C,recordCanvas:I,inlineImages:R,onSerialize:V=>{Kl(V,We)&&ie.addIframe(V),Jl(V,We)&&de.trackLinkElement(V),jo(V)&&un.addShadowRoot(V.shadowRoot,document)},onIframeLoad:(V,ae)=>{ie.attachIframe(V,ae),V.contentWindow&&Ut.addWindow(V.contentWindow),un.observeAttachShadow(V)},onStylesheetLoad:(V,ae)=>{de.attachLinkElement(V,ae)},keepIframeSrcFn:$});if(!Be)return console.warn("Failed to snapshot the document");le({type:j.FullSnapshot,data:{node:Be,initialOffset:ql(window)}}),_n.forEach(V=>V.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&de.adoptStyleSheets(document.adoptedStyleSheets,We.getId(document))};ys=zs;try{const K=[],Be=ae=>X(Mb)({onMutation:$e,mutationCb:mt,mousemoveCb:(J,Bt)=>le({type:j.IncrementalSnapshot,data:{source:Bt,positions:J}}),mouseInteractionCb:J=>le({type:j.IncrementalSnapshot,data:{source:U.MouseInteraction,...J}}),scrollCb:ne,viewportResizeCb:J=>le({type:j.IncrementalSnapshot,data:{source:U.ViewportResize,...J}}),inputCb:J=>le({type:j.IncrementalSnapshot,data:{source:U.Input,...J}}),mediaInteractionCb:J=>le({type:j.IncrementalSnapshot,data:{source:U.MediaInteraction,...J}}),styleSheetRuleCb:J=>le({type:j.IncrementalSnapshot,data:{source:U.StyleSheetRule,...J}}),styleDeclarationCb:J=>le({type:j.IncrementalSnapshot,data:{source:U.StyleDeclaration,...J}}),canvasMutationCb:be,fontCb:J=>le({type:j.IncrementalSnapshot,data:{source:U.Font,...J}}),selectionCb:J=>{le({type:j.IncrementalSnapshot,data:{source:U.Selection,...J}})},customElementCb:J=>{le({type:j.IncrementalSnapshot,data:{source:U.CustomElement,...J}})},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:De,inlineStylesheet:h,sampling:v,recordDOM:g,recordCanvas:I,inlineImages:R,userTriggeredOnInput:G,collectFonts:z,doc:ae,maskAttributeFn:E,maskInputFn:M,maskTextFn:O,keepIframeSrcFn:$,blockSelector:o,unblockSelector:i,slimDOMOptions:Je,dataURLOptions:C,mirror:We,iframeManager:ie,stylesheetManager:de,shadowDomManager:un,processedNodeManager:Ne,canvasManager:Ut,ignoreCSSAttributes:Q,plugins:Kt([oe,"optionalAccess",J=>J.filter,"call",J=>J(Bt=>Bt.observer),"optionalAccess",J=>J.map,"call",J=>J(Bt=>({observer:Bt.observer,options:Bt.options,callback:Qd=>le({type:j.Plugin,data:{plugin:Bt.name,payload:Qd}})}))])||[]},{});ie.addLoadListener(ae=>{try{K.push(Be(ae.contentDocument))}catch(J){console.warn(J)}});const V=()=>{zs(),K.push(Be(document))};return document.readyState==="interactive"||document.readyState==="complete"?V():(K.push(Te("DOMContentLoaded",()=>{le({type:j.DomContentLoaded,data:{}}),N==="DOMContentLoaded"&&V()})),K.push(Te("load",()=>{le({type:j.Load,data:{}}),N==="load"&&V()},window))),()=>{K.forEach(ae=>ae()),Ne.destroy(),ys=void 0,yb()}}catch(K){console.warn(K)}}function Fb(e){if(!ys)throw new Error("please take full snapshot after start recording");ys(e)}rt.mirror=We;rt.takeFullSnapshot=Fb;function $b(e,t){try{return e?e(t):new fc}catch{return console.warn("Unable to initialize CanvasManager"),new fc}}const Hb=3,Ub=5;function $i(e){return e>9999999999?e:e*1e3}function oo(e){return e>9999999999?e/1e3:e}function _r(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:j.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Le(t,10,1e3)}}),t.category==="console")))}const Bb="button,a";function sd(e){return e.closest(Bb)||e}function od(e){const t=id(e);return!t||!(t instanceof Element)?t:sd(t)}function id(e){return Wb(e)?e.target:e}function Wb(e){return typeof e=="object"&&!!e&&"target"in e}let bt;function zb(e){return bt||(bt=[],jb()),bt.push(e),()=>{const t=bt?bt.indexOf(e):-1;t>-1&&bt.splice(t,1)}}function jb(){ke(se,"open",function(e){return function(...t){if(bt)try{bt.forEach(n=>n())}catch{}return e.apply(se,t)}})}const qb=new Set([U.Mutation,U.StyleSheetRule,U.StyleDeclaration,U.AdoptedStyleSheet,U.CanvasMutation,U.Selection,U.MediaInteraction]);function Gb(e,t,n){e.handleClick(t,n)}class Yb{constructor(t,n,r=_r){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=zb(()=>{this._lastMutation=pc()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(Xb(n,this._ignoreSelector)||!Kb(t))return;const r={timestamp:oo(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=oo(t)}registerScroll(t=Date.now()){this._lastScroll=oo(t)}registerClick(t){const n=sd(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=pc();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,o=!r&&!s,{clickCount:i,clickBreadcrumb:a}=t;if(o){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:se.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:i||1}};this._addBreadcrumbEvent(n,d);return}if(i>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:se.location.href,route:n.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=kn(()=>this._checkClicks(),1e3)}}const Vb=["A","BUTTON","INPUT"];function Xb(e,t){return!!(!Vb.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function Kb(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function pc(){return Date.now()/1e3}function Jb(e,t){try{if(!Zb(t))return;const{source:n}=t.data;if(qb.has(n)&&e.registerMutation(t.timestamp),n===U.Scroll&&e.registerScroll(t.timestamp),Qb(t)){const{type:r,id:s}=t.data,o=rt.mirror.getNode(s);o instanceof HTMLElement&&r===Ie.Click&&e.registerClick(o)}}catch{}}function Zb(e){return e.type===Hb}function Qb(e){return e.data.source===U.MouseInteraction}function Ve(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Ss;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Ss||(Ss={}));const eE=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function tE(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(eE.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const nE=e=>t=>{if(!e.isEnabled())return;const n=rE(t);if(!n)return;const r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&s&&s.target&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&Gb(e.clickDetector,n,od(t.event)),_r(e,n)};function ad(e,t){const n=rt.mirror.getId(e),r=n&&rt.mirror.getNode(n),s=r&&rt.mirror.getMeta(r),o=s&&oE(s)?s:null;return{message:t,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map(i=>i.type===Ss.Text&&i.textContent).filter(Boolean).map(i=>i.trim()).join(""),attributes:tE(o.attributes)}}:{}}}function rE(e){const{target:t,message:n}=sE(e);return Ve({category:`ui.${e.name}`,...ad(t,n)})}function sE(e){const t=e.name==="click";let n,r=null;try{r=t?od(e.event):id(e.event),n=it(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function oE(e){return e.type===Ss.Element}function iE(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=aE(t);n&&_r(e,n)}function aE(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o,target:i}=e;if(!i||cE(i)||!o)return null;const a=t||r||s,c=o.length===1;if(!a&&c)return null;const u=it(i,{maxStringLength:200})||"<unknown>",d=ad(i,u);return Ve({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o}})}function cE(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const uE={resource:hE,paint:fE,navigation:pE};function Dr(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function lE(e){return e.map(dE).filter(Boolean)}function dE(e){const t=uE[e.entryType];return t?t(e):null}function Mn(e){return((ve||se.performance.timeOrigin)+e)/1e3}function fE(e){const{duration:t,entryType:n,name:r,startTime:s}=e,o=Mn(s);return{type:n,name:r,start:o,end:o+t,data:void 0}}function pE(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:o,encodedBodySize:i,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:f,startTime:p,transferSize:h,type:m}=e;return s===0?null:{type:`${t}.${m}`,start:Mn(p),end:Mn(o),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:i,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:l,domComplete:o,redirectCount:f}}}function hE(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:o,decodedBodySize:i,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Mn(o),end:Mn(s),name:r,data:{size:u,statusCode:c,decodedBodySize:i,encodedBodySize:a}}}function mE(e){const t=e.entries[e.entries.length-1],n=t&&t.element?[t.element]:void 0;return Ps(e,"largest-contentful-paint",n)}function gE(e){return e.sources!==void 0}function _E(e){const t=[],n=[];for(const r of e.entries)if(gE(r)){const s=[];for(const o of r.sources)if(o.node){n.push(o.node);const i=rt.mirror.getId(o.node);i&&s.push(i)}t.push({value:r.value,nodeIds:s.length?s:void 0})}return Ps(e,"cumulative-layout-shift",n,t)}function yE(e){const t=e.entries[e.entries.length-1],n=t&&t.target?[t.target]:void 0;return Ps(e,"first-input-delay",n)}function SE(e){const t=e.entries[e.entries.length-1],n=t&&t.target?[t.target]:void 0;return Ps(e,"interaction-to-next-paint",n)}function Ps(e,t,n,r){const s=e.value,o=e.rating,i=Mn(s);return{type:"web-vital",name:t,start:i,end:i,data:{value:s,size:s,rating:o,nodeIds:n?n.map(a=>rt.mirror.getId(a)):void 0,attributions:r}}}function bE(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(Tn(s,n))}),r.push(El(Dr(mE,e)),ki(Dr(_E,e)),vl(Dr(yE,e)),wl(Dr(SE,e))),()=>{r.forEach(s=>s())}}const L=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,EE='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=A(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},U=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=x(f,15),M=b.t,E=b.l,A=x(h,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=C[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(a[t]^a[t+1]<<A^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=U(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=U(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),a=0,s=function(t){i[a++]=t},o=0;o<e;++o){if(a+5>i.length){var f=new t(a+8+(e-o<<1));f.set(i),i=f}var h=n.charCodeAt(o);h<128||r?s(h):h<2048?(s(192|h>>6),s(128|63&h)):h>55295&&h<57344?(s(240|(h=65536+(1047552&h)|1023&n.charCodeAt(++o))>>18),s(128|h>>12&63),s(128|h>>6&63),s(128|63&h)):(s(224|h>>12),s(128|h>>6&63),s(128|63&h))}return b(i,0,a)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function vE(){const e=new Blob([EE]);return URL.createObjectURL(e)}const hc=["info","warn","error","log"],jr="[Replay] ";function io(e,t="info"){ut({category:"console",data:{logger:"replay"},level:t,message:`${jr}${e}`},{level:t})}function wE(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=r.captureExceptions,t=r.traceInternals}};return L?(hc.forEach(r=>{n[r]=(...s)=>{y[r](jr,...s),t&&io(s.join(""),yi(r))}}),n.exception=(r,...s)=>{s.length&&n.error&&n.error(...s),y.error(jr,r),e?_i(r):t&&io(r,"error")},n.infoTick=(...r)=>{y.info(jr,...r),t&&setTimeout(()=>io(r[0]),0)}):hc.forEach(r=>{n[r]=()=>{}}),n}const H=wE();class Hi extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Oi}.`)}}class cd{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>Oi)throw new Hi;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?$i(t):null}}class IE{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){L&&H.info("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,o)=>{const i=({data:a})=>{const c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",i),!c.success){L&&H.error("Error in compression worker: ",c.response),o(new Error("Error in compression worker"));return}s(c.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class TE{constructor(t){this._worker=new IE(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=$i(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>Oi?Promise.reject(new Hi):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{L&&H.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class kE{constructor(t){this._fallback=new cd,this._compression=new TE(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){L&&H.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,s=[];for(const o of t)s.push(this._compression.addEvent(o));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(s),this._fallback.clear()}catch(o){L&&H.exception(o,"Failed to add events when switching buffers.")}}}function CE({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=xE(t);if(n)return n}return L&&H.info("Using simple buffer"),new cd}function xE(e){try{const t=e||RE();if(!t)return;L&&H.info(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new kE(n)}catch(t){L&&H.exception(t,"Failed to create compression worker")}}function RE(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?vE():""}function Ui(){try{return"sessionStorage"in se&&!!se.sessionStorage}catch{return!1}}function ME(e){AE(),e.session=void 0}function AE(){if(Ui())try{se.sessionStorage.removeItem(Mi)}catch{}}function ud(e){return e===void 0?!1:Math.random()<e}function ld(e){const t=Date.now(),n=e.id||Ce(),r=e.started||t,s=e.lastActivity||t,o=e.segmentId||0,i=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:s,segmentId:o,sampled:i,previousSessionId:a}}function Bi(e){if(Ui())try{se.sessionStorage.setItem(Mi,JSON.stringify(e))}catch{}}function OE(e,t){return ud(e)?"session":t?"buffer":!1}function mc({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=OE(e,t),o=ld({sampled:s,previousSessionId:r});return n&&Bi(o),o}function DE(){if(!Ui())return null;try{const e=se.sessionStorage.getItem(Mi);if(!e)return null;const t=JSON.parse(e);return L&&H.infoTick("Loading existing session"),ld(t)}catch{return null}}function Yo(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function dd(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Yo(e.started,t,r)||Yo(e.lastActivity,n,r)}function fd(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!dd(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function ao({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const s=r.stickySession&&DE();return s?fd(s,{sessionIdleExpire:e,maxReplayDuration:t})?(L&&H.infoTick("Session in sessionStorage is expired, creating new one..."),mc(r,{previousSessionId:s.id})):s:(L&&H.infoTick("Creating new session"),mc(r,{previousSessionId:n}))}function NE(e){return e.type===j.Custom}function Wi(e,t,n){return hd(e,t)?(pd(e,t,n),!0):!1}function LE(e,t,n){return hd(e,t)?pd(e,t,n):Promise.resolve(null)}async function pd(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const s=e.recordingMode==="buffer";try{n&&s&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const o=e.getOptions(),i=PE(t,o.beforeAddRecordingEvent);return i?await r.addEvent(i):void 0}catch(o){const i=o&&o instanceof Hi,a=i?"addEventSizeExceeded":"addEvent";if(i&&s)return r.clear(),r.waitForCheckout=!0,null;e.handleException(o),await e.stop({reason:a});const c=x();c&&c.recordDroppedEvent("internal_sdk_error","replay")}}function hd(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=$i(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(L&&H.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function PE(e,t){try{if(typeof t=="function"&&NE(e))return t(e)}catch(n){return L&&H.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function zi(e){return!e.type}function Vo(e){return e.type==="transaction"}function FE(e){return e.type==="replay_event"}function gc(e){return e.type==="feedback"}function $E(e){return(t,n)=>{if(!e.isEnabled()||!zi(t)&&!Vo(t))return;const r=n&&n.statusCode;if(!(!r||r<200||r>=300)){if(Vo(t)){HE(e,t);return}UE(e,t)}}}function HE(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function UE(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||kn(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(s){e.handleException(s)}})}function BE(e){return t=>{!e.isEnabled()||!zi(t)||WE(e,t)}}function WE(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=Ve({category:"replay.hydrate-error",data:{url:oi()}});_r(e,r)}}function zE(e){const t=x();t&&t.on("beforeAddBreadcrumb",n=>jE(e,n))}function jE(e,t){if(!e.isEnabled()||!md(t))return;const n=qE(t);n&&_r(e,n)}function qE(e){return!md(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?GE(e):Ve(e)}function GE(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return Ve(e);let n=!1;const r=t.map(s=>{if(!s)return s;if(typeof s=="string")return s.length>Mr?(n=!0,`${s.slice(0,Mr)}`):s;if(typeof s=="object")try{const o=Le(s,7);return JSON.stringify(o).length>Mr?(n=!0,`${JSON.stringify(o,null,2).slice(0,Mr)}`):o}catch{}return s});return Ve({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function md(e){return!!e.category}function YE(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function gd(){const e=B().getPropagationContext().dsc;e&&delete e.replay_id;const t=he();if(t){const n=$t(t);delete n.replay_id}}function VE(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:j.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function XE(e,t){return e.recordingMode!=="buffer"||t.message===Ai||!t.exception||t.type?!1:ud(e.getOptions().errorSampleRate)}function KE(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:FE(t)?(delete t.breadcrumbs,t):!zi(t)&&!Vo(t)&&!gc(t)?t:e.checkAndHandleExpiredSession()?gc(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),VE(e,t),t):YE(t,n)&&!e.getOptions()._experiments.captureExceptions?(L&&H.log("Ignoring error from rrweb internals",t),null):((XE(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(gd(),t),{id:"Replay"})}function Fs(e,t){return t.map(({type:n,start:r,end:s,name:o,data:i})=>{const a=e.throttledAddEvent({type:j.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:o,startTimestamp:r,endTimestamp:s,data:i}}});return typeof a=="string"?Promise.resolve(null):a})}function JE(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function ZE(e){return t=>{if(!e.isEnabled())return;const n=JE(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(Fs(e,[n]),!1)))}}function QE(e,t){return L&&e.getOptions()._experiments.traceInternals?!1:Ku(t,x())}function _d(e,t){e.isEnabled()&&t!==null&&(QE(e,t.name)||e.addUpdate(()=>(Fs(e,[t]),!0)))}function $s(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=Ed(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function yd(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Sd(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Ed(e)];if(!e)return[void 0]}catch(t){return L&&H.exception(t,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return L&&H.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function bs(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function bd(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:o,statusCode:i,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:fe({method:o,statusCode:i,request:a,response:c})}}function tr(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function xt(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:o}=ev(n);return r.body=s,o&&o.length>0&&(r._meta={warnings:o}),r}function Xo(e,t){return Object.entries(e).reduce((n,[r,s])=>{const o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=s),n},{})}function Ed(e){return new URLSearchParams(e).toString()}function ev(e){if(!e||typeof e!="string")return{body:e};const t=e.length>Ka,n=tv(e);if(t){const r=e.slice(0,Ka);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function tv(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function Es(e,t){const n=nv(e);return Ct(n,t)}function nv(e,t=se.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(se.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function rv(e,t,n){try{const r=await ov(e,t,n),s=bd("resource.fetch",r);_d(n.replay,s)}catch(r){L&&H.exception(r,"Failed to capture fetch breadcrumb")}}function sv(e,t){const{input:n,response:r}=t,s=n?vd(n):void 0,o=$s(s),i=r?yd(r.headers.get("content-length")):void 0;o!==void 0&&(e.data.request_body_size=o),i!==void 0&&(e.data.response_body_size=i)}async function ov(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r}=t,{url:i,method:a,status_code:c=0,request_body_size:u,response_body_size:d}=e.data,l=Es(i,n.networkDetailAllowUrls)&&!Es(i,n.networkDetailDenyUrls),f=l?iv(n,t.input,u):tr(u),p=await av(l,n,t.response,d);return{startTimestamp:s,endTimestamp:o,url:i,method:a,statusCode:c,request:f,response:p}}function iv({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?lv(n,t):{};if(!e)return xt(s,r,void 0);const o=vd(n),[i,a]=Sd(o),c=xt(s,r,i);return a?bs(c,a):c}async function av(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,s){if(!e&&s!==void 0)return tr(s);const o=r?wd(r.headers,n):{};if(!r||!t&&s!==void 0)return xt(o,s,void 0);const[i,a]=await uv(r),c=cv(i,{networkCaptureBodies:t,responseBodySize:s,captureDetails:e,headers:o});return a?bs(c,a):c}function cv(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:s}){try{const o=e&&e.length&&n===void 0?$s(e):n;return r?t?xt(s,o,e):xt(s,o,void 0):tr(o)}catch(o){return L&&H.exception(o,"Failed to serialize response body"),xt(s,n,void 0)}}async function uv(e){const t=dv(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await fv(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(L&&H.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(L&&H.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function vd(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function wd(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function lv(e,t){return e.length===1&&typeof e[0]!="string"?_c(e[0],t):e.length===2?_c(e[1],t):{}}function _c(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?wd(n,t):Array.isArray(n)?{}:Xo(n,t):{}}function dv(e){try{return e.clone()}catch(t){L&&H.exception(t,"Failed to clone response body")}}function fv(e){return new Promise((t,n)=>{const r=kn(()=>n(new Error("Timeout while trying to read response body")),500);pv(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function pv(e){return await e.text()}async function hv(e,t,n){try{const r=gv(e,t,n),s=bd("resource.xhr",r);_d(n.replay,s)}catch(r){L&&H.exception(r,"Failed to capture xhr breadcrumb")}}function mv(e,t){const{xhr:n,input:r}=t;if(!n)return;const s=$s(r),o=n.getResponseHeader("content-length")?yd(n.getResponseHeader("content-length")):bv(n.response,n.responseType);s!==void 0&&(e.data.request_body_size=s),o!==void 0&&(e.data.response_body_size=o)}function gv(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r,input:i,xhr:a}=t,{url:c,method:u,status_code:d=0,request_body_size:l,response_body_size:f}=e.data;if(!c)return null;if(!a||!Es(c,n.networkDetailAllowUrls)||Es(c,n.networkDetailDenyUrls)){const w=tr(l),v=tr(f);return{startTimestamp:s,endTimestamp:o,url:c,method:u,statusCode:d,request:w,response:v}}const p=a[vt],h=p?Xo(p.request_headers,n.networkRequestHeaders):{},m=Xo(_v(a),n.networkResponseHeaders),[S,_]=n.networkCaptureBodies?Sd(i):[void 0],[E,M]=n.networkCaptureBodies?yv(a):[void 0],O=xt(h,l,S),A=xt(m,f,E);return{startTimestamp:s,endTimestamp:o,url:c,method:u,statusCode:d,request:_?bs(O,_):O,response:M?bs(A,M):A}}function _v(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,o]=r.split(": ");return o&&(n[s.toLowerCase()]=o),n},{}):{}}function yv(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return Sv(e.response,e.responseType)}catch(n){t.push(n)}return L&&H.warn("Failed to get xhr response body",...t),[void 0]}function Sv(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return L&&H.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return L&&H.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function bv(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return $s(n)}catch{return}}function Ev(e){const t=x();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:i}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:i};t&&t.on("beforeAddBreadcrumb",(c,u)=>vv(a,c,u))}catch{}}function vv(e,t,n){if(t.data)try{wv(t)&&Tv(n)&&(mv(t,n),hv(t,n,e)),Iv(t)&&kv(n)&&(sv(t,n),rv(t,n,e))}catch(r){L&&H.exception(r,"Error when enriching network breadcrumb")}}function wv(e){return e.category==="xhr"}function Iv(e){return e.category==="fetch"}function Tv(e){return e&&e.xhr}function kv(e){return e&&e.response}function Cv(e){const t=x();xl(nE(e)),Os(ZE(e)),zE(e),Ev(e);const n=KE(e);Jp(n),t&&(t.on("beforeSendEvent",BE(e)),t.on("afterSendEvent",$E(e)),t.on("createDsc",r=>{const s=e.getSessionId();s&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=s)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",(r,s)=>{const o=e.getSessionId();s&&s.includeReplay&&e.isEnabled()&&o&&r.contexts&&r.contexts.feedback&&(r.contexts.feedback.replay_id=o)}))}async function xv(e){try{return Promise.all(Fs(e,[Rv(se.performance.memory)]))}catch{return[]}}function Rv(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function Mv(e,t,n){let r,s,o;const i=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),r=e(),r}function c(){s!==void 0&&clearTimeout(s),o!==void 0&&clearTimeout(o),s=o=void 0}function u(){return s!==void 0||o!==void 0?a():r}function d(){return s&&clearTimeout(s),s=kn(a,t),i&&o===void 0&&(o=kn(a,i)),r}return d.cancel=c,d.flush=u,d}const Wt=F.navigator;function Av(){return/iPhone|iPad|iPod/i.test(Wt&&Wt.userAgent||"")||/Macintosh/i.test(Wt&&Wt.userAgent||"")&&Wt&&Wt.maxTouchPoints&&Wt.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function Ov(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){L&&H.warn("Received replay event after session expired.");return}const s=r||!t;t=!0,e.clickDetector&&Jb(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!Wi(e,n,s))return!0;if(!s)return!1;const o=e.session;if(Nv(e,s),e.recordingMode==="buffer"&&o&&e.eventBuffer){const i=e.eventBuffer.getEarliestTimestamp();i&&(L&&H.info(`Updating session start time to earliest event in buffer to ${new Date(i)}`),o.started=i,e.getOptions().stickySession&&Bi(o))}return o&&o.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function Dv(e){const t=e.getOptions();return{type:j.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function Nv(e,t){!t||!e.session||e.session.segmentId!==0||Wi(e,Dv(e),!1)}function Lv(e,t,n,r){return ht(Nu(e,di(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function Pv({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const o=new TextEncoder().encode(r);n=new Uint8Array(o.length+e.length),n.set(o),n.set(e,o.length)}return n}async function Fv({client:e,scope:t,replayId:n,event:r}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,o={event_id:n,integrations:s};e.emit("preprocessEvent",r,o);const i=await $u(e.getOptions(),r,o,t,e,ye());if(!i)return null;i.platform=i.platform||"javascript";const a=e.getSdkMetadata(),{name:c,version:u}=a&&a.sdk||{};return i.sdk={...i.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},i}async function $v({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:o}){const i=Pv({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:d}=r,l=x(),f=B(),p=l&&l.getTransport(),h=l&&l.getDsn();if(!l||!p||!h||!o.sampled)return at({});const m={type:gS,replay_start_timestamp:d/1e3,timestamp:s/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:o.sampled},S=await Fv({scope:f,client:l,replayId:t,event:m});if(!S)return l.recordDroppedEvent("event_processor","replay",m),L&&H.info("An event processor returned `null`, will not send event."),at({});delete S.sdkProcessingMetadata;const _=Lv(S,i,h,l.getOptions().tunnel);let E;try{E=await p.send(_)}catch(O){const A=new Error(Ai);try{A.cause=O}catch{}throw A}if(typeof E.statusCode=="number"&&(E.statusCode<200||E.statusCode>=300))throw new Id(E.statusCode);const M=Vu({},E);if(Yu(M,"replay"))throw new ji(M);return E}class Id extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class ji extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function Td(e,t={count:0,interval:vS}){const{recordingData:n,onError:r}=e;if(n.length)try{return await $v(e),!0}catch(s){if(s instanceof Id||s instanceof ji)throw s;if(Hu("Replays",{_retryCount:t.count}),r&&r(s),t.count>=wS){const o=new Error(`${Ai} - max retries exceeded`);try{o.cause=s}catch{}throw o}return t.interval*=++t.count,new Promise((o,i)=>{kn(async()=>{try{await Td(e,t),o(!0)}catch(a){i(a)}},t.interval)})}}const kd="__THROTTLED",Hv="__SKIPPED";function Uv(e,t,n){const r=new Map,s=a=>{const c=a-n;r.forEach((u,d)=>{d<c&&r.delete(d)})},o=()=>[...r.values()].reduce((a,c)=>a+c,0);let i=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(s(c),o()>=t){const d=i;return i=!0,d?Hv:kd}i=!1;const u=r.get(c)||0;return r.set(c,u+1),e(...a)}}class Et{constructor({options:t,recordingOptions:n}){Et.prototype.__init.call(this),Et.prototype.__init2.call(this),Et.prototype.__init3.call(this),Et.prototype.__init4.call(this),Et.prototype.__init5.call(this),Et.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:_S,sessionIdleExpire:yS},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=Mv(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Uv((i,a)=>LE(this,i,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),o=r?{threshold:Math.min(IS,r),timeout:r,scrollTimeout:TS,ignoreSelector:s?s.join(","):""}:void 0;if(o&&(this.clickDetector=new Yb(this,o)),L){const i=t._experiments;H.setConfig({captureExceptions:!!i.captureExceptions,traceInternals:!!i.traceInternals})}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){L&&H.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,s=n<=0&&r<=0;if(this._requiresManualStart=s,!s){if(this._initializeSessionForSampling(t),!this.session){L&&H.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",L&&H.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){L&&H.info("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){L&&H.info("Buffering is in progress, call `flush()` to save the replay");return}L&&H.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=ao({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled){L&&H.info("Buffering is in progress, call `flush()` to save the replay");return}L&&H.infoTick("Starting replay in buffer mode");const t=ao({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=rt({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:ES}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:Ov(this),...Av(),onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{L&&H.info(`Stopping Replay${n?` triggered by ${n}`:""}`),gd(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,ME(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),L&&H.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),L&&H.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();L&&H.info("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Yo(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${se.location.pathname}${se.location.hash}${se.location.search}`,n=`${se.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===kd){const s=Ve({category:"replay.throttled"});this.addUpdate(()=>!Wi(this,{type:Ub,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||he(),n=t&&ge(t),s=(n&&W(n).data||{})[qe];if(!(!n||!s||!["route","custom"].includes(s)))return W(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=CE({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=ao({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return fd(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{se.document.addEventListener("visibilitychange",this._handleVisibilityChange),se.addEventListener("blur",this._handleWindowBlur),se.addEventListener("focus",this._handleWindowFocus),se.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(Cv(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=bE(this)}_removeListeners(){try{se.document.removeEventListener("visibilitychange",this._handleVisibilityChange),se.removeEventListener("blur",this._handleWindowBlur),se.removeEventListener("focus",this._handleWindowFocus),se.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}__init(){this._handleVisibilityChange=()=>{se.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=Ve({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=Ve({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{iE(this,t)}}_doChangeToBackgroundTasks(t){!this.session||dd(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){L&&H.info("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:j.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=lE(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(Fs(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){L&&H.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await xv(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),s=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await Td({replayId:t,recordingData:o,segmentId:s,eventContext:r,session:this.session,timestamp:n,onError:i=>this.handleException(i)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});const r=x();if(r){const s=n instanceof ji?"ratelimit_backoff":"send_error";r.recordDroppedEvent(s,"replay")}}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){L&&H.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const o=s<this._options.minReplayDuration,i=s>this._options.maxReplayDuration+5e3;if(o||i){L&&H.info(`Session duration (${Math.floor(s/1e3)}s) is too ${o?"short":"long"}, not sending replay.`),o&&this._debouncedFlush();return}const a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&L&&H.info("Flushing initial segment without checkout.");const c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&Bi(this.session)}__init6(){this._onMutationHandler=t=>{const n=t.length,r=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,o=r&&n>r;if(n>s||o){const i=Ve({category:"replay.mutations",data:{count:n,limit:o}});this._createCustomBreadcrumb(i)}return o?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function Bn(e,t){return[...e,...t].join(",")}function Bv({mask:e,unmask:t,block:n,unblock:r,ignore:s}){const o=["base","iframe[srcdoc]:not([src])"],i=Bn(e,[".sentry-mask","[data-sentry-mask]"]),a=Bn(t,[]);return{maskTextSelector:i,unmaskTextSelector:a,blockSelector:Bn(n,[".sentry-block","[data-sentry-block]",...o]),unblockSelector:Bn(r,[]),ignoreSelector:Bn(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function Wv({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:o}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?o:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o}const yc='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',zv=["content-length","content-type","accept"];let Sc=!1;const qI=e=>new Hs(e);class Hs{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=SS,flushMaxDelay:n=bS,minReplayDuration:r=kS,maxReplayDuration:s=Ja,stickySession:o=!0,useCompression:i=!0,workerUrl:a,_experiments:c={},maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:l=!0,mutationBreadcrumbLimit:f=750,mutationLimit:p=1e4,slowClickTimeout:h=7e3,slowClickIgnoreSelectors:m=[],networkDetailAllowUrls:S=[],networkDetailDenyUrls:_=[],networkCaptureBodies:E=!0,networkRequestHeaders:M=[],networkResponseHeaders:O=[],mask:A=[],maskAttributes:w=["title","placeholder"],unmask:v=[],block:C=[],unblock:b=[],ignore:g=[],maskFn:I,beforeAddRecordingEvent:T,beforeErrorSampling:N,onError:G}={}){this.name=Hs.id;const z=Bv({mask:A,unmask:v,block:C,unblock:b,ignore:g});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:I,maskInputFn:I,maskAttributeFn:(R,oe,$)=>Wv({maskAttributes:w,maskAllText:u,privacyOptions:z,key:R,value:oe,el:$}),...z,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:R=>{try{R.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,CS),maxReplayDuration:Math.min(s,Ja),stickySession:o,useCompression:i,workerUrl:a,blockAllMedia:l,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:f,mutationLimit:p,slowClickTimeout:h,slowClickIgnoreSelectors:m,networkDetailAllowUrls:S,networkDetailDenyUrls:_,networkCaptureBodies:E,networkRequestHeaders:bc(M),networkResponseHeaders:bc(O),beforeAddRecordingEvent:T,beforeErrorSampling:N,onError:G,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${yc}`:yc),this._isInitialized&&Do())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Sc}set _isInitialized(t){Sc=t}afterAllSetup(t){!Do()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}getRecordingMode(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=jv(this._initialOptions,t);this._replay=new Et({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}Hs.__initStatic();function jv(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...fe(e)},s=os(n.replaysSessionSampleRate),o=os(n.replaysOnErrorSampleRate);return s==null&&o==null&&ft(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),s!=null&&(r.sessionSampleRate=s),o!=null&&(r.errorSampleRate=o),r}function bc(e){return[...zv,...e.map(t=>t.toLowerCase())]}function GI(){const e=x();return e&&e.getIntegrationByName("Replay")}var Ec;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Ec||(Ec={}));function qv(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function Ko(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Ko(e.parentNode,t,n,r+1)}function vc(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(qv(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}const pn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let wc={map:{},getId(){return console.error(pn),-1},getNode(){return console.error(pn),null},removeNodeFromMap(){console.error(pn)},has(){return console.error(pn),!1},reset(){console.error(pn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(wc=new Proxy(wc,{get(e,t,n){return t==="map"&&console.error(pn),Reflect.get(e,t,n)}}));function qi(e,t,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(i){xd(()=>{n.set.call(this,i)},0),o&&o.set&&o.set.call(this,i)}}),()=>qi(e,t,o||{},!0)}function Gi(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}/[1-9][0-9]{12}/.test(Date.now().toString());function Gv(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function Us(e,t,n,r,s){if(!e)return!1;const o=Gv(e);if(!o)return!1;const i=vc(t,n),a=Ko(o,i);let c=-1;return a<0?!1:(r&&(c=Ko(o,vc(null,r))),a>-1&&c<0?!0:a<c)}const Ic={};function Cd(e){const t=Ic[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return Ic[e]=r.bind(window)}function zt(...e){return Cd("requestAnimationFrame")(...e)}function xd(...e){return Cd("setTimeout")(...e)}var An=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(An||{});let qr;function Yv(e){qr=e}const co=e=>qr?(...n)=>{try{return e(...n)}catch(r){if(qr&&qr(r)===!0)return()=>{};throw r}}:e;var yn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Nr=0;Nr<yn.length;Nr++)Vv[yn.charCodeAt(Nr)]=Nr;var Xv=function(e){var t=new Uint8Array(e),n,r=t.length,s="";for(n=0;n<r;n+=3)s+=yn[t[n]>>2],s+=yn[(t[n]&3)<<4|t[n+1]>>4],s+=yn[(t[n+1]&15)<<2|t[n+2]>>6],s+=yn[t[n+2]&63];return r%3===2?s=s.substring(0,s.length-1)+"=":r%3===1&&(s=s.substring(0,s.length-2)+"=="),s};const Tc=new Map;function Kv(e,t){let n=Tc.get(e);return n||(n=new Map,Tc.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}const Rd=(e,t,n)=>{if(!e||!(Ad(e,t)||typeof e=="object"))return;const r=e.constructor.name,s=Kv(n,r);let o=s.indexOf(e);return o===-1&&(o=s.length,s.push(e)),o};function Gr(e,t,n){if(e instanceof Array)return e.map(r=>Gr(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){const r=e.constructor.name,s=Xv(e);return{rr_type:r,base64:s}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[Gr(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){const r=e.constructor.name,{src:s}=e;return{rr_type:r,src:s}}else if(e instanceof HTMLCanvasElement){const r="HTMLImageElement",s=e.toDataURL();return{rr_type:r,src:s}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[Gr(e.data,t,n),e.width,e.height]};if(Ad(e,t)||typeof e=="object"){const r=e.constructor.name,s=Rd(e,t,n);return{rr_type:r,index:s}}}}return e}const Md=(e,t,n)=>e.map(r=>Gr(r,t,n)),Ad=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(s=>typeof t[s]=="function").find(s=>e instanceof t[s]);function Jv(e,t,n,r,s){const o=[],i=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const a of i)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;const c=Gi(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...d){return Us(this.canvas,n,r,s,!0)||xd(()=>{const l=Md(d,t,this);e(this.canvas,{type:An["2D"],property:a,args:l})},0),u.apply(this,d)}});o.push(c)}catch{const u=qi(t.CanvasRenderingContext2D.prototype,a,{set(d){e(this.canvas,{type:An["2D"],property:a,args:[d],setter:!0})}});o.push(u)}return()=>{o.forEach(a=>a())}}function Zv(e){return e==="experimental-webgl"?"webgl":e}function kc(e,t,n,r,s){const o=[];try{const i=Gi(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!Us(this,t,n,r,!0)){const d=Zv(c);if("__context"in this||(this.__context=d),s&&["webgl","webgl2"].includes(d))if(u[0]&&typeof u[0]=="object"){const l=u[0];l.preserveDrawingBuffer||(l.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});o.push(i)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{o.forEach(i=>i())}}function Cc(e,t,n,r,s,o,i,a){const c=[],u=Object.getOwnPropertyNames(e);for(const d of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if(typeof e[d]!="function")continue;const l=Gi(e,d,function(f){return function(...p){const h=f.apply(this,p);if(Rd(h,a,this),"tagName"in this.canvas&&!Us(this.canvas,r,s,o,!0)){const m=Md(p,a,this),S={type:t,property:d,args:m};n(this.canvas,S)}return h}});c.push(l)}catch{const f=qi(e,d,{set(p){n(this.canvas,{type:t,property:d,args:[p],setter:!0})}});c.push(f)}return c}function Qv(e,t,n,r,s,o){const i=[];return i.push(...Cc(t.WebGLRenderingContext.prototype,An.WebGL,e,n,r,s,o,t)),typeof t.WebGL2RenderingContext<"u"&&i.push(...Cc(t.WebGL2RenderingContext.prototype,An.WebGL2,e,n,r,s,o,t)),()=>{i.forEach(a=>a())}}var e0='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function t0(){const e=new Blob([e0]);return URL.createObjectURL(e)}class n0{reset(){this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,Kt([this,"access",t=>t.worker,"optionalAccess",t=>t.terminate,"call",t=>t()]),this.worker=null,this.snapshotInProgressMap=new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.processMutation=(l,f)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(l)||this.pendingCanvasMutations.set(l,[]),this.pendingCanvasMutations.get(l).push(f)};const{sampling:n="all",win:r,blockClass:s,blockSelector:o,unblockSelector:i,maxCanvasSize:a,recordCanvas:c,dataURLOptions:u,errorHandler:d}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,d&&Yv(d),(c&&typeof n=="number"||t.enableManualSnapshot)&&(this.worker=this.initFPSWorker()),this.addWindow(r),!t.enableManualSnapshot&&co(()=>{c&&n==="all"&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),c&&typeof n=="number"&&this.initCanvasFPSObserver(n,s,o,i,a,{dataURLOptions:u})})()}addWindow(t){const{sampling:n="all",blockClass:r,blockSelector:s,unblockSelector:o,recordCanvas:i,enableManualSnapshot:a}=this.options;if(!this.windowsSet.has(t)){if(a){this.windowsSet.add(t),this.windows.push(new WeakRef(t));return}co(()=>{if(i&&n==="all"&&this.initCanvasMutationObserver(t,r,s,o),i&&typeof n=="number"){const c=kc(t,r,s,o,!0);this.restoreHandlers.push(()=>{c()})}})(),this.windowsSet.add(t),this.windows.push(new WeakRef(t))}}addShadowRoot(t){this.shadowDoms.add(new WeakRef(t))}resetShadowRoots(){this.shadowDoms=new Set}initFPSWorker(){const t=new Worker(t0());return t.onmessage=n=>{const r=n.data,{id:s}=r;if(this.snapshotInProgressMap.set(s,!1),!("base64"in r))return;const{base64:o,type:i,width:a,height:c}=r;this.mutationCb({id:s,type:An["2D"],commands:[{property:"clearRect",args:[0,0,a,c]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:o}],type:i}]},0,0,a,c]}]})},t}initCanvasFPSObserver(t,n,r,s,o,i){const a=this.takeSnapshot(!1,t,n,r,s,o,i.dataURLOptions);this.restoreHandlers.push(()=>{cancelAnimationFrame(a)})}initCanvasMutationObserver(t,n,r,s){const o=kc(t,n,r,s,!1),i=Jv(this.processMutation.bind(this),t,n,r,s),a=Qv(this.processMutation.bind(this),t,n,r,s,this.mirror);this.restoreHandlers.push(()=>{o(),i(),a()})}snapshot(t){const{options:n}=this,r=this.takeSnapshot(!0,n.sampling==="all"?2:n.sampling||2,n.blockClass,n.blockSelector,n.unblockSelector,n.maxCanvasSize,n.dataURLOptions,t);this.restoreHandlers.push(()=>{cancelAnimationFrame(r)})}takeSnapshot(t,n,r,s,o,i,a,c){const u=1e3/n;let d=0,l;const f=h=>{if(h)return[h];const m=[],S=_=>{_.querySelectorAll("canvas").forEach(E=>{Us(E,r,s,o)||m.push(E)})};for(const _ of this.windows){const E=_.deref();E&&S(E.document)}for(const _ of this.shadowDoms){const E=_.deref();E&&S(E)}return m},p=h=>{if(this.windows.length){if(d&&h-d<u){l=zt(p);return}d=h,f(c).forEach(m=>{if(!this.mirror.hasNode(m))return;const S=this.mirror.getId(m);if(!this.snapshotInProgressMap.get(S)&&!(!m.width||!m.height)){if(this.snapshotInProgressMap.set(S,!0),!t&&["webgl","webgl2"].includes(m.__context)){const _=m.getContext(m.__context);Kt([_,"optionalAccess",E=>E.getContextAttributes,"call",E=>E(),"optionalAccess",E=>E.preserveDrawingBuffer])===!1&&_.clear(_.COLOR_BUFFER_BIT)}createImageBitmap(m).then(_=>{Kt([this,"access",E=>E.worker,"optionalAccess",E=>E.postMessage,"call",E=>E({id:S,bitmap:_,width:m.width,height:m.height,dataURLOptions:a,maxCanvasSize:i},[_])])}).catch(_=>{co(()=>{throw _})()})}}),t||(l=zt(p))}};return l=zt(p),l}startPendingCanvasMutationFlusher(){zt(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const t=n=>{this.rafStamps.latestId=n,zt(t)};zt(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{const r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),zt(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;const r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;const s=r.map(i=>{const{type:a,...c}=i;return c}),{type:o}=r[0];this.mutationCb({id:n,type:o,commands:s}),this.pendingCanvasMutations.delete(t)}}const xc={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},r0="ReplayCanvas",Lr=1280,s0=(e={})=>{const[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,Lr):Lr,n?Math.min(n,Lr):Lr]};let s;const o=new Promise(i=>s=i);return{name:r0,getOptions(){const{quality:i,enableManualSnapshot:a,maxCanvasSize:c}=r;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:u=>{const d=new n0({...u,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:l=>{try{typeof l=="object"&&(l.__rrweb__=!0)}catch{}}});return s(d),d},...xc[i||"medium"]||xc.medium}},async snapshot(i){(await o).snapshot(i)}}},YI=s0,Xe=F,Z=Xe.document,zn=Xe.navigator,Od="Report a Bug",o0="Cancel",i0="Send Bug Report",a0="Confirm",c0="Report a Bug",u0="your.email@example.org",l0="Email",d0="What's the bug? What did you expect?",f0="Description",p0="Your Name",h0="Name",m0="Thank you for your report!",g0="(required)",_0="Add a screenshot",y0="Remove screenshot",S0="widget",b0="api",E0=5e3,v0=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");const n=x();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&B().setTags(e.tags);const r=ng({source:b0,url:oi(),...e},t);return new Promise((s,o)=>{const i=setTimeout(()=>o("Unable to determine if Feedback was correctly sent."),5e3),a=n.on("afterSendEvent",(c,u)=>{if(c.event_id===r)return clearTimeout(i),a(),u&&typeof u.statusCode=="number"&&u.statusCode>=200&&u.statusCode<300?s(r):u&&typeof u.statusCode=="number"&&u.statusCode===0?o("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):u&&typeof u.statusCode=="number"&&u.statusCode===403?o("Unable to send Feedback. This could be because this domain is not in your list of allowed domains."):o("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker")})})},Yr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function w0(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(zn.userAgent)||/Macintosh/i.test(zn.userAgent)&&zn.maxTouchPoints&&zn.maxTouchPoints>1||!isSecureContext)}function Pr(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{t.onFormOpen&&t.onFormOpen(),e.onFormOpen&&e.onFormOpen()},onFormClose:()=>{t.onFormClose&&t.onFormClose(),e.onFormClose&&e.onFormClose()},onSubmitSuccess:n=>{t.onSubmitSuccess&&t.onSubmitSuccess(n),e.onSubmitSuccess&&e.onSubmitSuccess(n)},onSubmitError:n=>{t.onSubmitError&&t.onSubmitError(n),e.onSubmitError&&e.onSubmitError(n)},onFormSubmitted:()=>{t.onFormSubmitted&&t.onFormSubmitted(),e.onFormSubmitted&&e.onFormSubmitted()},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function I0(e){const t=Z.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e&&t.setAttribute("nonce",e),t}function Ae(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}const dn=20,T0="http://www.w3.org/2000/svg";function k0(){const e=a=>Xe.document.createElementNS(T0,a),t=Ae(e("svg"),{width:`${dn}`,height:`${dn}`,viewBox:`0 0 ${dn} ${dn}`,fill:"var(--actor-color, var(--foreground))"}),n=Ae(e("g"),{clipPath:"url(#clip0_57_80)"}),r=Ae(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const s=e("defs"),o=Ae(e("clipPath"),{id:"clip0_57_80"}),i=Ae(e("rect"),{width:`${dn}`,height:`${dn}`,fill:"white"});return o.appendChild(i),s.appendChild(o),t.appendChild(s).appendChild(o).appendChild(i),t}function C0({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){const s=Z.createElement("button");if(s.type="button",s.className="widget__actor",s.ariaHidden="false",s.ariaLabel=t||e||Od,s.appendChild(k0()),e){const i=Z.createElement("span");i.appendChild(Z.createTextNode(e)),s.appendChild(i)}const o=I0(r);return{el:s,appendToDom(){n.appendChild(o),n.appendChild(s)},removeFromDom(){n.removeChild(s),n.removeChild(o)},show(){s.ariaHidden="false"},hide(){s.ariaHidden="true"}}}const Dd="rgba(88, 74, 192, 1)",x0={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:Dd,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},Rc={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:Dd,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function Mc(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function R0({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){const s=Z.createElement("style");return s.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${Mc(e==="dark"?{...Rc,...t}:{...x0,...n})}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${Mc({...Rc,...t})}
  }
}`:""}
}
`,r&&s.setAttribute("nonce",r),s}const Nd=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:s="sentry-feedback",autoInject:o=!0,showBranding:i=!0,isEmailRequired:a=!1,isNameRequired:c=!1,showEmail:u=!0,showName:d=!0,enableScreenshot:l=!0,useSentryUser:f={email:"email",name:"username"},tags:p,styleNonce:h,scriptNonce:m,colorScheme:S="system",themeLight:_={},themeDark:E={},addScreenshotButtonLabel:M=_0,cancelButtonLabel:O=o0,confirmButtonLabel:A=a0,emailLabel:w=l0,emailPlaceholder:v=u0,formTitle:C=c0,isRequiredLabel:b=g0,messageLabel:g=f0,messagePlaceholder:I=d0,nameLabel:T=h0,namePlaceholder:N=p0,removeScreenshotButtonLabel:G=y0,submitButtonLabel:z=i0,successMessageText:R=m0,triggerLabel:oe=Od,triggerAriaLabel:$="",onFormOpen:Q,onFormClose:we,onSubmitSuccess:$e,onSubmitError:Ht,onFormSubmitted:on}={})=>{const He={id:s,autoInject:o,showBranding:i,isEmailRequired:a,isNameRequired:c,showEmail:u,showName:d,enableScreenshot:l,useSentryUser:f,tags:p,styleNonce:h,scriptNonce:m,colorScheme:S,themeDark:E,themeLight:_,triggerLabel:oe,triggerAriaLabel:$,cancelButtonLabel:O,submitButtonLabel:z,confirmButtonLabel:A,formTitle:C,emailLabel:w,emailPlaceholder:v,messageLabel:g,messagePlaceholder:I,nameLabel:T,namePlaceholder:N,successMessageText:R,isRequiredLabel:b,addScreenshotButtonLabel:M,removeScreenshotButtonLabel:G,onFormClose:we,onFormOpen:Q,onSubmitError:Ht,onSubmitSuccess:$e,onFormSubmitted:on};let De=null,Je=[];const an=ne=>{if(!De){const be=Z.createElement("div");be.id=String(ne.id),Z.body.appendChild(be),De=be.attachShadow({mode:"open"}),De.appendChild(R0(ne))}return De},cn=async ne=>{const be=ne.enableScreenshot&&w0();let Ue,de;try{Ue=(t?t():await e("feedbackModalIntegration",m))(),Ta(Ue)}catch{throw Yr&&y.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{const Ne=be?n?n():await e("feedbackScreenshotIntegration",m):void 0;Ne&&(de=Ne(),Ta(de))}catch{Yr&&y.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}const ie=Ue.createDialog({options:{...ne,onFormClose:()=>{ie&&ie.close(),ne.onFormClose&&ne.onFormClose()},onFormSubmitted:()=>{ie&&ie.close(),ne.onFormSubmitted&&ne.onFormSubmitted()}},screenshotIntegration:de,sendFeedback:v0,shadow:an(ne)});return ie},Un=(ne,be={})=>{const Ue=Pr(He,be),de=typeof ne=="string"?Z.querySelector(ne):typeof ne.addEventListener=="function"?ne:null;if(!de)throw Yr&&y.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let ie=null;const Ne=async()=>{ie||(ie=await cn({...Ue,onFormSubmitted:()=>{ie&&ie.removeFromDom(),Ue.onFormSubmitted&&Ue.onFormSubmitted()}})),ie.appendToDom(),ie.open()};de.addEventListener("click",Ne);const Ut=()=>{Je=Je.filter(un=>un!==Ut),ie&&ie.removeFromDom(),ie=null,de.removeEventListener("click",Ne)};return Je.push(Ut),Ut},mt=(ne={})=>{const be=Pr(He,ne),Ue=an(be),de=C0({triggerLabel:be.triggerLabel,triggerAriaLabel:be.triggerAriaLabel,shadow:Ue,styleNonce:h});return Un(de.el,{...be,onFormOpen(){de.hide()},onFormClose(){de.show()},onFormSubmitted(){de.show()}}),de};return{name:"Feedback",setupOnce(){!Do()||!He.autoInject||(Z.readyState==="loading"?Z.addEventListener("DOMContentLoaded",()=>mt().appendToDom()):mt().appendToDom())},attachTo:Un,createWidget(ne={}){const be=mt(Pr(He,ne));return be.appendToDom(),be},async createForm(ne={}){return cn(Pr(He,ne))},remove(){De&&(De.parentElement&&De.parentElement.remove(),De=null),Je.forEach(ne=>ne()),Je=[]}}};function VI(){const e=x();return e&&e.getIntegrationByName("Feedback")}var Bs,te,Ld,jt,Ac,Pd,Jo,nr={},Yi=[],M0=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Vi=Array.isArray;function wt(e,t){for(var n in t)e[n]=t[n];return e}function Fd(e){var t=e.parentNode;t&&t.removeChild(e)}function q(e,t,n){var r,s,o,i={};for(o in t)o=="key"?r=t[o]:o=="ref"?s=t[o]:i[o]=t[o];if(arguments.length>2&&(i.children=arguments.length>3?Bs.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)i[o]===void 0&&(i[o]=e.defaultProps[o]);return Vr(e,i,r,s,null)}function Vr(e,t,n,r,s){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s??++Ld,__i:-1,__u:0};return s==null&&te.vnode!=null&&te.vnode(o),o}function yr(e){return e.children}function Xr(e,t){this.props=e,this.context=t}function On(e,t){if(t==null)return e.__?On(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?On(e):null}function A0(e,t,n){var r,s=e.__v,o=s.__e,i=e.__P;if(i)return(r=wt({},s)).__v=s.__v+1,te.vnode&&te.vnode(r),Xi(i,r,s,e.__n,i.ownerSVGElement!==void 0,32&s.__u?[o]:null,t,o??On(s),!!(32&s.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=o&&$d(r),r}function $d(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return $d(e)}}function Oc(e){(!e.__d&&(e.__d=!0)&&jt.push(e)&&!vs.__r++||Ac!==te.debounceRendering)&&((Ac=te.debounceRendering)||Pd)(vs)}function vs(){var e,t,n,r=[],s=[];for(jt.sort(Jo);e=jt.shift();)e.__d&&(n=jt.length,t=A0(e,r,s)||t,n===0||jt.length>n?(Zo(r,t,s),s.length=r.length=0,t=void 0,jt.sort(Jo)):t&&te.__c&&te.__c(t,Yi));t&&Zo(r,t,s),vs.__r=0}function Hd(e,t,n,r,s,o,i,a,c,u,d){var l,f,p,h,m,S=r&&r.__k||Yi,_=t.length;for(n.__d=c,O0(n,t,S),c=n.__d,l=0;l<_;l++)(p=n.__k[l])!=null&&typeof p!="boolean"&&typeof p!="function"&&(f=p.__i===-1?nr:S[p.__i]||nr,p.__i=l,Xi(e,p,f,s,o,i,a,c,u,d),h=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&Ki(f.ref,null,p),d.push(p.ref,p.__c||h,p)),m==null&&h!=null&&(m=h),65536&p.__u||f.__k===p.__k?c=Ud(p,c,e):typeof p.type=="function"&&p.__d!==void 0?c=p.__d:h&&(c=h.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=c,n.__e=m}function O0(e,t,n){var r,s,o,i,a,c=t.length,u=n.length,d=u,l=0;for(e.__k=[],r=0;r<c;r++)(s=e.__k[r]=(s=t[r])==null||typeof s=="boolean"||typeof s=="function"?null:typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?Vr(null,s,null,null,s):Vi(s)?Vr(yr,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?Vr(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s)!=null?(s.__=e,s.__b=e.__b+1,a=D0(s,n,i=r+l,d),s.__i=a,o=null,a!==-1&&(d--,(o=n[a])&&(o.__u|=131072)),o==null||o.__v===null?(a==-1&&l--,typeof s.type!="function"&&(s.__u|=65536)):a!==i&&(a===i+1?l++:a>i?d>c-i?l+=a-i:l--:l=a<i&&a==i-1?a-i:0,a!==r+l&&(s.__u|=65536))):(o=n[r])&&o.key==null&&o.__e&&(o.__e==e.__d&&(e.__d=On(o)),Qo(o,o,!1),n[r]=null,d--);if(d)for(r=0;r<u;r++)(o=n[r])!=null&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=On(o)),Qo(o,o))}function Ud(e,t,n){var r,s;if(typeof e.type=="function"){for(r=e.__k,s=0;r&&s<r.length;s++)r[s]&&(r[s].__=e,t=Ud(r[s],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function D0(e,t,n,r){var s=e.key,o=e.type,i=n-1,a=n+1,c=t[n];if(c===null||c&&s==c.key&&o===c.type)return n;if(r>(c!=null&&!(131072&c.__u)?1:0))for(;i>=0||a<t.length;){if(i>=0){if((c=t[i])&&!(131072&c.__u)&&s==c.key&&o===c.type)return i;i--}if(a<t.length){if((c=t[a])&&!(131072&c.__u)&&s==c.key&&o===c.type)return a;a++}}return-1}function Dc(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||M0.test(t)?n:n+"px"}function Fr(e,t,n,r,s){var o;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Dc(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Dc(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,o?Lc:Nc,o)):e.removeEventListener(t,o?Lc:Nc,o);else{if(s)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function Nc(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(te.event?te.event(e):e)}}function Lc(e){if(this.l)return this.l[e.type+!0](te.event?te.event(e):e)}function Xi(e,t,n,r,s,o,i,a,c,u){var d,l,f,p,h,m,S,_,E,M,O,A,w,v,C,b=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),o=[a=t.__e=n.__e]),(d=te.__b)&&d(t);e:if(typeof b=="function")try{if(_=t.props,E=(d=b.contextType)&&r[d.__c],M=d?E?E.props.value:d.__:r,n.__c?S=(l=t.__c=n.__c).__=l.__E:("prototype"in b&&b.prototype.render?t.__c=l=new b(_,M):(t.__c=l=new Xr(_,M),l.constructor=b,l.render=L0),E&&E.sub(l),l.props=_,l.state||(l.state={}),l.context=M,l.__n=r,f=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),b.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=wt({},l.__s)),wt(l.__s,b.getDerivedStateFromProps(_,l.__s))),p=l.props,h=l.state,l.__v=t,f)b.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(b.getDerivedStateFromProps==null&&_!==p&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(_,M),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(_,l.__s,M)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(l.props=_,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(g){g&&(g.__=t)}),O=0;O<l._sb.length;O++)l.__h.push(l._sb[O]);l._sb=[],l.__h.length&&i.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(_,l.__s,M),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(p,h,m)})}if(l.context=M,l.props=_,l.__P=e,l.__e=!1,A=te.__r,w=0,"prototype"in b&&b.prototype.render){for(l.state=l.__s,l.__d=!1,A&&A(t),d=l.render(l.props,l.state,l.context),v=0;v<l._sb.length;v++)l.__h.push(l._sb[v]);l._sb=[]}else do l.__d=!1,A&&A(t),d=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++w<25);l.state=l.__s,l.getChildContext!=null&&(r=wt(wt({},r),l.getChildContext())),f||l.getSnapshotBeforeUpdate==null||(m=l.getSnapshotBeforeUpdate(p,h)),Hd(e,Vi(C=d!=null&&d.type===yr&&d.key==null?d.props.children:d)?C:[C],t,n,r,s,o,i,a,c,u),l.base=t.__e,t.__u&=-161,l.__h.length&&i.push(l),S&&(l.__E=l.__=null)}catch(g){t.__v=null,c||o!=null?(t.__e=a,t.__u|=c?160:32,o[o.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),te.__e(g,t,n)}else o==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=N0(n.__e,t,n,r,s,o,i,c,u);(d=te.diffed)&&d(t)}function Zo(e,t,n){for(var r=0;r<n.length;r++)Ki(n[r],n[++r],n[++r]);te.__c&&te.__c(t,e),e.some(function(s){try{e=s.__h,s.__h=[],e.some(function(o){o.call(s)})}catch(o){te.__e(o,s.__v)}})}function N0(e,t,n,r,s,o,i,a,c){var u,d,l,f,p,h,m,S=n.props,_=t.props,E=t.type;if(E==="svg"&&(s=!0),o!=null){for(u=0;u<o.length;u++)if((p=o[u])&&"setAttribute"in p==!!E&&(E?p.localName===E:p.nodeType===3)){e=p,o[u]=null;break}}if(e==null){if(E===null)return document.createTextNode(_);e=s?document.createElementNS("http://www.w3.org/2000/svg",E):document.createElement(E,_.is&&_),o=null,a=!1}if(E===null)S===_||a&&e.data===_||(e.data=_);else{if(o=o&&Bs.call(e.childNodes),S=n.props||nr,!a&&o!=null)for(S={},u=0;u<e.attributes.length;u++)S[(p=e.attributes[u]).name]=p.value;for(u in S)p=S[u],u=="children"||(u=="dangerouslySetInnerHTML"?l=p:u==="key"||u in _||Fr(e,u,null,p,s));for(u in _)p=_[u],u=="children"?f=p:u=="dangerouslySetInnerHTML"?d=p:u=="value"?h=p:u=="checked"?m=p:u==="key"||a&&typeof p!="function"||S[u]===p||Fr(e,u,p,S[u],s);if(d)a||l&&(d.__html===l.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(l&&(e.innerHTML=""),Hd(e,Vi(f)?f:[f],t,n,r,s&&E!=="foreignObject",o,i,o?o[0]:n.__k&&On(n,0),a,c),o!=null)for(u=o.length;u--;)o[u]!=null&&Fd(o[u]);a||(u="value",h!==void 0&&(h!==e[u]||E==="progress"&&!h||E==="option"&&h!==S[u])&&Fr(e,u,h,S[u],!1),u="checked",m!==void 0&&m!==e[u]&&Fr(e,u,m,S[u],!1))}return e}function Ki(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){te.__e(r,n)}}function Qo(e,t,n){var r,s;if(te.unmount&&te.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Ki(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){te.__e(o,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(s=0;s<r.length;s++)r[s]&&Qo(r[s],t,n||typeof e.type!="function");n||e.__e==null||Fd(e.__e),e.__=e.__e=e.__d=void 0}function L0(e,t,n){return this.constructor(e,n)}function P0(e,t,n){var r,s,o,i;te.__&&te.__(e,t),s=(r=typeof n=="function")?null:t.__k,o=[],i=[],Xi(t,e=(!r&&n||t).__k=q(yr,null,[e]),s||nr,nr,t.ownerSVGElement!==void 0,!r&&n?[n]:s?null:t.firstChild?Bs.call(t.childNodes):null,o,!r&&n?n:s?s.__e:t.firstChild,r,i),e.__d=void 0,Zo(o,e,i)}Bs=Yi.slice,te={__e:function(e,t,n,r){for(var s,o,i;t=t.__;)if((s=t.__c)&&!s.__)try{if((o=s.constructor)&&o.getDerivedStateFromError!=null&&(s.setState(o.getDerivedStateFromError(e)),i=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,r||{}),i=s.__d),i)return s.__E=s}catch(a){e=a}throw e}},Ld=0,Xr.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=wt({},this.state),typeof e=="function"&&(e=e(wt({},n),this.props)),e&&wt(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Oc(this))},Xr.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Oc(this))},Xr.prototype.render=yr,jt=[],Pd=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Jo=function(e,t){return e.__v.__b-t.__v.__b},vs.__r=0;var dt,ee,uo,Pc,Dn=0,Bd=[],Kr=[],ce=te,Fc=ce.__b,$c=ce.__r,Hc=ce.diffed,Uc=ce.__c,Bc=ce.unmount,Wc=ce.__;function sn(e,t){ce.__h&&ce.__h(ee,e,Dn||t),Dn=0;var n=ee.__H||(ee.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:Kr}),n.__[e]}function bn(e){return Dn=1,Wd(jd,e)}function Wd(e,t,n){var r=sn(dt++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):jd(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=ee,!ee.u)){var s=function(a,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!o||o.call(this,a,c,u);var l=!1;return d.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(l=!0)}}),!(!l&&r.__c.props===a)&&(!o||o.call(this,a,c,u))};ee.u=!0;var o=ee.shouldComponentUpdate,i=ee.componentWillUpdate;ee.componentWillUpdate=function(a,c,u){if(this.__e){var d=o;o=void 0,s(a,c,u),o=d}i&&i.call(this,a,c,u)},ee.shouldComponentUpdate=s}return r.__N||r.__}function F0(e,t){var n=sn(dt++,3);!ce.__s&&Ji(n.__H,t)&&(n.__=e,n.i=t,ee.__H.__h.push(n))}function zd(e,t){var n=sn(dt++,4);!ce.__s&&Ji(n.__H,t)&&(n.__=e,n.i=t,ee.__h.push(n))}function $0(e){return Dn=5,Sr(function(){return{current:e}},[])}function H0(e,t,n){Dn=6,zd(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function Sr(e,t){var n=sn(dt++,7);return Ji(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function En(e,t){return Dn=8,Sr(function(){return e},t)}function U0(e){var t=ee.context[e.__c],n=sn(dt++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(ee)),t.props.value):e.__}function B0(e,t){ce.useDebugValue&&ce.useDebugValue(t?t(e):e)}function W0(e){var t=sn(dt++,10),n=bn();return t.__=e,ee.componentDidCatch||(ee.componentDidCatch=function(r,s){t.__&&t.__(r,s),n[1](r)}),[n[0],function(){n[1](void 0)}]}function z0(){var e=sn(dt++,11);if(!e.__){for(var t=ee.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function j0(){for(var e;e=Bd.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Jr),e.__H.__h.forEach(ei),e.__H.__h=[]}catch(t){e.__H.__h=[],ce.__e(t,e.__v)}}ce.__b=function(e){ee=null,Fc&&Fc(e)},ce.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Wc&&Wc(e,t)},ce.__r=function(e){$c&&$c(e),dt=0;var t=(ee=e.__c).__H;t&&(uo===ee?(t.__h=[],ee.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Kr,n.__N=n.i=void 0})):(t.__h.forEach(Jr),t.__h.forEach(ei),t.__h=[],dt=0)),uo=ee},ce.diffed=function(e){Hc&&Hc(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Bd.push(t)!==1&&Pc===ce.requestAnimationFrame||((Pc=ce.requestAnimationFrame)||q0)(j0)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Kr&&(n.__=n.__V),n.i=void 0,n.__V=Kr})),uo=ee=null},ce.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Jr),n.__h=n.__h.filter(function(r){return!r.__||ei(r)})}catch(r){t.some(function(s){s.__h&&(s.__h=[])}),t=[],ce.__e(r,n.__v)}}),Uc&&Uc(e,t)},ce.unmount=function(e){Bc&&Bc(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Jr(r)}catch(s){t=s}}),n.__H=void 0,t&&ce.__e(t,n.__v))};var zc=typeof requestAnimationFrame=="function";function q0(e){var t,n=function(){clearTimeout(r),zc&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);zc&&(t=requestAnimationFrame(n))}function Jr(e){var t=ee,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),ee=t}function ei(e){var t=ee;e.__c=e.__(),ee=t}function Ji(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function jd(e,t){return typeof t=="function"?t(e):t}const G0={__proto__:null,useCallback:En,useContext:U0,useDebugValue:B0,useEffect:F0,useErrorBoundary:W0,useId:z0,useImperativeHandle:H0,useLayoutEffect:zd,useMemo:Sr,useReducer:Wd,useRef:$0,useState:bn},Y0="http://www.w3.org/2000/svg";function V0(){const e=r=>Z.createElementNS(Y0,r),t=Ae(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=Ae(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}function X0({options:e}){const t=Sr(()=>({__html:V0().outerHTML}),[]);return q("h2",{class:"dialog__header"},q("span",{class:"dialog__title"},e.formTitle),e.showBranding?q("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t}):null)}function K0(e,t){const n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}function lo(e,t){const n=e.get(t);return typeof n=="string"?n.trim():""}function J0({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:s,onSubmitSuccess:o,onSubmitError:i,showEmail:a,showName:c,screenshotInput:u}){const{tags:d,addScreenshotButtonLabel:l,removeScreenshotButtonLabel:f,cancelButtonLabel:p,emailLabel:h,emailPlaceholder:m,isEmailRequired:S,isNameRequired:_,messageLabel:E,messagePlaceholder:M,nameLabel:O,namePlaceholder:A,submitButtonLabel:w,isRequiredLabel:v}=e,[C,b]=bn(null),[g,I]=bn(!1),T=u&&u.input,[N,G]=bn(null),z=En($=>{G($),I(!1)},[]),R=En($=>{const Q=K0($,{emailLabel:h,isEmailRequired:S,isNameRequired:_,messageLabel:E,nameLabel:O});return Q.length>0?b(`Please enter in the following required fields: ${Q.join(", ")}`):b(null),Q.length===0},[h,S,_,E,O]),oe=En(async $=>{try{if($.preventDefault(),!($.target instanceof HTMLFormElement))return;const Q=new FormData($.target),we=await(u&&g?u.value():void 0),$e={name:lo(Q,"name"),email:lo(Q,"email"),message:lo(Q,"message"),attachments:we?[we]:void 0};if(!R($e))return;try{await s({name:$e.name,email:$e.email,message:$e.message,source:S0,tags:d},{attachments:$e.attachments}),o($e)}catch(Ht){Yr&&y.error(Ht),b(Ht),i(Ht)}}catch{}},[u&&g,o,i]);return q("form",{class:"form",onSubmit:oe},T&&g?q(T,{onError:z}):null,q("div",{class:"form__right","data-sentry-feedback":!0},q("div",{class:"form__top"},C?q("div",{class:"form__error-container"},C):null,c?q("label",{for:"name",class:"form__label"},q(fo,{label:O,isRequiredLabel:v,isRequired:_}),q("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:A,required:_,type:"text"})):q("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden"}),a?q("label",{for:"email",class:"form__label"},q(fo,{label:h,isRequiredLabel:v,isRequired:S}),q("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:m,required:S,type:"email"})):q("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden"}),q("label",{for:"message",class:"form__label"},q(fo,{label:E,isRequiredLabel:v,isRequired:!0}),q("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:M,required:!0,rows:5})),T?q("label",{for:"screenshot",class:"form__label"},q("button",{class:"btn btn--default",type:"button",onClick:()=>{G(null),I($=>!$)}},g?f:l),N?q("div",{class:"form__error-container"},N.message):null):null),q("div",{class:"btn-group"},q("button",{class:"btn btn--primary",type:"submit"},w),q("button",{class:"btn btn--default",type:"button",onClick:r},p))))}function fo({label:e,isRequired:t,isRequiredLabel:n}){return q("span",{class:"form__label__text"},e,t&&q("span",{class:"form__label__text--required"},n))}const $r=16,jc=17,Z0="http://www.w3.org/2000/svg";function Q0(){const e=c=>Xe.document.createElementNS(Z0,c),t=Ae(e("svg"),{width:`${$r}`,height:`${jc}`,viewBox:`0 0 ${$r} ${jc}`,fill:"inherit"}),n=Ae(e("g"),{clipPath:"url(#clip0_57_156)"}),r=Ae(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),s=Ae(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(s,r);const o=e("defs"),i=Ae(e("clipPath"),{id:"clip0_57_156"}),a=Ae(e("rect"),{width:`${$r}`,height:`${$r}`,fill:"white",transform:"translate(0 0.5)"});return i.appendChild(a),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(a),t}function ew({open:e,onFormSubmitted:t,...n}){const r=n.options,s=Sr(()=>({__html:Q0().outerHTML}),[]),[o,i]=bn(null),a=En(()=>{o&&(clearTimeout(o),i(null)),t()},[o]),c=En(u=>{n.onSubmitSuccess(u),i(setTimeout(()=>{t(),i(null)},E0))},[t]);return q(yr,null,o?q("div",{class:"success__position",onClick:a},q("div",{class:"success__content"},r.successMessageText,q("span",{class:"success__icon",dangerouslySetInnerHTML:s}))):q("dialog",{class:"dialog",onClick:r.onFormClose,open:e},q("div",{class:"dialog__position"},q("div",{class:"dialog__content",onClick:u=>{u.stopPropagation()}},q(X0,{options:r}),q(J0,{...n,onSubmitSuccess:c})))))}const tw=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}

`,nw=`
.dialog__header {
  display: flex;
  gap: 4px;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}
.dialog__title {
  align-self: center;
  width: var(--form-width, 272px);
}

@media (max-width: 600px) {
  .dialog__title {
    width: auto;
  }
}

.dialog__position:has(.editor) .dialog__title {
  width: auto;
}


.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,rw=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form__right {
  flex: 0 0 auto;
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  width: var(--form-width, 100%);
}

.dialog__position:has(.editor) .form__right {
  width: var(--form-width, 272px);
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,sw=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,ow=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function iw(e){const t=Z.createElement("style");return t.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${tw}
${nw}
${rw}
${sw}
${ow}
`,e&&t.setAttribute("nonce",e),t}function aw(){const e=B().getUser(),t=ye().getUser(),n=lu().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}const cw=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{const s=r,o=e.useSentryUser,i=aw(),a=Z.createElement("div"),c=iw(e.styleNonce);let u="";const d={get el(){return a},appendToDom(){!s.contains(c)&&!s.contains(a)&&(s.appendChild(c),s.appendChild(a))},removeFromDom(){s.removeChild(a),s.removeChild(c),Z.body.style.overflow=u},open(){f(!0),e.onFormOpen&&e.onFormOpen(),u=Z.body.style.overflow,Z.body.style.overflow="hidden"},close(){f(!1),Z.body.style.overflow=u}},l=t&&t.createInput({h:q,hooks:G0,dialog:d,options:e}),f=p=>{P0(q(ew,{options:e,screenshotInput:l,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:o&&i&&i[o.name]||"",defaultEmail:o&&i&&i[o.email]||"",onFormClose:()=>{f(!1),e.onFormClose&&e.onFormClose()},onSubmit:n,onSubmitSuccess:h=>{f(!1),e.onSubmitSuccess&&e.onSubmitSuccess(h)},onSubmitError:h=>{e.onSubmitError&&e.onSubmitError(h)},onFormSubmitted:()=>{e.onFormSubmitted&&e.onFormSubmitted()},open:p}),a)};return d}});function uw({h:e}){return function({top:n,left:r,corner:s,onGrabButton:o}){return e("button",{class:`editor__crop-corner editor__crop-corner--${s} `,style:{top:n,left:r},onMouseDown:i=>{i.preventDefault(),o(i,s)},onClick:i=>{i.preventDefault()}})}}function lw(e){const t=Z.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`
.editor {
  padding: 10px;
  padding-top: 65px;
  padding-bottom: 65px;
  flex-grow: 1;

  background-color: ${n};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${n} 8px,
      ${n} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${r} 15px,
      ${r} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container canvas {
  object-fit: contain;
  position: relative;
}

.editor__crop-btn-group {
  padding: 8px;
  gap: 8px;
  border-radius: var(--menu-border-radius, 6px);
  background: var(--button-primary-background, var(--background));
  width: 175px;
  position: absolute;
}

.editor__crop-corner {
  width: 30px;
  height: 30px;
  position: absolute;
  background: none;
  border: 3px solid #ffffff;
}

.editor__crop-corner--top-left {
  cursor: nwse-resize;
  border-right: none;
  border-bottom: none;
}
.editor__crop-corner--top-right {
  cursor: nesw-resize;
  border-left: none;
  border-bottom: none;
}
.editor__crop-corner--bottom-left {
  cursor: nesw-resize;
  border-right: none;
  border-top: none;
}
.editor__crop-corner--bottom-right {
  cursor: nwse-resize;
  border-left: none;
  border-top: none;
}
`,e&&t.setAttribute("nonce",e),t}function dw({hooks:e}){return function({onBeforeScreenshot:n,onScreenshot:r,onAfterScreenshot:s,onError:o}){e.useEffect(()=>{(async()=>{n();const a=await zn.mediaDevices.getDisplayMedia({video:{width:Xe.innerWidth*Xe.devicePixelRatio,height:Xe.innerHeight*Xe.devicePixelRatio},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),c=Z.createElement("video");await new Promise((u,d)=>{c.srcObject=a,c.onloadedmetadata=()=>{r(c),a.getTracks().forEach(l=>l.stop()),u()},c.play().catch(d)}),s()})().catch(o)},[])}}const jn=30,Qe=3,gt=jn+Qe,xe=Xe.devicePixelRatio,Wn=e=>({x:Math.min(e.startX,e.endX),y:Math.min(e.startY,e.endY),width:Math.abs(e.startX-e.endX),height:Math.abs(e.startY-e.endY)}),po=e=>{const t=e.clientHeight,n=e.clientWidth,r=e.width/e.height;let s=t*r,o=t;s>n&&(s=n,o=n/r);const i=(n-s)/2,a=(t-o)/2;return{startX:i,startY:a,endX:s+i,endY:o+a}};function fw({h:e,hooks:t,imageBuffer:n,dialog:r,options:s}){const o=dw({hooks:t});return function({onError:a}){const c=t.useMemo(()=>({__html:lw(s.styleNonce).innerText}),[]),u=uw({h:e}),d=t.useRef(null),l=t.useRef(null),f=t.useRef(null),[p,h]=t.useState({startX:0,startY:0,endX:0,endY:0}),[m,S]=t.useState(!1),[_,E]=t.useState(!1);t.useEffect(()=>{Xe.addEventListener("resize",M,!1)},[]);function M(){const b=f.current,g=Wn(po(n));if(b){b.width=g.width*xe,b.height=g.height*xe,b.style.width=`${g.width}px`,b.style.height=`${g.height}px`;const T=b.getContext("2d");T&&T.scale(xe,xe)}const I=l.current;I&&(I.style.width=`${g.width}px`,I.style.height=`${g.height}px`),h({startX:0,startY:0,endX:g.width,endY:g.height})}t.useEffect(()=>{const b=f.current;if(!b)return;const g=b.getContext("2d");if(!g)return;const I=Wn(po(n)),T=Wn(p);g.clearRect(0,0,I.width,I.height),g.fillStyle="rgba(0, 0, 0, 0.5)",g.fillRect(0,0,I.width,I.height),g.clearRect(T.x,T.y,T.width,T.height),g.strokeStyle="#ffffff",g.lineWidth=3,g.strokeRect(T.x+1,T.y+1,T.width-2,T.height-2),g.strokeStyle="#000000",g.lineWidth=1,g.strokeRect(T.x+3,T.y+3,T.width-6,T.height-6)},[p]);function O(b,g){S(!1),E(!0);const I=A(g),T=()=>{Z.removeEventListener("mousemove",I),Z.removeEventListener("mouseup",T),S(!0),E(!1)};Z.addEventListener("mouseup",T),Z.addEventListener("mousemove",I)}const A=t.useCallback(b=>function(g){if(!f.current)return;const I=f.current,T=I.getBoundingClientRect(),N=g.clientX-T.x,G=g.clientY-T.y;switch(b){case"top-left":h(z=>({...z,startX:Math.min(Math.max(0,N),z.endX-gt),startY:Math.min(Math.max(0,G),z.endY-gt)}));break;case"top-right":h(z=>({...z,endX:Math.max(Math.min(N,I.width/xe),z.startX+gt),startY:Math.min(Math.max(0,G),z.endY-gt)}));break;case"bottom-left":h(z=>({...z,startX:Math.min(Math.max(0,N),z.endX-gt),endY:Math.max(Math.min(G,I.height/xe),z.startY+gt)}));break;case"bottom-right":h(z=>({...z,endX:Math.max(Math.min(N,I.width/xe),z.startX+gt),endY:Math.max(Math.min(G,I.height/xe),z.startY+gt)}));break}},[]),w=t.useRef({initialX:0,initialY:0});function v(b){if(_)return;w.current={initialX:b.clientX,initialY:b.clientY};const g=T=>{const N=f.current;if(!N)return;const G=T.clientX-w.current.initialX,z=T.clientY-w.current.initialY;h(R=>{const oe=Math.max(0,Math.min(R.startX+G,N.width/xe-(R.endX-R.startX))),$=Math.max(0,Math.min(R.startY+z,N.height/xe-(R.endY-R.startY))),Q=oe+(R.endX-R.startX),we=$+(R.endY-R.startY);return w.current.initialX=T.clientX,w.current.initialY=T.clientY,{startX:oe,startY:$,endX:Q,endY:we}})},I=()=>{Z.removeEventListener("mousemove",g),Z.removeEventListener("mouseup",I)};Z.addEventListener("mousemove",g),Z.addEventListener("mouseup",I)}function C(){const b=Z.createElement("canvas"),g=Wn(po(n)),I=Wn(p);b.width=I.width*xe,b.height=I.height*xe;const T=b.getContext("2d");T&&n&&T.drawImage(n,I.x/g.width*n.width,I.y/g.height*n.height,I.width/g.width*n.width,I.height/g.height*n.height,0,0,b.width,b.height);const N=n.getContext("2d");N&&(N.clearRect(0,0,n.width,n.height),n.width=b.width,n.height=b.height,n.style.width=`${I.width}px`,n.style.height=`${I.height}px`,N.drawImage(b,0,0),M())}return o({onBeforeScreenshot:t.useCallback(()=>{r.el.style.display="none"},[]),onScreenshot:t.useCallback(b=>{const g=n.getContext("2d");if(!g)throw new Error("Could not get canvas context");n.width=b.videoWidth,n.height=b.videoHeight,n.style.width="100%",n.style.height="100%",g.drawImage(b,0,0)},[n]),onAfterScreenshot:t.useCallback(()=>{r.el.style.display="block";const b=d.current;b&&b.appendChild(n),M()},[]),onError:t.useCallback(b=>{r.el.style.display="block",a(b)},[])}),e("div",{class:"editor"},e("style",{nonce:s.styleNonce,dangerouslySetInnerHTML:c}),e("div",{class:"editor__canvas-container",ref:d},e("div",{class:"editor__crop-container",style:{position:"absolute",zIndex:1},ref:l},e("canvas",{onMouseDown:v,style:{position:"absolute",cursor:m?"move":"auto"},ref:f}),e(u,{left:p.startX-Qe,top:p.startY-Qe,onGrabButton:O,corner:"top-left"}),e(u,{left:p.endX-jn+Qe,top:p.startY-Qe,onGrabButton:O,corner:"top-right"}),e(u,{left:p.startX-Qe,top:p.endY-jn+Qe,onGrabButton:O,corner:"bottom-left"}),e(u,{left:p.endX-jn+Qe,top:p.endY-jn+Qe,onGrabButton:O,corner:"bottom-right"}),e("div",{style:{left:Math.max(0,p.endX-191),top:Math.max(0,p.endY+8),display:m?"flex":"none"},class:"editor__crop-btn-group"},e("button",{onClick:b=>{b.preventDefault(),f.current&&h({startX:0,startY:0,endX:f.current.width/xe,endY:f.current.height/xe}),S(!1)},class:"btn btn--default"},s.cancelButtonLabel),e("button",{onClick:b=>{b.preventDefault(),C(),S(!1)},class:"btn btn--primary"},s.confirmButtonLabel)))))}}const pw=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{const s=Z.createElement("canvas");return{input:fw({h:e,hooks:t,imageBuffer:s,dialog:n,options:r}),value:async()=>{const o=await new Promise(i=>{s.toBlob(i,"image/png")});if(o)return{data:new Uint8Array(await o.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}}),XI=Nd({lazyLoadIntegration:Vy}),KI=Nd({getModalIntegration:()=>cw,getScreenshotIntegration:()=>pw});function hw(e,t=1,n){lr.increment(dr,e,t,n)}function mw(e,t,n){lr.distribution(dr,e,t,n)}function gw(e,t,n){lr.set(dr,e,t,n)}function _w(e,t,n){lr.gauge(dr,e,t,n)}function yw(e,t,n="second",r){return lr.timing(dr,e,t,n,r)}const JI={increment:hw,distribution:mw,set:gw,gauge:_w,timing:yw},qc=new WeakMap,ho=new Map,Zr={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function Sw(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:o,enableHTTPTimings:i,tracePropagationTargets:a}={traceFetch:Zr.traceFetch,traceXHR:Zr.traceXHR,trackFetchStreamPerformance:Zr.trackFetchStreamPerformance,...t},c=typeof o=="function"?o:l=>!0,u=l=>vw(l,a),d={};n&&(e.addEventProcessor(l=>(l.type==="transaction"&&l.spans&&l.spans.forEach(f=>{if(f.op==="http.client"){const p=ho.get(f.span_id);p&&(f.timestamp=p/1e3,ho.delete(f.span_id))}}),l)),s&&ig(l=>{if(l.response){const f=qc.get(l.response);f&&l.endTimestamp&&ho.set(f,l.endTimestamp)}}),Ei(l=>{const f=Km(l,c,u,d);if(l.response&&l.fetchData.__span&&qc.set(l.response,l.fetchData.__span),f){const p=qd(l.fetchData.url),h=p?Xt(p).host:void 0;f.setAttributes({"http.url":p,"server.address":h})}i&&f&&Gc(f)})),r&&Ri(l=>{const f=ww(l,c,u,d);i&&f&&Gc(f)})}function bw(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Gc(e){const{url:t}=W(e).data||{};if(!t||typeof t!="string")return;const n=Tn("resource",({entries:r})=>{r.forEach(s=>{bw(s)&&s.name.endsWith(t)&&(Ew(s).forEach(i=>e.setAttribute(...i)),setTimeout(n))})})}function Ye(e=0){return((ve||performance.timeOrigin)+e)/1e3}function Ew(e){const{name:t,version:n}=Cl(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),ve?[...r,["http.request.redirect_start",Ye(e.redirectStart)],["http.request.fetch_start",Ye(e.fetchStart)],["http.request.domain_lookup_start",Ye(e.domainLookupStart)],["http.request.domain_lookup_end",Ye(e.domainLookupEnd)],["http.request.connect_start",Ye(e.connectStart)],["http.request.secure_connection_start",Ye(e.secureConnectionStart)],["http.request.connection_end",Ye(e.connectEnd)],["http.request.request_start",Ye(e.requestStart)],["http.request.response_start",Ye(e.responseStart)],["http.request.response_end",Ye(e.responseEnd)]]:r}function vw(e,t){const n=k.location&&k.location.href;if(n){let r,s;try{r=new URL(e,n),s=new URL(n).origin}catch{return!1}const o=r.origin===s;return t?Ct(r.toString(),t)||o&&Ct(r.pathname,t):o}else{const r=!!e.match(/^\/(?!\/)/);return t?Ct(e,t):r}}function ww(e,t,n,r){const s=e.xhr,o=s&&s[vt];if(!s||s.__sentry_own_request__||!o)return;const i=Ot()&&t(o.url);if(e.endTimestamp&&i){const l=s.__sentry_xhr_span_id__;if(!l)return;const f=r[l];f&&o.status_code!==void 0&&(pu(f,o.status_code),f.end(),delete r[l]);return}const a=qd(o.url),c=a?Xt(a).host:void 0,u=!!he(),d=i&&u?ar({name:`${o.method} ${o.url}`,attributes:{type:"xhr","http.method":o.method,"http.url":a,url:o.url,"server.address":c,[Se]:"auto.http.browser",[Qt]:"http.client"}}):new Ft;return s.__sentry_xhr_span_id__=d.spanContext().spanId,r[s.__sentry_xhr_span_id__]=d,n(o.url)&&Iw(s,Ot()&&u?d:void 0),d}function Iw(e,t){const{"sentry-trace":n,baggage:r}=Ju({span:t});n&&Tw(e,n,r)}function Tw(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader("baggage",n)}catch{}}function qd(e){try{return new URL(e,k.location.origin).href}catch{return}}function kw(){k&&k.document?k.document.addEventListener("visibilitychange",()=>{const e=he();if(!e)return;const t=ge(e);if(k.document.hidden&&t){const n="cancelled",{op:r,status:s}=W(t);Y&&y.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),s||t.setStatus({code:me,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):Y&&y.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const Cw="BrowserTracing",xw={...Br,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...Zr},ZI=(e={})=>{Iu();const{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:s,enableStandaloneClsSpans:o},beforeStartSpan:i,idleTimeout:a,finalTimeout:c,childSpanTimeout:u,markBackgroundSpan:d,traceFetch:l,traceXHR:f,trackFetchStreamPerformance:p,shouldCreateSpanForRequest:h,enableHTTPTimings:m,instrumentPageLoad:S,instrumentNavigation:_}={...xw,...e},E=m_({recordClsStandaloneSpans:o||!1});t&&U_(),r&&F.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?__():n&&g_(),s&&y_();const M={name:void 0,source:void 0};function O(A,w){const v=w.op==="pageload",C=i?i(w):w,b=C.attributes||{};w.name!==C.name&&(b[qe]="custom",C.attributes=b),M.name=C.name,M.source=b[qe];const g=Pu(C,{idleTimeout:a,finalTimeout:c,childSpanTimeout:u,disableAutoFinish:v,beforeSpanEnd:T=>{E(),w_(T,{recordClsOnPageloadSpan:!o})}});function I(){["interactive","complete"].includes(k.document.readyState)&&A.emit("idleSpanEnableAutoFinish",g)}return v&&k.document&&(k.document.addEventListener("readystatechange",()=>{I()}),I()),g}return{name:Cw,afterAllSetup(A){let w,v=k.location&&k.location.href;function C(){w&&!W(w).timestamp&&(Y&&y.log(`[Tracing] Finishing current active span with op: ${W(w).op}`),w.end())}A.on("startNavigationSpan",b=>{x()===A&&(C(),w=O(A,{op:"navigation",...b}))}),A.on("startPageLoadSpan",(b,g={})=>{if(x()!==A)return;C();const I=g.sentryTrace||Yc("sentry-trace"),T=g.baggage||Yc("baggage"),N=_u(I,T);B().setPropagationContext(N),w=O(A,{op:"pageload",...b})}),A.on("spanEnd",b=>{const g=W(b).op;if(b!==ge(b)||g!=="navigation"&&g!=="pageload")return;const I=B(),T=I.getPropagationContext();I.setPropagationContext({...T,sampled:T.sampled!==void 0?T.sampled:tn(b),dsc:T.dsc||$t(b)})}),k.location&&(S&&Rw(A,{name:k.location.pathname,startTime:ve?ve/1e3:void 0,attributes:{[qe]:"url",[Se]:"auto.pageload.browser"}}),_&&Os(({to:b,from:g})=>{if(g===void 0&&v&&v.indexOf(b)!==-1){v=void 0;return}g!==b&&(v=void 0,Mw(A,{name:k.location.pathname,attributes:{[qe]:"url",[Se]:"auto.navigation.browser"}}))})),d&&kw(),s&&Aw(a,c,u,M),t&&W_(),Sw(A,{traceFetch:l,traceXHR:f,trackFetchStreamPerformance:p,tracePropagationTargets:A.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:h,enableHTTPTimings:m})}}};function Rw(e,t,n){e.emit("startPageLoadSpan",t,n),B().setTransactionName(t.name);const r=he();return(r&&W(r).op)==="pageload"?r:void 0}function Mw(e,t){ye().setPropagationContext({traceId:ct()}),B().setPropagationContext({traceId:ct()}),e.emit("startNavigationSpan",t),B().setTransactionName(t.name);const n=he();return(n&&W(n).op)==="navigation"?n:void 0}function Yc(e){const t=pf(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function Aw(e,t,n,r){let s;const o=()=>{const i="ui.action.click",a=he(),c=a&&ge(a);if(c){const u=W(c).op;if(["navigation","pageload"].includes(u)){Y&&y.warn(`[Tracing] Did not create ${i} span because a pageload or navigation span is in progress.`);return}}if(s&&(s.setAttribute(Eo,"interactionInterrupted"),s.end(),s=void 0),!r.name){Y&&y.warn(`[Tracing] Did not create ${i} transaction because _latestRouteName is missing.`);return}s=Pu({name:r.name,op:i,attributes:{[qe]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};k.document&&addEventListener("click",o,{once:!1,capture:!0})}function Nn(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function Ow(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=Nn(n);return s=>r.then(o=>s(o.transaction(t,"readwrite").objectStore(t)))}function Zi(e){return Nn(e.getAllKeys())}function Dw(e,t,n){return e(r=>Zi(r).then(s=>{if(!(s.length>=n))return r.put(t,Math.max(...s,0)+1),Nn(r.transaction)}))}function Nw(e,t,n){return e(r=>Zi(r).then(s=>{if(!(s.length>=n))return r.put(t,Math.min(...s,0)-1),Nn(r.transaction)}))}function Lw(e){return e(t=>Zi(t).then(n=>{const r=n[0];if(r!=null)return Nn(t.get(r)).then(s=>(t.delete(r),Nn(t.transaction).then(()=>s)))}))}function Pw(e){let t;function n(){return t==null&&(t=Ow(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{push:async r=>{try{const s=await as(r);await Dw(n(),s,e.maxQueueSize||30)}catch{}},unshift:async r=>{try{const s=await as(r);await Nw(n(),s,e.maxQueueSize||30)}catch{}},shift:async()=>{try{const r=await Lw(n());if(r)return up(r)}catch{}}}}function Fw(e){return t=>{const n=e({...t,createStore:Pw});return k.addEventListener("online",async r=>{await n.flush()}),n}}function QI(e=Rl){return Fw(_h(e))}const Vc=1e6,Qr=String(0),$w="main";let Gd="",Yd="",Vd="",ti=k.navigator&&k.navigator.userAgent||"",Xd="";const Hw=k.navigator&&k.navigator.language||k.navigator&&k.navigator.languages&&k.navigator.languages[0]||"";function Uw(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}const Xc=k.navigator&&k.navigator.userAgentData;Uw(Xc)&&Xc.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(Gd=e.platform||"",Vd=e.architecture||"",Xd=e.model||"",Yd=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){const t=e.fullVersionList[e.fullVersionList.length-1];ti=`${t.brand} ${t.version}`}}).catch(e=>{});function Bw(e){return!("thread_metadata"in e)}function Ww(e){return Bw(e)?qw(e):e}function zw(e){const t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return typeof t=="string"&&t.length!==32&&Y&&y.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function jw(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const s=zw(r),o=Ww(n),i=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:ue()*1e3),a=typeof r.timestamp=="number"?r.timestamp*1e3:ue()*1e3;return{event_id:e,timestamp:new Date(i).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||Cs,runtime:{name:"javascript",version:k.navigator.userAgent},os:{name:Gd,version:Yd,build_number:ti},device:{locale:Hw,model:Xd,manufacturer:ti,architecture:Vd,is_emulator:!1},debug_meta:{images:Vw(n.resources)},profile:o,transactions:[{name:r.transaction||"",id:r.event_id||Ce(),trace_id:s,active_thread_id:Qr,relative_start_ns:"0",relative_end_ns:((a-i)*1e6).toFixed(0)}]}}function Kd(e){return W(e).op==="pageload"}function qw(e){let t,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[Qr]:{name:$w}}},s=e.samples[0];if(!s)return r;const o=s.timestamp,i=typeof performance.timeOrigin=="number"?performance.timeOrigin:ve||0,a=i-(ve||i);return e.samples.forEach((c,u)=>{if(c.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[u]={elapsed_since_start_ns:((c.timestamp+a-o)*Vc).toFixed(0),stack_id:t,thread_id:Qr};return}let d=e.stacks[c.stackId];const l=[];for(;d;){l.push(d.frameId);const p=e.frames[d.frameId];p&&r.frames[d.frameId]===void 0&&(r.frames[d.frameId]={function:p.name,abs_path:typeof p.resourceId=="number"?e.resources[p.resourceId]:void 0,lineno:p.line,colno:p.column}),d=d.parentId===void 0?void 0:e.stacks[d.parentId]}const f={elapsed_since_start_ns:((c.timestamp+a-o)*Vc).toFixed(0),stack_id:n,thread_id:Qr};r.stacks[n]=l,r.samples[u]=f,n++}),r}function Gw(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n]);return e}function Yw(e){const t=[];return en(e,(n,r)=>{if(r==="transaction")for(let s=1;s<n.length;s++){const o=n[s];o&&o.contexts&&o.contexts.profile&&o.contexts.profile.profile_id&&t.push(n[s])}}),t}function Vw(e){const t=x(),n=t&&t.getOptions(),r=n&&n.stackParser;return r?Cp(r,e):[]}function Xw(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(Y&&y.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(Y&&y.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function Kw(e){return e.samples.length<2?(Y&&y.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(Y&&y.log("[Profiling] Discarding profile because it contains no frames"),!1)}let Jd=!1;const Zd=3e4;function Jw(e){return typeof e=="function"}function Zw(){const e=k.Profiler;if(!Jw(e)){Y&&y.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}const t=10,n=Math.floor(Zd/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{Y&&(y.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),y.log("[Profiling] Disabling profiling for current user session.")),Jd=!0}}function Kc(e){if(Jd)return Y&&y.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return Y&&y.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const t=x(),n=t&&t.getOptions();if(!n)return Y&&y.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;return Xw(r)?r?(r===!0?!0:Math.random()<r)?!0:(Y&&y.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(Y&&y.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(Y&&y.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function Qw(e,t,n,r){return Kw(n)?jw(e,t,n,r):null}const Gt=new Map;function eI(){return Gt.size}function tI(e){const t=Gt.get(e);return t&&Gt.delete(e),t}function nI(e,t){if(Gt.set(e,t),Gt.size>30){const n=Gt.keys().next().value;Gt.delete(n)}}function Jc(e){let t;Kd(e)&&(t=ue()*1e3);const n=Zw();if(!n)return;Y&&y.log(`[Profiling] started profiling span: ${W(e).description}`);const r=Ce();B().setContext("profile",{profile_id:r,start_timestamp:t});async function s(){if(e&&n)return n.stop().then(c=>{if(o&&(k.clearTimeout(o),o=void 0),Y&&y.log(`[Profiling] stopped profiling of span: ${W(e).description}`),!c){Y&&y.log(`[Profiling] profiler returned null profile for: ${W(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}nI(r,c)}).catch(c=>{Y&&y.log("[Profiling] error while stopping profiler:",c)})}let o=k.setTimeout(()=>{Y&&y.log("[Profiling] max profile duration elapsed, stopping profiling for:",W(e).description),s()},Zd);const i=e.end.bind(e);function a(){return e?(s().then(()=>{i()},()=>{i()}),e):i()}e.end=a}const rI="BrowserProfiling",sI=()=>({name:rI,setup(e){const t=he(),n=t&&ge(t);n&&Kd(n)&&Kc(n)&&Jc(n),e.on("spanStart",r=>{r===ge(r)&&Kc(r)&&Jc(r)}),e.on("beforeEnvelope",r=>{if(!eI())return;const s=Yw(r);if(!s.length)return;const o=[];for(const i of s){const a=i&&i.contexts,c=a&&a.profile&&a.profile.profile_id,u=a&&a.profile&&a.profile.start_timestamp;if(typeof c!="string"){Y&&y.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!c){Y&&y.log("[Profiling] cannot find profile for a span without a profile context");continue}a&&a.profile&&delete a.profile;const d=tI(c);if(!d){Y&&y.log(`[Profiling] Could not retrieve profile for span: ${c}`);continue}const l=Qw(c,u,d,i);l&&o.push(l)}Gw(r,o)})}}),e1=sI,oI="SpotlightBrowser",iI=(e={})=>{const t=e.sidecarUrl||"http://localhost:8969/stream";return{name:oI,setup:()=>{Y&&y.log("Using Sidecar URL",t)},processEvent:n=>cI(n)?null:n,afterAllSetup:n=>{aI(n,t)}}};function aI(e,t){const n=xi("fetch");let r=0;e.on("beforeEnvelope",s=>{if(r>3){y.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",r);return}n(t,{method:"POST",body:as(s),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(o=>{o.status>=200&&o.status<400&&(r=0)},o=>{r++,y.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",o)})})}const t1=iI;function cI(e){return!!(e.type==="transaction"&&e.spans&&e.contexts&&e.contexts.trace&&e.contexts.trace.op==="ui.action.click"&&e.spans.some(({description:t})=>t&&t.includes("#sentry-spotlight")))}const uI=100;function Ws(e){const n=B().getScopeData().contexts.flags,r=n?n.values:[];return r.length&&(e.contexts===void 0&&(e.contexts={}),e.contexts.flags={values:[...r]}),e}function rr(e,t,n=uI){const r=B().getScopeData().contexts;r.flags||(r.flags={values:[]});const s=r.flags.values;lI(s,e,t,n)}function lI(e,t,n,r){if(typeof n!="boolean")return;if(e.length>r){Y&&y.error(`[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=${r}`);return}const s=e.findIndex(o=>o.flag===t);s!==-1&&e.splice(s,1),e.length===r&&e.shift(),e.push({flag:t,result:n})}const n1=()=>({name:"FeatureFlags",processEvent(e,t,n){return Ws(e)},addFeatureFlag(e,t){rr(e,t)}}),r1=()=>({name:"LaunchDarkly",processEvent(e,t,n){return Ws(e)}});function s1(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(e,t,n)=>{rr(e,t.value)}}}const o1=()=>({name:"OpenFeature",processEvent(e,t,n){return Ws(e)}});class i1{after(t,n){rr(n.flagKey,n.value)}error(t,n,r){rr(t.flagKey,t.defaultValue)}}const a1=({unleashClientClass:e})=>({name:"Unleash",processEvent(t,n,r){return Ws(t)},setupOnce(){const t=e.prototype;ke(t,"isEnabled",dI)}});function dI(e){return function(...t){const n=t[0],r=e.apply(this,t);return typeof n=="string"&&typeof r=="boolean"?rr(n,r):Y&&y.error(`[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ${n} (${typeof n}), result: ${r} (${typeof r})`),r}}export{Mg as BrowserClient,i1 as OpenFeatureIntegrationHook,It as SDK_VERSION,Qt as SEMANTIC_ATTRIBUTE_SENTRY_OP,Se as SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,du as SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,qe as SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,At as Scope,k as WINDOW,ut as addBreadcrumb,Jp as addEventProcessor,Ta as addIntegration,hI as addTracingExtensions,py as breadcrumbsIntegration,Iy as browserApiErrorsIntegration,e1 as browserProfilingIntegration,Ry as browserSessionIntegration,ZI as browserTracingIntegration,s1 as buildLaunchDarklyFlagUsedHandler,kI as captureConsoleIntegration,ur as captureEvent,_i as captureException,ng as captureFeedback,Co as captureMessage,va as captureSession,BI as captureUserFeedback,Z_ as chromeStackLineParser,EI as close,jI as contextLinesIntegration,_I as continueTrace,mh as createTransport,xg as createUserFeedbackEnvelope,CI as debugIntegration,tm as dedupeIntegration,Zr as defaultRequestInstrumentationOptions,uy as defaultStackLineParsers,ly as defaultStackParser,cs as endSession,wg as eventFromException,Ig as eventFromMessage,vi as exceptionFromError,xI as extraErrorDataIntegration,n1 as featureFlagsIntegration,XI as feedbackAsyncIntegration,KI as feedbackIntegration,KI as feedbackSyncIntegration,bI as flush,HI as forceLoad,Ch as functionToStringIntegration,ny as geckoStackLineParser,he as getActiveSpan,x as getClient,DI as getCurrentHub,B as getCurrentScope,jy as getDefaultIntegrations,VI as getFeedback,lu as getGlobalScope,ye as getIsolationScope,GI as getReplay,ge as getRootSpan,Ur as getSpanDescendants,Nf as getSpanStatusFromHttpCode,Oy as globalHandlersIntegration,zI as httpClientIntegration,$y as httpContextIntegration,Ah as inboundFiltersIntegration,FI as init,Sw as instrumentOutgoingRequests,vI as isInitialized,Xp as lastEventId,r1 as launchDarklyIntegration,Vy as lazyLoadIntegration,zy as linkedErrorsIntegration,QI as makeBrowserOfflineTransport,Rl as makeFetchTransport,wI as makeMultiplexedTransport,JI as metrics,TI as moduleMetadataIntegration,UI as onLoad,o1 as openFeatureIntegration,LI as opera10StackLineParser,PI as opera11StackLineParser,II as parameterize,Iu as registerSpanErrorInstrumentation,YI as replayCanvasIntegration,qI as replayIntegration,WI as reportingObserverIntegration,RI as rewriteFramesIntegration,v0 as sendFeedback,MI as sessionTimingIntegration,Hu as setContext,lh as setCurrentClient,qp as setExtra,jp as setExtras,pu as setHttpStatus,_p as setMeasurement,Yp as setTag,Gp as setTags,Vp as setUser,$I as showReportDialog,mI as spanToBaggageHeader,W as spanToJSON,Wf as spanToTraceHeader,t1 as spotlightBrowserIntegration,Mw as startBrowserTracingNavigationSpan,Rw as startBrowserTracingPageLoadSpan,ar as startInactiveSpan,SI as startNewTrace,xo as startSession,gI as startSpan,bp as startSpanManual,yI as suppressTracing,OI as thirdPartyErrorFilterIntegration,a1 as unleashIntegration,pI as updateSpanName,NI as winjsStackLineParser,xs as withActiveSpan,fI as withIsolationScope,Ge as withScope,AI as zodErrorsIntegration};
//# sourceMappingURL=chunk-BEqCy18t.js.map
